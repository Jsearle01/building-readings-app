(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function vm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var vc={exports:{}},mr={},yc={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th;function sv(){if(Th)return Te;Th=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function N(C,E,G){this.props=C,this.context=E,this.refs=_,this.updater=G||S}N.prototype.isReactComponent={},N.prototype.setState=function(C,E){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,E,"setState")},N.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function P(){}P.prototype=N.prototype;function B(C,E,G){this.props=C,this.context=E,this.refs=_,this.updater=G||S}var $=B.prototype=new P;$.constructor=B,k($,N.prototype),$.isPureReactComponent=!0;var D=Array.isArray,R=Object.prototype.hasOwnProperty,L={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function Z(C,E,G){var oe,ie={},ue=null,je=null;if(E!=null)for(oe in E.ref!==void 0&&(je=E.ref),E.key!==void 0&&(ue=""+E.key),E)R.call(E,oe)&&!W.hasOwnProperty(oe)&&(ie[oe]=E[oe]);var Pe=arguments.length-2;if(Pe===1)ie.children=G;else if(1<Pe){for(var ge=Array(Pe),Xe=0;Xe<Pe;Xe++)ge[Xe]=arguments[Xe+2];ie.children=ge}if(C&&C.defaultProps)for(oe in Pe=C.defaultProps,Pe)ie[oe]===void 0&&(ie[oe]=Pe[oe]);return{$$typeof:i,type:C,key:ue,ref:je,props:ie,_owner:L.current}}function fe(C,E){return{$$typeof:i,type:C.type,key:E,ref:C.ref,props:C.props,_owner:C._owner}}function be(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function ye(C){var E={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(G){return E[G]})}var re=/\/+/g;function Me(C,E){return typeof C=="object"&&C!==null&&C.key!=null?ye(""+C.key):E.toString(36)}function ee(C,E,G,oe,ie){var ue=typeof C;(ue==="undefined"||ue==="boolean")&&(C=null);var je=!1;if(C===null)je=!0;else switch(ue){case"string":case"number":je=!0;break;case"object":switch(C.$$typeof){case i:case e:je=!0}}if(je)return je=C,ie=ie(je),C=oe===""?"."+Me(je,0):oe,D(ie)?(G="",C!=null&&(G=C.replace(re,"$&/")+"/"),ee(ie,E,G,"",function(Xe){return Xe})):ie!=null&&(be(ie)&&(ie=fe(ie,G+(!ie.key||je&&je.key===ie.key?"":(""+ie.key).replace(re,"$&/")+"/")+C)),E.push(ie)),1;if(je=0,oe=oe===""?".":oe+":",D(C))for(var Pe=0;Pe<C.length;Pe++){ue=C[Pe];var ge=oe+Me(ue,Pe);je+=ee(ue,E,G,ge,ie)}else if(ge=w(C),typeof ge=="function")for(C=ge.call(C),Pe=0;!(ue=C.next()).done;)ue=ue.value,ge=oe+Me(ue,Pe++),je+=ee(ue,E,G,ge,ie);else if(ue==="object")throw E=String(C),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.");return je}function se(C,E,G){if(C==null)return C;var oe=[],ie=0;return ee(C,oe,"","",function(ue){return E.call(G,ue,ie++)}),oe}function ce(C){if(C._status===-1){var E=C._result;E=E(),E.then(function(G){(C._status===0||C._status===-1)&&(C._status=1,C._result=G)},function(G){(C._status===0||C._status===-1)&&(C._status=2,C._result=G)}),C._status===-1&&(C._status=0,C._result=E)}if(C._status===1)return C._result.default;throw C._result}var Q={current:null},I={transition:null},H={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:I,ReactCurrentOwner:L};function U(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:se,forEach:function(C,E,G){se(C,function(){E.apply(this,arguments)},G)},count:function(C){var E=0;return se(C,function(){E++}),E},toArray:function(C){return se(C,function(E){return E})||[]},only:function(C){if(!be(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Te.Component=N,Te.Fragment=t,Te.Profiler=o,Te.PureComponent=B,Te.StrictMode=r,Te.Suspense=f,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Te.act=U,Te.cloneElement=function(C,E,G){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var oe=k({},C.props),ie=C.key,ue=C.ref,je=C._owner;if(E!=null){if(E.ref!==void 0&&(ue=E.ref,je=L.current),E.key!==void 0&&(ie=""+E.key),C.type&&C.type.defaultProps)var Pe=C.type.defaultProps;for(ge in E)R.call(E,ge)&&!W.hasOwnProperty(ge)&&(oe[ge]=E[ge]===void 0&&Pe!==void 0?Pe[ge]:E[ge])}var ge=arguments.length-2;if(ge===1)oe.children=G;else if(1<ge){Pe=Array(ge);for(var Xe=0;Xe<ge;Xe++)Pe[Xe]=arguments[Xe+2];oe.children=Pe}return{$$typeof:i,type:C.type,key:ie,ref:ue,props:oe,_owner:je}},Te.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:l,_context:C},C.Consumer=C},Te.createElement=Z,Te.createFactory=function(C){var E=Z.bind(null,C);return E.type=C,E},Te.createRef=function(){return{current:null}},Te.forwardRef=function(C){return{$$typeof:h,render:C}},Te.isValidElement=be,Te.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:ce}},Te.memo=function(C,E){return{$$typeof:p,type:C,compare:E===void 0?null:E}},Te.startTransition=function(C){var E=I.transition;I.transition={};try{C()}finally{I.transition=E}},Te.unstable_act=U,Te.useCallback=function(C,E){return Q.current.useCallback(C,E)},Te.useContext=function(C){return Q.current.useContext(C)},Te.useDebugValue=function(){},Te.useDeferredValue=function(C){return Q.current.useDeferredValue(C)},Te.useEffect=function(C,E){return Q.current.useEffect(C,E)},Te.useId=function(){return Q.current.useId()},Te.useImperativeHandle=function(C,E,G){return Q.current.useImperativeHandle(C,E,G)},Te.useInsertionEffect=function(C,E){return Q.current.useInsertionEffect(C,E)},Te.useLayoutEffect=function(C,E){return Q.current.useLayoutEffect(C,E)},Te.useMemo=function(C,E){return Q.current.useMemo(C,E)},Te.useReducer=function(C,E,G){return Q.current.useReducer(C,E,G)},Te.useRef=function(C){return Q.current.useRef(C)},Te.useState=function(C){return Q.current.useState(C)},Te.useSyncExternalStore=function(C,E,G){return Q.current.useSyncExternalStore(C,E,G)},Te.useTransition=function(){return Q.current.useTransition()},Te.version="18.3.1",Te}var Dh;function Yc(){return Dh||(Dh=1,yc.exports=sv()),yc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh;function rv(){if(Eh)return mr;Eh=1;var i=Yc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,p){var g,y={},w=null,S=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(S=f.ref);for(g in f)r.call(f,g)&&!l.hasOwnProperty(g)&&(y[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:e,type:h,key:w,ref:S,props:y,_owner:o.current}}return mr.Fragment=t,mr.jsx=c,mr.jsxs=c,mr}var Rh;function ov(){return Rh||(Rh=1,vc.exports=rv()),vc.exports}var u=ov(),Y=Yc();const gi=vm(Y);var Xo={},xc={exports:{}},It={},bc={exports:{}},wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh;function av(){return Oh||(Oh=1,(function(i){function e(I,H){var U=I.length;I.push(H);e:for(;0<U;){var C=U-1>>>1,E=I[C];if(0<o(E,H))I[C]=H,I[U]=E,U=C;else break e}}function t(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var H=I[0],U=I.pop();if(U!==H){I[0]=U;e:for(var C=0,E=I.length,G=E>>>1;C<G;){var oe=2*(C+1)-1,ie=I[oe],ue=oe+1,je=I[ue];if(0>o(ie,U))ue<E&&0>o(je,ie)?(I[C]=je,I[ue]=U,C=ue):(I[C]=ie,I[oe]=U,C=oe);else if(ue<E&&0>o(je,U))I[C]=je,I[ue]=U,C=ue;else break e}}return H}function o(I,H){var U=I.sortIndex-H.sortIndex;return U!==0?U:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var f=[],p=[],g=1,y=null,w=3,S=!1,k=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(I){for(var H=t(p);H!==null;){if(H.callback===null)r(p);else if(H.startTime<=I)r(p),H.sortIndex=H.expirationTime,e(f,H);else break;H=t(p)}}function D(I){if(_=!1,$(I),!k)if(t(f)!==null)k=!0,ce(R);else{var H=t(p);H!==null&&Q(D,H.startTime-I)}}function R(I,H){k=!1,_&&(_=!1,P(Z),Z=-1),S=!0;var U=w;try{for($(H),y=t(f);y!==null&&(!(y.expirationTime>H)||I&&!ye());){var C=y.callback;if(typeof C=="function"){y.callback=null,w=y.priorityLevel;var E=C(y.expirationTime<=H);H=i.unstable_now(),typeof E=="function"?y.callback=E:y===t(f)&&r(f),$(H)}else r(f);y=t(f)}if(y!==null)var G=!0;else{var oe=t(p);oe!==null&&Q(D,oe.startTime-H),G=!1}return G}finally{y=null,w=U,S=!1}}var L=!1,W=null,Z=-1,fe=5,be=-1;function ye(){return!(i.unstable_now()-be<fe)}function re(){if(W!==null){var I=i.unstable_now();be=I;var H=!0;try{H=W(!0,I)}finally{H?Me():(L=!1,W=null)}}else L=!1}var Me;if(typeof B=="function")Me=function(){B(re)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,se=ee.port2;ee.port1.onmessage=re,Me=function(){se.postMessage(null)}}else Me=function(){N(re,0)};function ce(I){W=I,L||(L=!0,Me())}function Q(I,H){Z=N(function(){I(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(I){I.callback=null},i.unstable_continueExecution=function(){k||S||(k=!0,ce(R))},i.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<I?Math.floor(1e3/I):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return t(f)},i.unstable_next=function(I){switch(w){case 1:case 2:case 3:var H=3;break;default:H=w}var U=w;w=H;try{return I()}finally{w=U}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=w;w=I;try{return H()}finally{w=U}},i.unstable_scheduleCallback=function(I,H,U){var C=i.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?C+U:C):U=C,I){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=U+E,I={id:g++,callback:H,priorityLevel:I,startTime:U,expirationTime:E,sortIndex:-1},U>C?(I.sortIndex=U,e(p,I),t(f)===null&&I===t(p)&&(_?(P(Z),Z=-1):_=!0,Q(D,U-C))):(I.sortIndex=E,e(f,I),k||S||(k=!0,ce(R))),I},i.unstable_shouldYield=ye,i.unstable_wrapCallback=function(I){var H=w;return function(){var U=w;w=H;try{return I.apply(this,arguments)}finally{w=U}}}})(wc)),wc}var Ah;function lv(){return Ah||(Ah=1,bc.exports=av()),bc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh;function cv(){if(Lh)return It;Lh=1;var i=Yc(),e=lv();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(n,s){c(n,s),c(n+"Capture",s)}function c(n,s){for(o[n]=s,n=0;n<s.length;n++)r.add(s[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(n){return f.call(y,n)?!0:f.call(g,n)?!1:p.test(n)?y[n]=!0:(g[n]=!0,!1)}function S(n,s,a,d){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,s,a,d){if(s===null||typeof s>"u"||S(n,s,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _(n,s,a,d,m,v,b){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=v,this.removeEmptyString=b}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){N[n]=new _(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];N[s]=new _(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){N[n]=new _(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){N[n]=new _(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){N[n]=new _(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){N[n]=new _(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){N[n]=new _(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){N[n]=new _(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){N[n]=new _(n,5,!1,n.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function B(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(P,B);N[s]=new _(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(P,B);N[s]=new _(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(P,B);N[s]=new _(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){N[n]=new _(n,1,!1,n.toLowerCase(),null,!1,!1)}),N.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){N[n]=new _(n,1,!1,n.toLowerCase(),null,!0,!0)});function $(n,s,a,d){var m=N.hasOwnProperty(s)?N[s]:null;(m!==null?m.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,a,m,d)&&(a=null),d||m===null?w(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):m.mustUseProperty?n[m.propertyName]=a===null?m.type===3?!1:"":a:(s=m.attributeName,d=m.attributeNamespace,a===null?n.removeAttribute(s):(m=m.type,a=m===3||m===4&&a===!0?"":""+a,d?n.setAttributeNS(d,s,a):n.setAttribute(s,a))))}var D=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),L=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),be=Symbol.for("react.provider"),ye=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),I=Symbol.iterator;function H(n){return n===null||typeof n!="object"?null:(n=I&&n[I]||n["@@iterator"],typeof n=="function"?n:null)}var U=Object.assign,C;function E(n){if(C===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);C=s&&s[1]||""}return`
`+C+n}var G=!1;function oe(n,s){if(!n||G)return"";G=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(F){var d=F}Reflect.construct(n,[],s)}else{try{s.call()}catch(F){d=F}n.call(s.prototype)}else{try{throw Error()}catch(F){d=F}n()}}catch(F){if(F&&d&&typeof F.stack=="string"){for(var m=F.stack.split(`
`),v=d.stack.split(`
`),b=m.length-1,j=v.length-1;1<=b&&0<=j&&m[b]!==v[j];)j--;for(;1<=b&&0<=j;b--,j--)if(m[b]!==v[j]){if(b!==1||j!==1)do if(b--,j--,0>j||m[b]!==v[j]){var M=`
`+m[b].replace(" at new "," at ");return n.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",n.displayName)),M}while(1<=b&&0<=j);break}}}finally{G=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?E(n):""}function ie(n){switch(n.tag){case 5:return E(n.type);case 16:return E("Lazy");case 13:return E("Suspense");case 19:return E("SuspenseList");case 0:case 2:case 15:return n=oe(n.type,!1),n;case 11:return n=oe(n.type.render,!1),n;case 1:return n=oe(n.type,!0),n;default:return""}}function ue(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case W:return"Fragment";case L:return"Portal";case fe:return"Profiler";case Z:return"StrictMode";case Me:return"Suspense";case ee:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ye:return(n.displayName||"Context")+".Consumer";case be:return(n._context.displayName||"Context")+".Provider";case re:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case se:return s=n.displayName||null,s!==null?s:ue(n.type)||"Memo";case ce:s=n._payload,n=n._init;try{return ue(n(s))}catch{}}return null}function je(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(s);case 8:return s===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Pe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ge(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xe(n){var s=ge(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,v=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return m.call(this)},set:function(b){d=""+b,v.call(this,b)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ot(n){n._valueTracker||(n._valueTracker=Xe(n))}function bi(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),d="";return n&&(d=ge(n)?n.checked?"true":"false":n.value),n=d,n!==a?(s.setValue(n),!0):!1}function Bn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Vt(n,s){var a=s.checked;return U({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function V(n,s){var a=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;a=Pe(s.value!=null?s.value:a),n._wrapperState={initialChecked:d,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function te(n,s){s=s.checked,s!=null&&$(n,"checked",s,!1)}function ae(n,s){te(n,s);var a=Pe(s.value),d=s.type;if(a!=null)d==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?pe(n,s.type,a):s.hasOwnProperty("defaultValue")&&pe(n,s.type,Pe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function le(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function pe(n,s,a){(s!=="number"||Bn(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var q=Array.isArray;function ke(n,s,a,d){if(n=n.options,s){s={};for(var m=0;m<a.length;m++)s["$"+a[m]]=!0;for(a=0;a<n.length;a++)m=s.hasOwnProperty("$"+n[a].value),n[a].selected!==m&&(n[a].selected=m),m&&d&&(n[a].defaultSelected=!0)}else{for(a=""+Pe(a),s=null,m=0;m<n.length;m++){if(n[m].value===a){n[m].selected=!0,d&&(n[m].defaultSelected=!0);return}s!==null||n[m].disabled||(s=n[m])}s!==null&&(s.selected=!0)}}function ut(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return U({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ce(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(q(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:Pe(a)}}function Ge(n,s){var a=Pe(s.value),d=Pe(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),d!=null&&(n.defaultValue=""+d)}function gt(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function wi(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nt(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?wi(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var vt,Ye=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,d,m){MSApp.execUnsafeLocalFunction(function(){return n(s,a,d,m)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(vt=vt||document.createElement("div"),vt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=vt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Je(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Ve={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ms=["Webkit","ms","Moz","O"];Object.keys(Ve).forEach(function(n){Ms.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Ve[s]=Ve[n]})});function Ma(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ve.hasOwnProperty(n)&&Ve[n]?(""+s).trim():s+"px"}function Ta(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var d=a.indexOf("--")===0,m=Ma(a,s[a],d);a==="float"&&(a="cssFloat"),d?n.setProperty(a,m):n[a]=m}}var dt=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dt(n,s){if(s){if(dt[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ts(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ki=null;function Si(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ds=null,rn=null,pn=null;function Da(n){if(n=Zs(n)){if(typeof Ds!="function")throw Error(t(280));var s=n.stateNode;s&&(s=uo(s),Ds(n.stateNode,n.type,s))}}function zr(n){rn?pn?pn.push(n):pn=[n]:rn=n}function Es(){if(rn){var n=rn,s=pn;if(pn=rn=null,Da(n),s)for(n=0;n<s.length;n++)Da(s[n])}}function Br(n,s){return n(s)}function $r(){}var Xi=!1;function Vr(n,s,a){if(Xi)return n(s,a);Xi=!0;try{return Br(n,s,a)}finally{Xi=!1,(rn!==null||pn!==null)&&($r(),Es())}}function $n(n,s){var a=n.stateNode;if(a===null)return null;var d=uo(a);if(d===null)return null;a=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Rs=!1;if(h)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Rs=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Rs=!1}function Ea(n,s,a,d,m,v,b,j,M){var F=Array.prototype.slice.call(arguments,3);try{s.apply(a,F)}catch(X){this.onError(X)}}var Un=!1,_i=null,ji=!1,Gi=null,Ra={onError:function(n){Un=!0,_i=n}};function Oa(n,s,a,d,m,v,b,j,M){Un=!1,_i=null,Ea.apply(Ra,arguments)}function ki(n,s,a,d,m,v,b,j,M){if(Oa.apply(this,arguments),Un){if(Un){var F=_i;Un=!1,_i=null}else throw Error(t(198));ji||(ji=!0,Gi=F)}}function Nn(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Ur(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Wr(n){if(Nn(n)!==n)throw Error(t(188))}function Aa(n){var s=n.alternate;if(!s){if(s=Nn(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,d=s;;){var m=a.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){a=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===a)return Wr(m),n;if(v===d)return Wr(m),s;v=v.sibling}throw Error(t(188))}if(a.return!==d.return)a=m,d=v;else{for(var b=!1,j=m.child;j;){if(j===a){b=!0,a=m,d=v;break}if(j===d){b=!0,d=m,a=v;break}j=j.sibling}if(!b){for(j=v.child;j;){if(j===a){b=!0,a=v,d=m;break}if(j===d){b=!0,d=v,a=m;break}j=j.sibling}if(!b)throw Error(t(189))}}if(a.alternate!==d)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function Cn(n){return n=Aa(n),n!==null?Ct(n):null}function Ct(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Ct(n);if(s!==null)return s;n=n.sibling}return null}var Os=e.unstable_scheduleCallback,Wn=e.unstable_cancelCallback,La=e.unstable_shouldYield,Fa=e.unstable_requestPaint,x=e.unstable_now,z=e.unstable_getCurrentPriorityLevel,we=e.unstable_ImmediatePriority,Be=e.unstable_UserBlockingPriority,at=e.unstable_NormalPriority,it=e.unstable_LowPriority,gn=e.unstable_IdlePriority,Pt=null,Qt=null;function Hr(n){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Pt,n,void 0,(n.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:Sp,bp=Math.log,wp=Math.LN2;function Sp(n){return n>>>=0,n===0?32:31-(bp(n)/wp|0)|0}var Yr=64,qr=4194304;function As(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Qr(n,s){var a=n.pendingLanes;if(a===0)return 0;var d=0,m=n.suspendedLanes,v=n.pingedLanes,b=a&268435455;if(b!==0){var j=b&~m;j!==0?d=As(j):(v&=b,v!==0&&(d=As(v)))}else b=a&~m,b!==0?d=As(b):v!==0&&(d=As(v));if(d===0)return 0;if(s!==0&&s!==d&&(s&m)===0&&(m=d&-d,v=s&-s,m>=v||m===16&&(v&4194240)!==0))return s;if((d&4)!==0&&(d|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=d;0<s;)a=31-Et(s),m=1<<a,d|=n[a],s&=~m;return d}function _p(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jp(n,s){for(var a=n.suspendedLanes,d=n.pingedLanes,m=n.expirationTimes,v=n.pendingLanes;0<v;){var b=31-Et(v),j=1<<b,M=m[b];M===-1?((j&a)===0||(j&d)!==0)&&(m[b]=_p(j,s)):M<=s&&(n.expiredLanes|=j),v&=~j}}function Ia(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function au(){var n=Yr;return Yr<<=1,(Yr&4194240)===0&&(Yr=64),n}function za(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Ls(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Et(s),n[s]=a}function kp(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<a;){var m=31-Et(a),v=1<<m;s[m]=0,d[m]=-1,n[m]=-1,a&=~v}}function Ba(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var d=31-Et(a),m=1<<d;m&s|n[d]&s&&(n[d]|=s),a&=~m}}var Fe=0;function lu(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var cu,$a,uu,du,hu,Va=!1,Kr=[],Hn=null,Yn=null,qn=null,Fs=new Map,Is=new Map,Qn=[],Np="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fu(n,s){switch(n){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Fs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Is.delete(s.pointerId)}}function zs(n,s,a,d,m,v){return n===null||n.nativeEvent!==v?(n={blockedOn:s,domEventName:a,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},s!==null&&(s=Zs(s),s!==null&&$a(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),n)}function Cp(n,s,a,d,m){switch(s){case"focusin":return Hn=zs(Hn,n,s,a,d,m),!0;case"dragenter":return Yn=zs(Yn,n,s,a,d,m),!0;case"mouseover":return qn=zs(qn,n,s,a,d,m),!0;case"pointerover":var v=m.pointerId;return Fs.set(v,zs(Fs.get(v)||null,n,s,a,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Is.set(v,zs(Is.get(v)||null,n,s,a,d,m)),!0}return!1}function mu(n){var s=Ni(n.target);if(s!==null){var a=Nn(s);if(a!==null){if(s=a.tag,s===13){if(s=Ur(a),s!==null){n.blockedOn=s,hu(n.priority,function(){uu(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xr(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Wa(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var d=new a.constructor(a.type,a);Ki=d,a.target.dispatchEvent(d),Ki=null}else return s=Zs(a),s!==null&&$a(s),n.blockedOn=a,!1;s.shift()}return!0}function pu(n,s,a){Xr(n)&&a.delete(s)}function Pp(){Va=!1,Hn!==null&&Xr(Hn)&&(Hn=null),Yn!==null&&Xr(Yn)&&(Yn=null),qn!==null&&Xr(qn)&&(qn=null),Fs.forEach(pu),Is.forEach(pu)}function Bs(n,s){n.blockedOn===s&&(n.blockedOn=null,Va||(Va=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pp)))}function $s(n){function s(m){return Bs(m,n)}if(0<Kr.length){Bs(Kr[0],n);for(var a=1;a<Kr.length;a++){var d=Kr[a];d.blockedOn===n&&(d.blockedOn=null)}}for(Hn!==null&&Bs(Hn,n),Yn!==null&&Bs(Yn,n),qn!==null&&Bs(qn,n),Fs.forEach(s),Is.forEach(s),a=0;a<Qn.length;a++)d=Qn[a],d.blockedOn===n&&(d.blockedOn=null);for(;0<Qn.length&&(a=Qn[0],a.blockedOn===null);)mu(a),a.blockedOn===null&&Qn.shift()}var Ji=D.ReactCurrentBatchConfig,Gr=!0;function Mp(n,s,a,d){var m=Fe,v=Ji.transition;Ji.transition=null;try{Fe=1,Ua(n,s,a,d)}finally{Fe=m,Ji.transition=v}}function Tp(n,s,a,d){var m=Fe,v=Ji.transition;Ji.transition=null;try{Fe=4,Ua(n,s,a,d)}finally{Fe=m,Ji.transition=v}}function Ua(n,s,a,d){if(Gr){var m=Wa(n,s,a,d);if(m===null)al(n,s,d,Jr,a),fu(n,d);else if(Cp(m,n,s,a,d))d.stopPropagation();else if(fu(n,d),s&4&&-1<Np.indexOf(n)){for(;m!==null;){var v=Zs(m);if(v!==null&&cu(v),v=Wa(n,s,a,d),v===null&&al(n,s,d,Jr,a),v===m)break;m=v}m!==null&&d.stopPropagation()}else al(n,s,d,null,a)}}var Jr=null;function Wa(n,s,a,d){if(Jr=null,n=Si(d),n=Ni(n),n!==null)if(s=Nn(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Ur(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Jr=n,null}function gu(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z()){case we:return 1;case Be:return 4;case at:case it:return 16;case gn:return 536870912;default:return 16}default:return 16}}var Kn=null,Ha=null,Zr=null;function vu(){if(Zr)return Zr;var n,s=Ha,a=s.length,d,m="value"in Kn?Kn.value:Kn.textContent,v=m.length;for(n=0;n<a&&s[n]===m[n];n++);var b=a-n;for(d=1;d<=b&&s[a-d]===m[v-d];d++);return Zr=m.slice(n,1<d?1-d:void 0)}function eo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function to(){return!0}function yu(){return!1}function Ut(n){function s(a,d,m,v,b){this._reactName=a,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var j in n)n.hasOwnProperty(j)&&(a=n[j],this[j]=a?a(v):v[j]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?to:yu,this.isPropagationStopped=yu,this}return U(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=to)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=to)},persist:function(){},isPersistent:to}),s}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=Ut(Zi),Vs=U({},Zi,{view:0,detail:0}),Dp=Ut(Vs),qa,Qa,Us,no=U({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Us&&(Us&&n.type==="mousemove"?(qa=n.screenX-Us.screenX,Qa=n.screenY-Us.screenY):Qa=qa=0,Us=n),qa)},movementY:function(n){return"movementY"in n?n.movementY:Qa}}),xu=Ut(no),Ep=U({},no,{dataTransfer:0}),Rp=Ut(Ep),Op=U({},Vs,{relatedTarget:0}),Ka=Ut(Op),Ap=U({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Lp=Ut(Ap),Fp=U({},Zi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ip=Ut(Fp),zp=U({},Zi,{data:0}),bu=Ut(zp),Bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$p={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Up(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Vp[n])?!!s[n]:!1}function Xa(){return Up}var Wp=U({},Vs,{key:function(n){if(n.key){var s=Bp[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=eo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$p[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(n){return n.type==="keypress"?eo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?eo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Hp=Ut(Wp),Yp=U({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wu=Ut(Yp),qp=U({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),Qp=Ut(qp),Kp=U({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xp=Ut(Kp),Gp=U({},no,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Jp=Ut(Gp),Zp=[9,13,27,32],Ga=h&&"CompositionEvent"in window,Ws=null;h&&"documentMode"in document&&(Ws=document.documentMode);var eg=h&&"TextEvent"in window&&!Ws,Su=h&&(!Ga||Ws&&8<Ws&&11>=Ws),_u=" ",ju=!1;function ku(n,s){switch(n){case"keyup":return Zp.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nu(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var es=!1;function tg(n,s){switch(n){case"compositionend":return Nu(s);case"keypress":return s.which!==32?null:(ju=!0,_u);case"textInput":return n=s.data,n===_u&&ju?null:n;default:return null}}function ng(n,s){if(es)return n==="compositionend"||!Ga&&ku(n,s)?(n=vu(),Zr=Ha=Kn=null,es=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Su&&s.locale!=="ko"?null:s.data;default:return null}}var ig={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cu(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!ig[n.type]:s==="textarea"}function Pu(n,s,a,d){zr(d),s=ao(s,"onChange"),0<s.length&&(a=new Ya("onChange","change",null,a,d),n.push({event:a,listeners:s}))}var Hs=null,Ys=null;function sg(n){Yu(n,0)}function io(n){var s=rs(n);if(bi(s))return n}function rg(n,s){if(n==="change")return s}var Mu=!1;if(h){var Ja;if(h){var Za="oninput"in document;if(!Za){var Tu=document.createElement("div");Tu.setAttribute("oninput","return;"),Za=typeof Tu.oninput=="function"}Ja=Za}else Ja=!1;Mu=Ja&&(!document.documentMode||9<document.documentMode)}function Du(){Hs&&(Hs.detachEvent("onpropertychange",Eu),Ys=Hs=null)}function Eu(n){if(n.propertyName==="value"&&io(Ys)){var s=[];Pu(s,Ys,n,Si(n)),Vr(sg,s)}}function og(n,s,a){n==="focusin"?(Du(),Hs=s,Ys=a,Hs.attachEvent("onpropertychange",Eu)):n==="focusout"&&Du()}function ag(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return io(Ys)}function lg(n,s){if(n==="click")return io(s)}function cg(n,s){if(n==="input"||n==="change")return io(s)}function ug(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var on=typeof Object.is=="function"?Object.is:ug;function qs(n,s){if(on(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),d=Object.keys(s);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var m=a[d];if(!f.call(s,m)||!on(n[m],s[m]))return!1}return!0}function Ru(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ou(n,s){var a=Ru(n);n=0;for(var d;a;){if(a.nodeType===3){if(d=n+a.textContent.length,n<=s&&d>=s)return{node:a,offset:s-n};n=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ru(a)}}function Au(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Au(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Lu(){for(var n=window,s=Bn();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Bn(n.document)}return s}function el(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function dg(n){var s=Lu(),a=n.focusedElem,d=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&Au(a.ownerDocument.documentElement,a)){if(d!==null&&el(a)){if(s=d.start,n=d.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var m=a.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!n.extend&&v>d&&(m=d,d=v,v=m),m=Ou(a,v);var b=Ou(a,d);m&&b&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==b.node||n.focusOffset!==b.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),n.removeAllRanges(),v>d?(n.addRange(s),n.extend(b.node,b.offset)):(s.setEnd(b.node,b.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var hg=h&&"documentMode"in document&&11>=document.documentMode,ts=null,tl=null,Qs=null,nl=!1;function Fu(n,s,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nl||ts==null||ts!==Bn(d)||(d=ts,"selectionStart"in d&&el(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Qs&&qs(Qs,d)||(Qs=d,d=ao(tl,"onSelect"),0<d.length&&(s=new Ya("onSelect","select",null,s,a),n.push({event:s,listeners:d}),s.target=ts)))}function so(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var ns={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionend:so("Transition","TransitionEnd")},il={},Iu={};h&&(Iu=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function ro(n){if(il[n])return il[n];if(!ns[n])return n;var s=ns[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Iu)return il[n]=s[a];return n}var zu=ro("animationend"),Bu=ro("animationiteration"),$u=ro("animationstart"),Vu=ro("transitionend"),Uu=new Map,Wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(n,s){Uu.set(n,s),l(s,[n])}for(var sl=0;sl<Wu.length;sl++){var rl=Wu[sl],fg=rl.toLowerCase(),mg=rl[0].toUpperCase()+rl.slice(1);Xn(fg,"on"+mg)}Xn(zu,"onAnimationEnd"),Xn(Bu,"onAnimationIteration"),Xn($u,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Vu,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ks));function Hu(n,s,a){var d=n.type||"unknown-event";n.currentTarget=a,ki(d,s,void 0,n),n.currentTarget=null}function Yu(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var d=n[a],m=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var b=d.length-1;0<=b;b--){var j=d[b],M=j.instance,F=j.currentTarget;if(j=j.listener,M!==v&&m.isPropagationStopped())break e;Hu(m,j,F),v=M}else for(b=0;b<d.length;b++){if(j=d[b],M=j.instance,F=j.currentTarget,j=j.listener,M!==v&&m.isPropagationStopped())break e;Hu(m,j,F),v=M}}}if(ji)throw n=Gi,ji=!1,Gi=null,n}function Ue(n,s){var a=s[fl];a===void 0&&(a=s[fl]=new Set);var d=n+"__bubble";a.has(d)||(qu(s,n,2,!1),a.add(d))}function ol(n,s,a){var d=0;s&&(d|=4),qu(a,n,d,s)}var oo="_reactListening"+Math.random().toString(36).slice(2);function Xs(n){if(!n[oo]){n[oo]=!0,r.forEach(function(a){a!=="selectionchange"&&(pg.has(a)||ol(a,!1,n),ol(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[oo]||(s[oo]=!0,ol("selectionchange",!1,s))}}function qu(n,s,a,d){switch(gu(s)){case 1:var m=Mp;break;case 4:m=Tp;break;default:m=Ua}a=m.bind(null,s,a,n),m=void 0,!Rs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?n.addEventListener(s,a,{capture:!0,passive:m}):n.addEventListener(s,a,!0):m!==void 0?n.addEventListener(s,a,{passive:m}):n.addEventListener(s,a,!1)}function al(n,s,a,d,m){var v=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var j=d.stateNode.containerInfo;if(j===m||j.nodeType===8&&j.parentNode===m)break;if(b===4)for(b=d.return;b!==null;){var M=b.tag;if((M===3||M===4)&&(M=b.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;b=b.return}for(;j!==null;){if(b=Ni(j),b===null)return;if(M=b.tag,M===5||M===6){d=v=b;continue e}j=j.parentNode}}d=d.return}Vr(function(){var F=v,X=Si(a),J=[];e:{var K=Uu.get(n);if(K!==void 0){var de=Ya,me=n;switch(n){case"keypress":if(eo(a)===0)break e;case"keydown":case"keyup":de=Hp;break;case"focusin":me="focus",de=Ka;break;case"focusout":me="blur",de=Ka;break;case"beforeblur":case"afterblur":de=Ka;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Rp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Qp;break;case zu:case Bu:case $u:de=Lp;break;case Vu:de=Xp;break;case"scroll":de=Dp;break;case"wheel":de=Jp;break;case"copy":case"cut":case"paste":de=Ip;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=wu}var ve=(s&4)!==0,et=!ve&&n==="scroll",O=ve?K!==null?K+"Capture":null:K;ve=[];for(var T=F,A;T!==null;){A=T;var ne=A.stateNode;if(A.tag===5&&ne!==null&&(A=ne,O!==null&&(ne=$n(T,O),ne!=null&&ve.push(Gs(T,ne,A)))),et)break;T=T.return}0<ve.length&&(K=new de(K,me,null,a,X),J.push({event:K,listeners:ve}))}}if((s&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",de=n==="mouseout"||n==="pointerout",K&&a!==Ki&&(me=a.relatedTarget||a.fromElement)&&(Ni(me)||me[Pn]))break e;if((de||K)&&(K=X.window===X?X:(K=X.ownerDocument)?K.defaultView||K.parentWindow:window,de?(me=a.relatedTarget||a.toElement,de=F,me=me?Ni(me):null,me!==null&&(et=Nn(me),me!==et||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=F),de!==me)){if(ve=xu,ne="onMouseLeave",O="onMouseEnter",T="mouse",(n==="pointerout"||n==="pointerover")&&(ve=wu,ne="onPointerLeave",O="onPointerEnter",T="pointer"),et=de==null?K:rs(de),A=me==null?K:rs(me),K=new ve(ne,T+"leave",de,a,X),K.target=et,K.relatedTarget=A,ne=null,Ni(X)===F&&(ve=new ve(O,T+"enter",me,a,X),ve.target=A,ve.relatedTarget=et,ne=ve),et=ne,de&&me)t:{for(ve=de,O=me,T=0,A=ve;A;A=is(A))T++;for(A=0,ne=O;ne;ne=is(ne))A++;for(;0<T-A;)ve=is(ve),T--;for(;0<A-T;)O=is(O),A--;for(;T--;){if(ve===O||O!==null&&ve===O.alternate)break t;ve=is(ve),O=is(O)}ve=null}else ve=null;de!==null&&Qu(J,K,de,ve,!1),me!==null&&et!==null&&Qu(J,et,me,ve,!0)}}e:{if(K=F?rs(F):window,de=K.nodeName&&K.nodeName.toLowerCase(),de==="select"||de==="input"&&K.type==="file")var xe=rg;else if(Cu(K))if(Mu)xe=cg;else{xe=ag;var Se=og}else(de=K.nodeName)&&de.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(xe=lg);if(xe&&(xe=xe(n,F))){Pu(J,xe,a,X);break e}Se&&Se(n,K,F),n==="focusout"&&(Se=K._wrapperState)&&Se.controlled&&K.type==="number"&&pe(K,"number",K.value)}switch(Se=F?rs(F):window,n){case"focusin":(Cu(Se)||Se.contentEditable==="true")&&(ts=Se,tl=F,Qs=null);break;case"focusout":Qs=tl=ts=null;break;case"mousedown":nl=!0;break;case"contextmenu":case"mouseup":case"dragend":nl=!1,Fu(J,a,X);break;case"selectionchange":if(hg)break;case"keydown":case"keyup":Fu(J,a,X)}var _e;if(Ga)e:{switch(n){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else es?ku(n,a)&&(Ne="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(Su&&a.locale!=="ko"&&(es||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&es&&(_e=vu()):(Kn=X,Ha="value"in Kn?Kn.value:Kn.textContent,es=!0)),Se=ao(F,Ne),0<Se.length&&(Ne=new bu(Ne,n,null,a,X),J.push({event:Ne,listeners:Se}),_e?Ne.data=_e:(_e=Nu(a),_e!==null&&(Ne.data=_e)))),(_e=eg?tg(n,a):ng(n,a))&&(F=ao(F,"onBeforeInput"),0<F.length&&(X=new bu("onBeforeInput","beforeinput",null,a,X),J.push({event:X,listeners:F}),X.data=_e))}Yu(J,s)})}function Gs(n,s,a){return{instance:n,listener:s,currentTarget:a}}function ao(n,s){for(var a=s+"Capture",d=[];n!==null;){var m=n,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=$n(n,a),v!=null&&d.unshift(Gs(n,v,m)),v=$n(n,s),v!=null&&d.push(Gs(n,v,m))),n=n.return}return d}function is(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Qu(n,s,a,d,m){for(var v=s._reactName,b=[];a!==null&&a!==d;){var j=a,M=j.alternate,F=j.stateNode;if(M!==null&&M===d)break;j.tag===5&&F!==null&&(j=F,m?(M=$n(a,v),M!=null&&b.unshift(Gs(a,M,j))):m||(M=$n(a,v),M!=null&&b.push(Gs(a,M,j)))),a=a.return}b.length!==0&&n.push({event:s,listeners:b})}var gg=/\r\n?/g,vg=/\u0000|\uFFFD/g;function Ku(n){return(typeof n=="string"?n:""+n).replace(gg,`
`).replace(vg,"")}function lo(n,s,a){if(s=Ku(s),Ku(n)!==s&&a)throw Error(t(425))}function co(){}var ll=null,cl=null;function ul(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dl=typeof setTimeout=="function"?setTimeout:void 0,yg=typeof clearTimeout=="function"?clearTimeout:void 0,Xu=typeof Promise=="function"?Promise:void 0,xg=typeof queueMicrotask=="function"?queueMicrotask:typeof Xu<"u"?function(n){return Xu.resolve(null).then(n).catch(bg)}:dl;function bg(n){setTimeout(function(){throw n})}function hl(n,s){var a=s,d=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(d===0){n.removeChild(m),$s(s);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=m}while(a);$s(s)}function Gn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Gu(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var ss=Math.random().toString(36).slice(2),vn="__reactFiber$"+ss,Js="__reactProps$"+ss,Pn="__reactContainer$"+ss,fl="__reactEvents$"+ss,wg="__reactListeners$"+ss,Sg="__reactHandles$"+ss;function Ni(n){var s=n[vn];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Pn]||a[vn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Gu(n);n!==null;){if(a=n[vn])return a;n=Gu(n)}return s}n=a,a=n.parentNode}return null}function Zs(n){return n=n[vn]||n[Pn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function rs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function uo(n){return n[Js]||null}var ml=[],os=-1;function Jn(n){return{current:n}}function We(n){0>os||(n.current=ml[os],ml[os]=null,os--)}function $e(n,s){os++,ml[os]=n.current,n.current=s}var Zn={},bt=Jn(Zn),Rt=Jn(!1),Ci=Zn;function as(n,s){var a=n.type.contextTypes;if(!a)return Zn;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in a)m[v]=s[v];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=m),m}function Ot(n){return n=n.childContextTypes,n!=null}function ho(){We(Rt),We(bt)}function Ju(n,s,a){if(bt.current!==Zn)throw Error(t(168));$e(bt,s),$e(Rt,a)}function Zu(n,s,a){var d=n.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var m in d)if(!(m in s))throw Error(t(108,je(n)||"Unknown",m));return U({},a,d)}function fo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Zn,Ci=bt.current,$e(bt,n),$e(Rt,Rt.current),!0}function ed(n,s,a){var d=n.stateNode;if(!d)throw Error(t(169));a?(n=Zu(n,s,Ci),d.__reactInternalMemoizedMergedChildContext=n,We(Rt),We(bt),$e(bt,n)):We(Rt),$e(Rt,a)}var Mn=null,mo=!1,pl=!1;function td(n){Mn===null?Mn=[n]:Mn.push(n)}function _g(n){mo=!0,td(n)}function ei(){if(!pl&&Mn!==null){pl=!0;var n=0,s=Fe;try{var a=Mn;for(Fe=1;n<a.length;n++){var d=a[n];do d=d(!0);while(d!==null)}Mn=null,mo=!1}catch(m){throw Mn!==null&&(Mn=Mn.slice(n+1)),Os(we,ei),m}finally{Fe=s,pl=!1}}return null}var ls=[],cs=0,po=null,go=0,Kt=[],Xt=0,Pi=null,Tn=1,Dn="";function Mi(n,s){ls[cs++]=go,ls[cs++]=po,po=n,go=s}function nd(n,s,a){Kt[Xt++]=Tn,Kt[Xt++]=Dn,Kt[Xt++]=Pi,Pi=n;var d=Tn;n=Dn;var m=32-Et(d)-1;d&=~(1<<m),a+=1;var v=32-Et(s)+m;if(30<v){var b=m-m%5;v=(d&(1<<b)-1).toString(32),d>>=b,m-=b,Tn=1<<32-Et(s)+m|a<<m|d,Dn=v+n}else Tn=1<<v|a<<m|d,Dn=n}function gl(n){n.return!==null&&(Mi(n,1),nd(n,1,0))}function vl(n){for(;n===po;)po=ls[--cs],ls[cs]=null,go=ls[--cs],ls[cs]=null;for(;n===Pi;)Pi=Kt[--Xt],Kt[Xt]=null,Dn=Kt[--Xt],Kt[Xt]=null,Tn=Kt[--Xt],Kt[Xt]=null}var Wt=null,Ht=null,qe=!1,an=null;function id(n,s){var a=en(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function sd(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Wt=n,Ht=Gn(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Wt=n,Ht=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Pi!==null?{id:Tn,overflow:Dn}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=en(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,Wt=n,Ht=null,!0):!1;default:return!1}}function yl(n){return(n.mode&1)!==0&&(n.flags&128)===0}function xl(n){if(qe){var s=Ht;if(s){var a=s;if(!sd(n,s)){if(yl(n))throw Error(t(418));s=Gn(a.nextSibling);var d=Wt;s&&sd(n,s)?id(d,a):(n.flags=n.flags&-4097|2,qe=!1,Wt=n)}}else{if(yl(n))throw Error(t(418));n.flags=n.flags&-4097|2,qe=!1,Wt=n}}}function rd(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Wt=n}function vo(n){if(n!==Wt)return!1;if(!qe)return rd(n),qe=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!ul(n.type,n.memoizedProps)),s&&(s=Ht)){if(yl(n))throw od(),Error(t(418));for(;s;)id(n,s),s=Gn(s.nextSibling)}if(rd(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){Ht=Gn(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}Ht=null}}else Ht=Wt?Gn(n.stateNode.nextSibling):null;return!0}function od(){for(var n=Ht;n;)n=Gn(n.nextSibling)}function us(){Ht=Wt=null,qe=!1}function bl(n){an===null?an=[n]:an.push(n)}var jg=D.ReactCurrentBatchConfig;function er(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var d=a.stateNode}if(!d)throw Error(t(147,n));var m=d,v=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(b){var j=m.refs;b===null?delete j[v]:j[v]=b},s._stringRef=v,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function yo(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function ad(n){var s=n._init;return s(n._payload)}function ld(n){function s(O,T){if(n){var A=O.deletions;A===null?(O.deletions=[T],O.flags|=16):A.push(T)}}function a(O,T){if(!n)return null;for(;T!==null;)s(O,T),T=T.sibling;return null}function d(O,T){for(O=new Map;T!==null;)T.key!==null?O.set(T.key,T):O.set(T.index,T),T=T.sibling;return O}function m(O,T){return O=li(O,T),O.index=0,O.sibling=null,O}function v(O,T,A){return O.index=A,n?(A=O.alternate,A!==null?(A=A.index,A<T?(O.flags|=2,T):A):(O.flags|=2,T)):(O.flags|=1048576,T)}function b(O){return n&&O.alternate===null&&(O.flags|=2),O}function j(O,T,A,ne){return T===null||T.tag!==6?(T=dc(A,O.mode,ne),T.return=O,T):(T=m(T,A),T.return=O,T)}function M(O,T,A,ne){var xe=A.type;return xe===W?X(O,T,A.props.children,ne,A.key):T!==null&&(T.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ce&&ad(xe)===T.type)?(ne=m(T,A.props),ne.ref=er(O,T,A),ne.return=O,ne):(ne=Vo(A.type,A.key,A.props,null,O.mode,ne),ne.ref=er(O,T,A),ne.return=O,ne)}function F(O,T,A,ne){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=hc(A,O.mode,ne),T.return=O,T):(T=m(T,A.children||[]),T.return=O,T)}function X(O,T,A,ne,xe){return T===null||T.tag!==7?(T=Fi(A,O.mode,ne,xe),T.return=O,T):(T=m(T,A),T.return=O,T)}function J(O,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return T=dc(""+T,O.mode,A),T.return=O,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case R:return A=Vo(T.type,T.key,T.props,null,O.mode,A),A.ref=er(O,null,T),A.return=O,A;case L:return T=hc(T,O.mode,A),T.return=O,T;case ce:var ne=T._init;return J(O,ne(T._payload),A)}if(q(T)||H(T))return T=Fi(T,O.mode,A,null),T.return=O,T;yo(O,T)}return null}function K(O,T,A,ne){var xe=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return xe!==null?null:j(O,T,""+A,ne);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case R:return A.key===xe?M(O,T,A,ne):null;case L:return A.key===xe?F(O,T,A,ne):null;case ce:return xe=A._init,K(O,T,xe(A._payload),ne)}if(q(A)||H(A))return xe!==null?null:X(O,T,A,ne,null);yo(O,A)}return null}function de(O,T,A,ne,xe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return O=O.get(A)||null,j(T,O,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case R:return O=O.get(ne.key===null?A:ne.key)||null,M(T,O,ne,xe);case L:return O=O.get(ne.key===null?A:ne.key)||null,F(T,O,ne,xe);case ce:var Se=ne._init;return de(O,T,A,Se(ne._payload),xe)}if(q(ne)||H(ne))return O=O.get(A)||null,X(T,O,ne,xe,null);yo(T,ne)}return null}function me(O,T,A,ne){for(var xe=null,Se=null,_e=T,Ne=T=0,mt=null;_e!==null&&Ne<A.length;Ne++){_e.index>Ne?(mt=_e,_e=null):mt=_e.sibling;var Oe=K(O,_e,A[Ne],ne);if(Oe===null){_e===null&&(_e=mt);break}n&&_e&&Oe.alternate===null&&s(O,_e),T=v(Oe,T,Ne),Se===null?xe=Oe:Se.sibling=Oe,Se=Oe,_e=mt}if(Ne===A.length)return a(O,_e),qe&&Mi(O,Ne),xe;if(_e===null){for(;Ne<A.length;Ne++)_e=J(O,A[Ne],ne),_e!==null&&(T=v(_e,T,Ne),Se===null?xe=_e:Se.sibling=_e,Se=_e);return qe&&Mi(O,Ne),xe}for(_e=d(O,_e);Ne<A.length;Ne++)mt=de(_e,O,Ne,A[Ne],ne),mt!==null&&(n&&mt.alternate!==null&&_e.delete(mt.key===null?Ne:mt.key),T=v(mt,T,Ne),Se===null?xe=mt:Se.sibling=mt,Se=mt);return n&&_e.forEach(function(ci){return s(O,ci)}),qe&&Mi(O,Ne),xe}function ve(O,T,A,ne){var xe=H(A);if(typeof xe!="function")throw Error(t(150));if(A=xe.call(A),A==null)throw Error(t(151));for(var Se=xe=null,_e=T,Ne=T=0,mt=null,Oe=A.next();_e!==null&&!Oe.done;Ne++,Oe=A.next()){_e.index>Ne?(mt=_e,_e=null):mt=_e.sibling;var ci=K(O,_e,Oe.value,ne);if(ci===null){_e===null&&(_e=mt);break}n&&_e&&ci.alternate===null&&s(O,_e),T=v(ci,T,Ne),Se===null?xe=ci:Se.sibling=ci,Se=ci,_e=mt}if(Oe.done)return a(O,_e),qe&&Mi(O,Ne),xe;if(_e===null){for(;!Oe.done;Ne++,Oe=A.next())Oe=J(O,Oe.value,ne),Oe!==null&&(T=v(Oe,T,Ne),Se===null?xe=Oe:Se.sibling=Oe,Se=Oe);return qe&&Mi(O,Ne),xe}for(_e=d(O,_e);!Oe.done;Ne++,Oe=A.next())Oe=de(_e,O,Ne,Oe.value,ne),Oe!==null&&(n&&Oe.alternate!==null&&_e.delete(Oe.key===null?Ne:Oe.key),T=v(Oe,T,Ne),Se===null?xe=Oe:Se.sibling=Oe,Se=Oe);return n&&_e.forEach(function(iv){return s(O,iv)}),qe&&Mi(O,Ne),xe}function et(O,T,A,ne){if(typeof A=="object"&&A!==null&&A.type===W&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case R:e:{for(var xe=A.key,Se=T;Se!==null;){if(Se.key===xe){if(xe=A.type,xe===W){if(Se.tag===7){a(O,Se.sibling),T=m(Se,A.props.children),T.return=O,O=T;break e}}else if(Se.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ce&&ad(xe)===Se.type){a(O,Se.sibling),T=m(Se,A.props),T.ref=er(O,Se,A),T.return=O,O=T;break e}a(O,Se);break}else s(O,Se);Se=Se.sibling}A.type===W?(T=Fi(A.props.children,O.mode,ne,A.key),T.return=O,O=T):(ne=Vo(A.type,A.key,A.props,null,O.mode,ne),ne.ref=er(O,T,A),ne.return=O,O=ne)}return b(O);case L:e:{for(Se=A.key;T!==null;){if(T.key===Se)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){a(O,T.sibling),T=m(T,A.children||[]),T.return=O,O=T;break e}else{a(O,T);break}else s(O,T);T=T.sibling}T=hc(A,O.mode,ne),T.return=O,O=T}return b(O);case ce:return Se=A._init,et(O,T,Se(A._payload),ne)}if(q(A))return me(O,T,A,ne);if(H(A))return ve(O,T,A,ne);yo(O,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,T!==null&&T.tag===6?(a(O,T.sibling),T=m(T,A),T.return=O,O=T):(a(O,T),T=dc(A,O.mode,ne),T.return=O,O=T),b(O)):a(O,T)}return et}var ds=ld(!0),cd=ld(!1),xo=Jn(null),bo=null,hs=null,wl=null;function Sl(){wl=hs=bo=null}function _l(n){var s=xo.current;We(xo),n._currentValue=s}function jl(n,s,a){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===a)break;n=n.return}}function fs(n,s){bo=n,wl=hs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(At=!0),n.firstContext=null)}function Gt(n){var s=n._currentValue;if(wl!==n)if(n={context:n,memoizedValue:s,next:null},hs===null){if(bo===null)throw Error(t(308));hs=n,bo.dependencies={lanes:0,firstContext:n}}else hs=hs.next=n;return s}var Ti=null;function kl(n){Ti===null?Ti=[n]:Ti.push(n)}function ud(n,s,a,d){var m=s.interleaved;return m===null?(a.next=a,kl(s)):(a.next=m.next,m.next=a),s.interleaved=a,En(n,d)}function En(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ti=!1;function Nl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Rn(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function ni(n,s,a){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(Re&2)!==0){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,En(n,a)}return m=d.interleaved,m===null?(s.next=s,kl(d)):(s.next=m.next,m.next=s),d.interleaved=s,En(n,a)}function wo(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var d=s.lanes;d&=n.pendingLanes,a|=d,s.lanes=a,Ba(n,a)}}function hd(n,s){var a=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var m=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var b={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};v===null?m=v=b:v=v.next=b,a=a.next}while(a!==null);v===null?m=v=s:v=v.next=s}else m=v=s;a={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function So(n,s,a,d){var m=n.updateQueue;ti=!1;var v=m.firstBaseUpdate,b=m.lastBaseUpdate,j=m.shared.pending;if(j!==null){m.shared.pending=null;var M=j,F=M.next;M.next=null,b===null?v=F:b.next=F,b=M;var X=n.alternate;X!==null&&(X=X.updateQueue,j=X.lastBaseUpdate,j!==b&&(j===null?X.firstBaseUpdate=F:j.next=F,X.lastBaseUpdate=M))}if(v!==null){var J=m.baseState;b=0,X=F=M=null,j=v;do{var K=j.lane,de=j.eventTime;if((d&K)===K){X!==null&&(X=X.next={eventTime:de,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var me=n,ve=j;switch(K=s,de=a,ve.tag){case 1:if(me=ve.payload,typeof me=="function"){J=me.call(de,J,K);break e}J=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,K=typeof me=="function"?me.call(de,J,K):me,K==null)break e;J=U({},J,K);break e;case 2:ti=!0}}j.callback!==null&&j.lane!==0&&(n.flags|=64,K=m.effects,K===null?m.effects=[j]:K.push(j))}else de={eventTime:de,lane:K,tag:j.tag,payload:j.payload,callback:j.callback,next:null},X===null?(F=X=de,M=J):X=X.next=de,b|=K;if(j=j.next,j===null){if(j=m.shared.pending,j===null)break;K=j,j=K.next,K.next=null,m.lastBaseUpdate=K,m.shared.pending=null}}while(!0);if(X===null&&(M=J),m.baseState=M,m.firstBaseUpdate=F,m.lastBaseUpdate=X,s=m.shared.interleaved,s!==null){m=s;do b|=m.lane,m=m.next;while(m!==s)}else v===null&&(m.shared.lanes=0);Ri|=b,n.lanes=b,n.memoizedState=J}}function fd(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var d=n[s],m=d.callback;if(m!==null){if(d.callback=null,d=a,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var tr={},yn=Jn(tr),nr=Jn(tr),ir=Jn(tr);function Di(n){if(n===tr)throw Error(t(174));return n}function Cl(n,s){switch($e(ir,s),$e(nr,n),$e(yn,tr),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:nt(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=nt(s,n)}We(yn),$e(yn,s)}function ms(){We(yn),We(nr),We(ir)}function md(n){Di(ir.current);var s=Di(yn.current),a=nt(s,n.type);s!==a&&($e(nr,n),$e(yn,a))}function Pl(n){nr.current===n&&(We(yn),We(nr))}var Qe=Jn(0);function _o(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ml=[];function Tl(){for(var n=0;n<Ml.length;n++)Ml[n]._workInProgressVersionPrimary=null;Ml.length=0}var jo=D.ReactCurrentDispatcher,Dl=D.ReactCurrentBatchConfig,Ei=0,Ke=null,lt=null,ht=null,ko=!1,sr=!1,rr=0,kg=0;function wt(){throw Error(t(321))}function El(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!on(n[a],s[a]))return!1;return!0}function Rl(n,s,a,d,m,v){if(Ei=v,Ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,jo.current=n===null||n.memoizedState===null?Mg:Tg,n=a(d,m),sr){v=0;do{if(sr=!1,rr=0,25<=v)throw Error(t(301));v+=1,ht=lt=null,s.updateQueue=null,jo.current=Dg,n=a(d,m)}while(sr)}if(jo.current=Po,s=lt!==null&&lt.next!==null,Ei=0,ht=lt=Ke=null,ko=!1,s)throw Error(t(300));return n}function Ol(){var n=rr!==0;return rr=0,n}function xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ke.memoizedState=ht=n:ht=ht.next=n,ht}function Jt(){if(lt===null){var n=Ke.alternate;n=n!==null?n.memoizedState:null}else n=lt.next;var s=ht===null?Ke.memoizedState:ht.next;if(s!==null)ht=s,lt=n;else{if(n===null)throw Error(t(310));lt=n,n={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ht===null?Ke.memoizedState=ht=n:ht=ht.next=n}return ht}function or(n,s){return typeof s=="function"?s(n):s}function Al(n){var s=Jt(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var d=lt,m=d.baseQueue,v=a.pending;if(v!==null){if(m!==null){var b=m.next;m.next=v.next,v.next=b}d.baseQueue=m=v,a.pending=null}if(m!==null){v=m.next,d=d.baseState;var j=b=null,M=null,F=v;do{var X=F.lane;if((Ei&X)===X)M!==null&&(M=M.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),d=F.hasEagerState?F.eagerState:n(d,F.action);else{var J={lane:X,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};M===null?(j=M=J,b=d):M=M.next=J,Ke.lanes|=X,Ri|=X}F=F.next}while(F!==null&&F!==v);M===null?b=d:M.next=j,on(d,s.memoizedState)||(At=!0),s.memoizedState=d,s.baseState=b,s.baseQueue=M,a.lastRenderedState=d}if(n=a.interleaved,n!==null){m=n;do v=m.lane,Ke.lanes|=v,Ri|=v,m=m.next;while(m!==n)}else m===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Ll(n){var s=Jt(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var d=a.dispatch,m=a.pending,v=s.memoizedState;if(m!==null){a.pending=null;var b=m=m.next;do v=n(v,b.action),b=b.next;while(b!==m);on(v,s.memoizedState)||(At=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),a.lastRenderedState=v}return[v,d]}function pd(){}function gd(n,s){var a=Ke,d=Jt(),m=s(),v=!on(d.memoizedState,m);if(v&&(d.memoizedState=m,At=!0),d=d.queue,Fl(xd.bind(null,a,d,n),[n]),d.getSnapshot!==s||v||ht!==null&&ht.memoizedState.tag&1){if(a.flags|=2048,ar(9,yd.bind(null,a,d,m,s),void 0,null),ft===null)throw Error(t(349));(Ei&30)!==0||vd(a,s,m)}return m}function vd(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ke.updateQueue,s===null?(s={lastEffect:null,stores:null},Ke.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function yd(n,s,a,d){s.value=a,s.getSnapshot=d,bd(s)&&wd(n)}function xd(n,s,a){return a(function(){bd(s)&&wd(n)})}function bd(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!on(n,a)}catch{return!0}}function wd(n){var s=En(n,1);s!==null&&dn(s,n,1,-1)}function Sd(n){var s=xn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:n},s.queue=n,n=n.dispatch=Pg.bind(null,Ke,n),[s.memoizedState,n]}function ar(n,s,a,d){return n={tag:n,create:s,destroy:a,deps:d,next:null},s=Ke.updateQueue,s===null?(s={lastEffect:null,stores:null},Ke.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(d=a.next,a.next=n,n.next=d,s.lastEffect=n)),n}function _d(){return Jt().memoizedState}function No(n,s,a,d){var m=xn();Ke.flags|=n,m.memoizedState=ar(1|s,a,void 0,d===void 0?null:d)}function Co(n,s,a,d){var m=Jt();d=d===void 0?null:d;var v=void 0;if(lt!==null){var b=lt.memoizedState;if(v=b.destroy,d!==null&&El(d,b.deps)){m.memoizedState=ar(s,a,v,d);return}}Ke.flags|=n,m.memoizedState=ar(1|s,a,v,d)}function jd(n,s){return No(8390656,8,n,s)}function Fl(n,s){return Co(2048,8,n,s)}function kd(n,s){return Co(4,2,n,s)}function Nd(n,s){return Co(4,4,n,s)}function Cd(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Pd(n,s,a){return a=a!=null?a.concat([n]):null,Co(4,4,Cd.bind(null,s,n),a)}function Il(){}function Md(n,s){var a=Jt();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&El(s,d[1])?d[0]:(a.memoizedState=[n,s],n)}function Td(n,s){var a=Jt();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&El(s,d[1])?d[0]:(n=n(),a.memoizedState=[n,s],n)}function Dd(n,s,a){return(Ei&21)===0?(n.baseState&&(n.baseState=!1,At=!0),n.memoizedState=a):(on(a,s)||(a=au(),Ke.lanes|=a,Ri|=a,n.baseState=!0),s)}function Ng(n,s){var a=Fe;Fe=a!==0&&4>a?a:4,n(!0);var d=Dl.transition;Dl.transition={};try{n(!1),s()}finally{Fe=a,Dl.transition=d}}function Ed(){return Jt().memoizedState}function Cg(n,s,a){var d=oi(n);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},Rd(n))Od(s,a);else if(a=ud(n,s,a,d),a!==null){var m=Tt();dn(a,n,d,m),Ad(a,s,d)}}function Pg(n,s,a){var d=oi(n),m={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rd(n))Od(s,m);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var b=s.lastRenderedState,j=v(b,a);if(m.hasEagerState=!0,m.eagerState=j,on(j,b)){var M=s.interleaved;M===null?(m.next=m,kl(s)):(m.next=M.next,M.next=m),s.interleaved=m;return}}catch{}finally{}a=ud(n,s,m,d),a!==null&&(m=Tt(),dn(a,n,d,m),Ad(a,s,d))}}function Rd(n){var s=n.alternate;return n===Ke||s!==null&&s===Ke}function Od(n,s){sr=ko=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Ad(n,s,a){if((a&4194240)!==0){var d=s.lanes;d&=n.pendingLanes,a|=d,s.lanes=a,Ba(n,a)}}var Po={readContext:Gt,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},Mg={readContext:Gt,useCallback:function(n,s){return xn().memoizedState=[n,s===void 0?null:s],n},useContext:Gt,useEffect:jd,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,No(4194308,4,Cd.bind(null,s,n),a)},useLayoutEffect:function(n,s){return No(4194308,4,n,s)},useInsertionEffect:function(n,s){return No(4,2,n,s)},useMemo:function(n,s){var a=xn();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var d=xn();return s=a!==void 0?a(s):s,d.memoizedState=d.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},d.queue=n,n=n.dispatch=Cg.bind(null,Ke,n),[d.memoizedState,n]},useRef:function(n){var s=xn();return n={current:n},s.memoizedState=n},useState:Sd,useDebugValue:Il,useDeferredValue:function(n){return xn().memoizedState=n},useTransition:function(){var n=Sd(!1),s=n[0];return n=Ng.bind(null,n[1]),xn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var d=Ke,m=xn();if(qe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),ft===null)throw Error(t(349));(Ei&30)!==0||vd(d,s,a)}m.memoizedState=a;var v={value:a,getSnapshot:s};return m.queue=v,jd(xd.bind(null,d,v,n),[n]),d.flags|=2048,ar(9,yd.bind(null,d,v,a,s),void 0,null),a},useId:function(){var n=xn(),s=ft.identifierPrefix;if(qe){var a=Dn,d=Tn;a=(d&~(1<<32-Et(d)-1)).toString(32)+a,s=":"+s+"R"+a,a=rr++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=kg++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Tg={readContext:Gt,useCallback:Md,useContext:Gt,useEffect:Fl,useImperativeHandle:Pd,useInsertionEffect:kd,useLayoutEffect:Nd,useMemo:Td,useReducer:Al,useRef:_d,useState:function(){return Al(or)},useDebugValue:Il,useDeferredValue:function(n){var s=Jt();return Dd(s,lt.memoizedState,n)},useTransition:function(){var n=Al(or)[0],s=Jt().memoizedState;return[n,s]},useMutableSource:pd,useSyncExternalStore:gd,useId:Ed,unstable_isNewReconciler:!1},Dg={readContext:Gt,useCallback:Md,useContext:Gt,useEffect:Fl,useImperativeHandle:Pd,useInsertionEffect:kd,useLayoutEffect:Nd,useMemo:Td,useReducer:Ll,useRef:_d,useState:function(){return Ll(or)},useDebugValue:Il,useDeferredValue:function(n){var s=Jt();return lt===null?s.memoizedState=n:Dd(s,lt.memoizedState,n)},useTransition:function(){var n=Ll(or)[0],s=Jt().memoizedState;return[n,s]},useMutableSource:pd,useSyncExternalStore:gd,useId:Ed,unstable_isNewReconciler:!1};function ln(n,s){if(n&&n.defaultProps){s=U({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function zl(n,s,a,d){s=n.memoizedState,a=a(d,s),a=a==null?s:U({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Mo={isMounted:function(n){return(n=n._reactInternals)?Nn(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var d=Tt(),m=oi(n),v=Rn(d,m);v.payload=s,a!=null&&(v.callback=a),s=ni(n,v,m),s!==null&&(dn(s,n,m,d),wo(s,n,m))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var d=Tt(),m=oi(n),v=Rn(d,m);v.tag=1,v.payload=s,a!=null&&(v.callback=a),s=ni(n,v,m),s!==null&&(dn(s,n,m,d),wo(s,n,m))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Tt(),d=oi(n),m=Rn(a,d);m.tag=2,s!=null&&(m.callback=s),s=ni(n,m,d),s!==null&&(dn(s,n,d,a),wo(s,n,d))}};function Ld(n,s,a,d,m,v,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,v,b):s.prototype&&s.prototype.isPureReactComponent?!qs(a,d)||!qs(m,v):!0}function Fd(n,s,a){var d=!1,m=Zn,v=s.contextType;return typeof v=="object"&&v!==null?v=Gt(v):(m=Ot(s)?Ci:bt.current,d=s.contextTypes,v=(d=d!=null)?as(n,m):Zn),s=new s(a,v),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Mo,n.stateNode=s,s._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=v),s}function Id(n,s,a,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,d),s.state!==n&&Mo.enqueueReplaceState(s,s.state,null)}function Bl(n,s,a,d){var m=n.stateNode;m.props=a,m.state=n.memoizedState,m.refs={},Nl(n);var v=s.contextType;typeof v=="object"&&v!==null?m.context=Gt(v):(v=Ot(s)?Ci:bt.current,m.context=as(n,v)),m.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(zl(n,s,v,a),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&Mo.enqueueReplaceState(m,m.state,null),So(n,a,m,d),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function ps(n,s){try{var a="",d=s;do a+=ie(d),d=d.return;while(d);var m=a}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:s,stack:m,digest:null}}function $l(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Vl(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Eg=typeof WeakMap=="function"?WeakMap:Map;function zd(n,s,a){a=Rn(-1,a),a.tag=3,a.payload={element:null};var d=s.value;return a.callback=function(){Lo||(Lo=!0,ic=d),Vl(n,s)},a}function Bd(n,s,a){a=Rn(-1,a),a.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;a.payload=function(){return d(m)},a.callback=function(){Vl(n,s)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(a.callback=function(){Vl(n,s),typeof d!="function"&&(si===null?si=new Set([this]):si.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})}),a}function $d(n,s,a){var d=n.pingCache;if(d===null){d=n.pingCache=new Eg;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(a)||(m.add(a),n=Yg.bind(null,n,s,a),s.then(n,n))}function Vd(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Ud(n,s,a,d,m){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Rn(-1,1),s.tag=2,ni(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var Rg=D.ReactCurrentOwner,At=!1;function Mt(n,s,a,d){s.child=n===null?cd(s,null,a,d):ds(s,n.child,a,d)}function Wd(n,s,a,d,m){a=a.render;var v=s.ref;return fs(s,m),d=Rl(n,s,a,d,v,m),a=Ol(),n!==null&&!At?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~m,On(n,s,m)):(qe&&a&&gl(s),s.flags|=1,Mt(n,s,d,m),s.child)}function Hd(n,s,a,d,m){if(n===null){var v=a.type;return typeof v=="function"&&!uc(v)&&v.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=v,Yd(n,s,v,d,m)):(n=Vo(a.type,null,d,s,s.mode,m),n.ref=s.ref,n.return=s,s.child=n)}if(v=n.child,(n.lanes&m)===0){var b=v.memoizedProps;if(a=a.compare,a=a!==null?a:qs,a(b,d)&&n.ref===s.ref)return On(n,s,m)}return s.flags|=1,n=li(v,d),n.ref=s.ref,n.return=s,s.child=n}function Yd(n,s,a,d,m){if(n!==null){var v=n.memoizedProps;if(qs(v,d)&&n.ref===s.ref)if(At=!1,s.pendingProps=d=v,(n.lanes&m)!==0)(n.flags&131072)!==0&&(At=!0);else return s.lanes=n.lanes,On(n,s,m)}return Ul(n,s,a,d,m)}function qd(n,s,a){var d=s.pendingProps,m=d.children,v=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(vs,Yt),Yt|=a;else{if((a&1073741824)===0)return n=v!==null?v.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,$e(vs,Yt),Yt|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:a,$e(vs,Yt),Yt|=d}else v!==null?(d=v.baseLanes|a,s.memoizedState=null):d=a,$e(vs,Yt),Yt|=d;return Mt(n,s,m,a),s.child}function Qd(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Ul(n,s,a,d,m){var v=Ot(a)?Ci:bt.current;return v=as(s,v),fs(s,m),a=Rl(n,s,a,d,v,m),d=Ol(),n!==null&&!At?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~m,On(n,s,m)):(qe&&d&&gl(s),s.flags|=1,Mt(n,s,a,m),s.child)}function Kd(n,s,a,d,m){if(Ot(a)){var v=!0;fo(s)}else v=!1;if(fs(s,m),s.stateNode===null)Do(n,s),Fd(s,a,d),Bl(s,a,d,m),d=!0;else if(n===null){var b=s.stateNode,j=s.memoizedProps;b.props=j;var M=b.context,F=a.contextType;typeof F=="object"&&F!==null?F=Gt(F):(F=Ot(a)?Ci:bt.current,F=as(s,F));var X=a.getDerivedStateFromProps,J=typeof X=="function"||typeof b.getSnapshotBeforeUpdate=="function";J||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j!==d||M!==F)&&Id(s,b,d,F),ti=!1;var K=s.memoizedState;b.state=K,So(s,d,b,m),M=s.memoizedState,j!==d||K!==M||Rt.current||ti?(typeof X=="function"&&(zl(s,a,X,d),M=s.memoizedState),(j=ti||Ld(s,a,j,d,K,M,F))?(J||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=M),b.props=d,b.state=M,b.context=F,d=j):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,dd(n,s),j=s.memoizedProps,F=s.type===s.elementType?j:ln(s.type,j),b.props=F,J=s.pendingProps,K=b.context,M=a.contextType,typeof M=="object"&&M!==null?M=Gt(M):(M=Ot(a)?Ci:bt.current,M=as(s,M));var de=a.getDerivedStateFromProps;(X=typeof de=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j!==J||K!==M)&&Id(s,b,d,M),ti=!1,K=s.memoizedState,b.state=K,So(s,d,b,m);var me=s.memoizedState;j!==J||K!==me||Rt.current||ti?(typeof de=="function"&&(zl(s,a,de,d),me=s.memoizedState),(F=ti||Ld(s,a,F,d,K,me,M)||!1)?(X||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,me,M),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,me,M)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||j===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=me),b.props=d,b.state=me,b.context=M,d=F):(typeof b.componentDidUpdate!="function"||j===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),d=!1)}return Wl(n,s,a,d,v,m)}function Wl(n,s,a,d,m,v){Qd(n,s);var b=(s.flags&128)!==0;if(!d&&!b)return m&&ed(s,a,!1),On(n,s,v);d=s.stateNode,Rg.current=s;var j=b&&typeof a.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,n!==null&&b?(s.child=ds(s,n.child,null,v),s.child=ds(s,null,j,v)):Mt(n,s,j,v),s.memoizedState=d.state,m&&ed(s,a,!0),s.child}function Xd(n){var s=n.stateNode;s.pendingContext?Ju(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Ju(n,s.context,!1),Cl(n,s.containerInfo)}function Gd(n,s,a,d,m){return us(),bl(m),s.flags|=256,Mt(n,s,a,d),s.child}var Hl={dehydrated:null,treeContext:null,retryLane:0};function Yl(n){return{baseLanes:n,cachePool:null,transitions:null}}function Jd(n,s,a){var d=s.pendingProps,m=Qe.current,v=!1,b=(s.flags&128)!==0,j;if((j=b)||(j=n!==null&&n.memoizedState===null?!1:(m&2)!==0),j?(v=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),$e(Qe,m&1),n===null)return xl(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(b=d.children,n=d.fallback,v?(d=s.mode,v=s.child,b={mode:"hidden",children:b},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=b):v=Uo(b,d,0,null),n=Fi(n,d,a,null),v.return=s,n.return=s,v.sibling=n,s.child=v,s.child.memoizedState=Yl(a),s.memoizedState=Hl,n):ql(s,b));if(m=n.memoizedState,m!==null&&(j=m.dehydrated,j!==null))return Og(n,s,b,d,j,m,a);if(v){v=d.fallback,b=s.mode,m=n.child,j=m.sibling;var M={mode:"hidden",children:d.children};return(b&1)===0&&s.child!==m?(d=s.child,d.childLanes=0,d.pendingProps=M,s.deletions=null):(d=li(m,M),d.subtreeFlags=m.subtreeFlags&14680064),j!==null?v=li(j,v):(v=Fi(v,b,a,null),v.flags|=2),v.return=s,d.return=s,d.sibling=v,s.child=d,d=v,v=s.child,b=n.child.memoizedState,b=b===null?Yl(a):{baseLanes:b.baseLanes|a,cachePool:null,transitions:b.transitions},v.memoizedState=b,v.childLanes=n.childLanes&~a,s.memoizedState=Hl,d}return v=n.child,n=v.sibling,d=li(v,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=a),d.return=s,d.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=d,s.memoizedState=null,d}function ql(n,s){return s=Uo({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function To(n,s,a,d){return d!==null&&bl(d),ds(s,n.child,null,a),n=ql(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Og(n,s,a,d,m,v,b){if(a)return s.flags&256?(s.flags&=-257,d=$l(Error(t(422))),To(n,s,b,d)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(v=d.fallback,m=s.mode,d=Uo({mode:"visible",children:d.children},m,0,null),v=Fi(v,m,b,null),v.flags|=2,d.return=s,v.return=s,d.sibling=v,s.child=d,(s.mode&1)!==0&&ds(s,n.child,null,b),s.child.memoizedState=Yl(b),s.memoizedState=Hl,v);if((s.mode&1)===0)return To(n,s,b,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var j=d.dgst;return d=j,v=Error(t(419)),d=$l(v,d,void 0),To(n,s,b,d)}if(j=(b&n.childLanes)!==0,At||j){if(d=ft,d!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|b))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,En(n,m),dn(d,n,m,-1))}return cc(),d=$l(Error(t(421))),To(n,s,b,d)}return m.data==="$?"?(s.flags|=128,s.child=n.child,s=qg.bind(null,n),m._reactRetry=s,null):(n=v.treeContext,Ht=Gn(m.nextSibling),Wt=s,qe=!0,an=null,n!==null&&(Kt[Xt++]=Tn,Kt[Xt++]=Dn,Kt[Xt++]=Pi,Tn=n.id,Dn=n.overflow,Pi=s),s=ql(s,d.children),s.flags|=4096,s)}function Zd(n,s,a){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),jl(n.return,s,a)}function Ql(n,s,a,d,m){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=a,v.tailMode=m)}function eh(n,s,a){var d=s.pendingProps,m=d.revealOrder,v=d.tail;if(Mt(n,s,d.children,a),d=Qe.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Zd(n,a,s);else if(n.tag===19)Zd(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if($e(Qe,d),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(a=s.child,m=null;a!==null;)n=a.alternate,n!==null&&_o(n)===null&&(m=a),a=a.sibling;a=m,a===null?(m=s.child,s.child=null):(m=a.sibling,a.sibling=null),Ql(s,!1,m,a,v);break;case"backwards":for(a=null,m=s.child,s.child=null;m!==null;){if(n=m.alternate,n!==null&&_o(n)===null){s.child=m;break}n=m.sibling,m.sibling=a,a=m,m=n}Ql(s,!0,a,null,v);break;case"together":Ql(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Do(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function On(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Ri|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=li(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=li(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Ag(n,s,a){switch(s.tag){case 3:Xd(s),us();break;case 5:md(s);break;case 1:Ot(s.type)&&fo(s);break;case 4:Cl(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,m=s.memoizedProps.value;$e(xo,d._currentValue),d._currentValue=m;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?($e(Qe,Qe.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Jd(n,s,a):($e(Qe,Qe.current&1),n=On(n,s,a),n!==null?n.sibling:null);$e(Qe,Qe.current&1);break;case 19:if(d=(a&s.childLanes)!==0,(n.flags&128)!==0){if(d)return eh(n,s,a);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),$e(Qe,Qe.current),d)break;return null;case 22:case 23:return s.lanes=0,qd(n,s,a)}return On(n,s,a)}var th,Kl,nh,ih;th=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Kl=function(){},nh=function(n,s,a,d){var m=n.memoizedProps;if(m!==d){n=s.stateNode,Di(yn.current);var v=null;switch(a){case"input":m=Vt(n,m),d=Vt(n,d),v=[];break;case"select":m=U({},m,{value:void 0}),d=U({},d,{value:void 0}),v=[];break;case"textarea":m=ut(n,m),d=ut(n,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=co)}Dt(a,d);var b;a=null;for(F in m)if(!d.hasOwnProperty(F)&&m.hasOwnProperty(F)&&m[F]!=null)if(F==="style"){var j=m[F];for(b in j)j.hasOwnProperty(b)&&(a||(a={}),a[b]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(o.hasOwnProperty(F)?v||(v=[]):(v=v||[]).push(F,null));for(F in d){var M=d[F];if(j=m?.[F],d.hasOwnProperty(F)&&M!==j&&(M!=null||j!=null))if(F==="style")if(j){for(b in j)!j.hasOwnProperty(b)||M&&M.hasOwnProperty(b)||(a||(a={}),a[b]="");for(b in M)M.hasOwnProperty(b)&&j[b]!==M[b]&&(a||(a={}),a[b]=M[b])}else a||(v||(v=[]),v.push(F,a)),a=M;else F==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,j=j?j.__html:void 0,M!=null&&j!==M&&(v=v||[]).push(F,M)):F==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(F,""+M):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(o.hasOwnProperty(F)?(M!=null&&F==="onScroll"&&Ue("scroll",n),v||j===M||(v=[])):(v=v||[]).push(F,M))}a&&(v=v||[]).push("style",a);var F=v;(s.updateQueue=F)&&(s.flags|=4)}},ih=function(n,s,a,d){a!==d&&(s.flags|=4)};function lr(n,s){if(!qe)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function St(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,d=0;if(s)for(var m=n.child;m!==null;)a|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)a|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=d,n.childLanes=a,s}function Lg(n,s,a){var d=s.pendingProps;switch(vl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(s),null;case 1:return Ot(s.type)&&ho(),St(s),null;case 3:return d=s.stateNode,ms(),We(Rt),We(bt),Tl(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(vo(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,an!==null&&(oc(an),an=null))),Kl(n,s),St(s),null;case 5:Pl(s);var m=Di(ir.current);if(a=s.type,n!==null&&s.stateNode!=null)nh(n,s,a,d,m),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return St(s),null}if(n=Di(yn.current),vo(s)){d=s.stateNode,a=s.type;var v=s.memoizedProps;switch(d[vn]=s,d[Js]=v,n=(s.mode&1)!==0,a){case"dialog":Ue("cancel",d),Ue("close",d);break;case"iframe":case"object":case"embed":Ue("load",d);break;case"video":case"audio":for(m=0;m<Ks.length;m++)Ue(Ks[m],d);break;case"source":Ue("error",d);break;case"img":case"image":case"link":Ue("error",d),Ue("load",d);break;case"details":Ue("toggle",d);break;case"input":V(d,v),Ue("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Ue("invalid",d);break;case"textarea":Ce(d,v),Ue("invalid",d)}Dt(a,v),m=null;for(var b in v)if(v.hasOwnProperty(b)){var j=v[b];b==="children"?typeof j=="string"?d.textContent!==j&&(v.suppressHydrationWarning!==!0&&lo(d.textContent,j,n),m=["children",j]):typeof j=="number"&&d.textContent!==""+j&&(v.suppressHydrationWarning!==!0&&lo(d.textContent,j,n),m=["children",""+j]):o.hasOwnProperty(b)&&j!=null&&b==="onScroll"&&Ue("scroll",d)}switch(a){case"input":ot(d),le(d,v,!0);break;case"textarea":ot(d),gt(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=co)}d=m,s.updateQueue=d,d!==null&&(s.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=wi(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=b.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=b.createElement(a,{is:d.is}):(n=b.createElement(a),a==="select"&&(b=n,d.multiple?b.multiple=!0:d.size&&(b.size=d.size))):n=b.createElementNS(n,a),n[vn]=s,n[Js]=d,th(n,s,!1,!1),s.stateNode=n;e:{switch(b=Ts(a,d),a){case"dialog":Ue("cancel",n),Ue("close",n),m=d;break;case"iframe":case"object":case"embed":Ue("load",n),m=d;break;case"video":case"audio":for(m=0;m<Ks.length;m++)Ue(Ks[m],n);m=d;break;case"source":Ue("error",n),m=d;break;case"img":case"image":case"link":Ue("error",n),Ue("load",n),m=d;break;case"details":Ue("toggle",n),m=d;break;case"input":V(n,d),m=Vt(n,d),Ue("invalid",n);break;case"option":m=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},m=U({},d,{value:void 0}),Ue("invalid",n);break;case"textarea":Ce(n,d),m=ut(n,d),Ue("invalid",n);break;default:m=d}Dt(a,m),j=m;for(v in j)if(j.hasOwnProperty(v)){var M=j[v];v==="style"?Ta(n,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Ye(n,M)):v==="children"?typeof M=="string"?(a!=="textarea"||M!=="")&&Je(n,M):typeof M=="number"&&Je(n,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?M!=null&&v==="onScroll"&&Ue("scroll",n):M!=null&&$(n,v,M,b))}switch(a){case"input":ot(n),le(n,d,!1);break;case"textarea":ot(n),gt(n);break;case"option":d.value!=null&&n.setAttribute("value",""+Pe(d.value));break;case"select":n.multiple=!!d.multiple,v=d.value,v!=null?ke(n,!!d.multiple,v,!1):d.defaultValue!=null&&ke(n,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=co)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return St(s),null;case 6:if(n&&s.stateNode!=null)ih(n,s,n.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(a=Di(ir.current),Di(yn.current),vo(s)){if(d=s.stateNode,a=s.memoizedProps,d[vn]=s,(v=d.nodeValue!==a)&&(n=Wt,n!==null))switch(n.tag){case 3:lo(d.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&lo(d.nodeValue,a,(n.mode&1)!==0)}v&&(s.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[vn]=s,s.stateNode=d}return St(s),null;case 13:if(We(Qe),d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(qe&&Ht!==null&&(s.mode&1)!==0&&(s.flags&128)===0)od(),us(),s.flags|=98560,v=!1;else if(v=vo(s),d!==null&&d.dehydrated!==null){if(n===null){if(!v)throw Error(t(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[vn]=s}else us(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),v=!1}else an!==null&&(oc(an),an=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Qe.current&1)!==0?ct===0&&(ct=3):cc())),s.updateQueue!==null&&(s.flags|=4),St(s),null);case 4:return ms(),Kl(n,s),n===null&&Xs(s.stateNode.containerInfo),St(s),null;case 10:return _l(s.type._context),St(s),null;case 17:return Ot(s.type)&&ho(),St(s),null;case 19:if(We(Qe),v=s.memoizedState,v===null)return St(s),null;if(d=(s.flags&128)!==0,b=v.rendering,b===null)if(d)lr(v,!1);else{if(ct!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(b=_o(n),b!==null){for(s.flags|=128,lr(v,!1),d=b.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=a,a=s.child;a!==null;)v=a,n=d,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,n=b.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return $e(Qe,Qe.current&1|2),s.child}n=n.sibling}v.tail!==null&&x()>ys&&(s.flags|=128,d=!0,lr(v,!1),s.lanes=4194304)}else{if(!d)if(n=_o(b),n!==null){if(s.flags|=128,d=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),lr(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!qe)return St(s),null}else 2*x()-v.renderingStartTime>ys&&a!==1073741824&&(s.flags|=128,d=!0,lr(v,!1),s.lanes=4194304);v.isBackwards?(b.sibling=s.child,s.child=b):(a=v.last,a!==null?a.sibling=b:s.child=b,v.last=b)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=x(),s.sibling=null,a=Qe.current,$e(Qe,d?a&1|2:a&1),s):(St(s),null);case 22:case 23:return lc(),d=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Yt&1073741824)!==0&&(St(s),s.subtreeFlags&6&&(s.flags|=8192)):St(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Fg(n,s){switch(vl(s),s.tag){case 1:return Ot(s.type)&&ho(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ms(),We(Rt),We(bt),Tl(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Pl(s),null;case 13:if(We(Qe),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));us()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return We(Qe),null;case 4:return ms(),null;case 10:return _l(s.type._context),null;case 22:case 23:return lc(),null;case 24:return null;default:return null}}var Eo=!1,_t=!1,Ig=typeof WeakSet=="function"?WeakSet:Set,he=null;function gs(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){Ze(n,s,d)}else a.current=null}function Xl(n,s,a){try{a()}catch(d){Ze(n,s,d)}}var sh=!1;function zg(n,s){if(ll=Gr,n=Lu(),el(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var b=0,j=-1,M=-1,F=0,X=0,J=n,K=null;t:for(;;){for(var de;J!==a||m!==0&&J.nodeType!==3||(j=b+m),J!==v||d!==0&&J.nodeType!==3||(M=b+d),J.nodeType===3&&(b+=J.nodeValue.length),(de=J.firstChild)!==null;)K=J,J=de;for(;;){if(J===n)break t;if(K===a&&++F===m&&(j=b),K===v&&++X===d&&(M=b),(de=J.nextSibling)!==null)break;J=K,K=J.parentNode}J=de}a=j===-1||M===-1?null:{start:j,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(cl={focusedElem:n,selectionRange:a},Gr=!1,he=s;he!==null;)if(s=he,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,he=n;else for(;he!==null;){s=he;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ve=me.memoizedProps,et=me.memoizedState,O=s.stateNode,T=O.getSnapshotBeforeUpdate(s.elementType===s.type?ve:ln(s.type,ve),et);O.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var A=s.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){Ze(s,s.return,ne)}if(n=s.sibling,n!==null){n.return=s.return,he=n;break}he=s.return}return me=sh,sh=!1,me}function cr(n,s,a){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&n)===n){var v=m.destroy;m.destroy=void 0,v!==void 0&&Xl(s,a,v)}m=m.next}while(m!==d)}}function Ro(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var d=a.create;a.destroy=d()}a=a.next}while(a!==s)}}function Gl(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function rh(n){var s=n.alternate;s!==null&&(n.alternate=null,rh(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[vn],delete s[Js],delete s[fl],delete s[wg],delete s[Sg])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function oh(n){return n.tag===5||n.tag===3||n.tag===4}function ah(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||oh(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Jl(n,s,a){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=co));else if(d!==4&&(n=n.child,n!==null))for(Jl(n,s,a),n=n.sibling;n!==null;)Jl(n,s,a),n=n.sibling}function Zl(n,s,a){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(Zl(n,s,a),n=n.sibling;n!==null;)Zl(n,s,a),n=n.sibling}var yt=null,cn=!1;function ii(n,s,a){for(a=a.child;a!==null;)lh(n,s,a),a=a.sibling}function lh(n,s,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Pt,a)}catch{}switch(a.tag){case 5:_t||gs(a,s);case 6:var d=yt,m=cn;yt=null,ii(n,s,a),yt=d,cn=m,yt!==null&&(cn?(n=yt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):yt.removeChild(a.stateNode));break;case 18:yt!==null&&(cn?(n=yt,a=a.stateNode,n.nodeType===8?hl(n.parentNode,a):n.nodeType===1&&hl(n,a),$s(n)):hl(yt,a.stateNode));break;case 4:d=yt,m=cn,yt=a.stateNode.containerInfo,cn=!0,ii(n,s,a),yt=d,cn=m;break;case 0:case 11:case 14:case 15:if(!_t&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,b=v.destroy;v=v.tag,b!==void 0&&((v&2)!==0||(v&4)!==0)&&Xl(a,s,b),m=m.next}while(m!==d)}ii(n,s,a);break;case 1:if(!_t&&(gs(a,s),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(j){Ze(a,s,j)}ii(n,s,a);break;case 21:ii(n,s,a);break;case 22:a.mode&1?(_t=(d=_t)||a.memoizedState!==null,ii(n,s,a),_t=d):ii(n,s,a);break;default:ii(n,s,a)}}function ch(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Ig),s.forEach(function(d){var m=Qg.bind(null,n,d);a.has(d)||(a.add(d),d.then(m,m))})}}function un(n,s){var a=s.deletions;if(a!==null)for(var d=0;d<a.length;d++){var m=a[d];try{var v=n,b=s,j=b;e:for(;j!==null;){switch(j.tag){case 5:yt=j.stateNode,cn=!1;break e;case 3:yt=j.stateNode.containerInfo,cn=!0;break e;case 4:yt=j.stateNode.containerInfo,cn=!0;break e}j=j.return}if(yt===null)throw Error(t(160));lh(v,b,m),yt=null,cn=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(F){Ze(m,s,F)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)uh(s,n),s=s.sibling}function uh(n,s){var a=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(un(s,n),bn(n),d&4){try{cr(3,n,n.return),Ro(3,n)}catch(ve){Ze(n,n.return,ve)}try{cr(5,n,n.return)}catch(ve){Ze(n,n.return,ve)}}break;case 1:un(s,n),bn(n),d&512&&a!==null&&gs(a,a.return);break;case 5:if(un(s,n),bn(n),d&512&&a!==null&&gs(a,a.return),n.flags&32){var m=n.stateNode;try{Je(m,"")}catch(ve){Ze(n,n.return,ve)}}if(d&4&&(m=n.stateNode,m!=null)){var v=n.memoizedProps,b=a!==null?a.memoizedProps:v,j=n.type,M=n.updateQueue;if(n.updateQueue=null,M!==null)try{j==="input"&&v.type==="radio"&&v.name!=null&&te(m,v),Ts(j,b);var F=Ts(j,v);for(b=0;b<M.length;b+=2){var X=M[b],J=M[b+1];X==="style"?Ta(m,J):X==="dangerouslySetInnerHTML"?Ye(m,J):X==="children"?Je(m,J):$(m,X,J,F)}switch(j){case"input":ae(m,v);break;case"textarea":Ge(m,v);break;case"select":var K=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var de=v.value;de!=null?ke(m,!!v.multiple,de,!1):K!==!!v.multiple&&(v.defaultValue!=null?ke(m,!!v.multiple,v.defaultValue,!0):ke(m,!!v.multiple,v.multiple?[]:"",!1))}m[Js]=v}catch(ve){Ze(n,n.return,ve)}}break;case 6:if(un(s,n),bn(n),d&4){if(n.stateNode===null)throw Error(t(162));m=n.stateNode,v=n.memoizedProps;try{m.nodeValue=v}catch(ve){Ze(n,n.return,ve)}}break;case 3:if(un(s,n),bn(n),d&4&&a!==null&&a.memoizedState.isDehydrated)try{$s(s.containerInfo)}catch(ve){Ze(n,n.return,ve)}break;case 4:un(s,n),bn(n);break;case 13:un(s,n),bn(n),m=n.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(nc=x())),d&4&&ch(n);break;case 22:if(X=a!==null&&a.memoizedState!==null,n.mode&1?(_t=(F=_t)||X,un(s,n),_t=F):un(s,n),bn(n),d&8192){if(F=n.memoizedState!==null,(n.stateNode.isHidden=F)&&!X&&(n.mode&1)!==0)for(he=n,X=n.child;X!==null;){for(J=he=X;he!==null;){switch(K=he,de=K.child,K.tag){case 0:case 11:case 14:case 15:cr(4,K,K.return);break;case 1:gs(K,K.return);var me=K.stateNode;if(typeof me.componentWillUnmount=="function"){d=K,a=K.return;try{s=d,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(ve){Ze(d,a,ve)}}break;case 5:gs(K,K.return);break;case 22:if(K.memoizedState!==null){fh(J);continue}}de!==null?(de.return=K,he=de):fh(J)}X=X.sibling}e:for(X=null,J=n;;){if(J.tag===5){if(X===null){X=J;try{m=J.stateNode,F?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(j=J.stateNode,M=J.memoizedProps.style,b=M!=null&&M.hasOwnProperty("display")?M.display:null,j.style.display=Ma("display",b))}catch(ve){Ze(n,n.return,ve)}}}else if(J.tag===6){if(X===null)try{J.stateNode.nodeValue=F?"":J.memoizedProps}catch(ve){Ze(n,n.return,ve)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===n)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===n)break e;for(;J.sibling===null;){if(J.return===null||J.return===n)break e;X===J&&(X=null),J=J.return}X===J&&(X=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:un(s,n),bn(n),d&4&&ch(n);break;case 21:break;default:un(s,n),bn(n)}}function bn(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(oh(a)){var d=a;break e}a=a.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Je(m,""),d.flags&=-33);var v=ah(n);Zl(n,v,m);break;case 3:case 4:var b=d.stateNode.containerInfo,j=ah(n);Jl(n,j,b);break;default:throw Error(t(161))}}catch(M){Ze(n,n.return,M)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Bg(n,s,a){he=n,dh(n)}function dh(n,s,a){for(var d=(n.mode&1)!==0;he!==null;){var m=he,v=m.child;if(m.tag===22&&d){var b=m.memoizedState!==null||Eo;if(!b){var j=m.alternate,M=j!==null&&j.memoizedState!==null||_t;j=Eo;var F=_t;if(Eo=b,(_t=M)&&!F)for(he=m;he!==null;)b=he,M=b.child,b.tag===22&&b.memoizedState!==null?mh(m):M!==null?(M.return=b,he=M):mh(m);for(;v!==null;)he=v,dh(v),v=v.sibling;he=m,Eo=j,_t=F}hh(n)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,he=v):hh(n)}}function hh(n){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:_t||Ro(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!_t)if(a===null)d.componentDidMount();else{var m=s.elementType===s.type?a.memoizedProps:ln(s.type,a.memoizedProps);d.componentDidUpdate(m,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&fd(s,v,d);break;case 3:var b=s.updateQueue;if(b!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}fd(s,b,a)}break;case 5:var j=s.stateNode;if(a===null&&s.flags&4){a=j;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&a.focus();break;case"img":M.src&&(a.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var F=s.alternate;if(F!==null){var X=F.memoizedState;if(X!==null){var J=X.dehydrated;J!==null&&$s(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}_t||s.flags&512&&Gl(s)}catch(K){Ze(s,s.return,K)}}if(s===n){he=null;break}if(a=s.sibling,a!==null){a.return=s.return,he=a;break}he=s.return}}function fh(n){for(;he!==null;){var s=he;if(s===n){he=null;break}var a=s.sibling;if(a!==null){a.return=s.return,he=a;break}he=s.return}}function mh(n){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Ro(4,s)}catch(M){Ze(s,a,M)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var m=s.return;try{d.componentDidMount()}catch(M){Ze(s,m,M)}}var v=s.return;try{Gl(s)}catch(M){Ze(s,v,M)}break;case 5:var b=s.return;try{Gl(s)}catch(M){Ze(s,b,M)}}}catch(M){Ze(s,s.return,M)}if(s===n){he=null;break}var j=s.sibling;if(j!==null){j.return=s.return,he=j;break}he=s.return}}var $g=Math.ceil,Oo=D.ReactCurrentDispatcher,ec=D.ReactCurrentOwner,Zt=D.ReactCurrentBatchConfig,Re=0,ft=null,st=null,xt=0,Yt=0,vs=Jn(0),ct=0,ur=null,Ri=0,Ao=0,tc=0,dr=null,Lt=null,nc=0,ys=1/0,An=null,Lo=!1,ic=null,si=null,Fo=!1,ri=null,Io=0,hr=0,sc=null,zo=-1,Bo=0;function Tt(){return(Re&6)!==0?x():zo!==-1?zo:zo=x()}function oi(n){return(n.mode&1)===0?1:(Re&2)!==0&&xt!==0?xt&-xt:jg.transition!==null?(Bo===0&&(Bo=au()),Bo):(n=Fe,n!==0||(n=window.event,n=n===void 0?16:gu(n.type)),n)}function dn(n,s,a,d){if(50<hr)throw hr=0,sc=null,Error(t(185));Ls(n,a,d),((Re&2)===0||n!==ft)&&(n===ft&&((Re&2)===0&&(Ao|=a),ct===4&&ai(n,xt)),Ft(n,d),a===1&&Re===0&&(s.mode&1)===0&&(ys=x()+500,mo&&ei()))}function Ft(n,s){var a=n.callbackNode;jp(n,s);var d=Qr(n,n===ft?xt:0);if(d===0)a!==null&&Wn(a),n.callbackNode=null,n.callbackPriority=0;else if(s=d&-d,n.callbackPriority!==s){if(a!=null&&Wn(a),s===1)n.tag===0?_g(gh.bind(null,n)):td(gh.bind(null,n)),xg(function(){(Re&6)===0&&ei()}),a=null;else{switch(lu(d)){case 1:a=we;break;case 4:a=Be;break;case 16:a=at;break;case 536870912:a=gn;break;default:a=at}a=jh(a,ph.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function ph(n,s){if(zo=-1,Bo=0,(Re&6)!==0)throw Error(t(327));var a=n.callbackNode;if(xs()&&n.callbackNode!==a)return null;var d=Qr(n,n===ft?xt:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||s)s=$o(n,d);else{s=d;var m=Re;Re|=2;var v=yh();(ft!==n||xt!==s)&&(An=null,ys=x()+500,Ai(n,s));do try{Wg();break}catch(j){vh(n,j)}while(!0);Sl(),Oo.current=v,Re=m,st!==null?s=0:(ft=null,xt=0,s=ct)}if(s!==0){if(s===2&&(m=Ia(n),m!==0&&(d=m,s=rc(n,m))),s===1)throw a=ur,Ai(n,0),ai(n,d),Ft(n,x()),a;if(s===6)ai(n,d);else{if(m=n.current.alternate,(d&30)===0&&!Vg(m)&&(s=$o(n,d),s===2&&(v=Ia(n),v!==0&&(d=v,s=rc(n,v))),s===1))throw a=ur,Ai(n,0),ai(n,d),Ft(n,x()),a;switch(n.finishedWork=m,n.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Li(n,Lt,An);break;case 3:if(ai(n,d),(d&130023424)===d&&(s=nc+500-x(),10<s)){if(Qr(n,0)!==0)break;if(m=n.suspendedLanes,(m&d)!==d){Tt(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=dl(Li.bind(null,n,Lt,An),s);break}Li(n,Lt,An);break;case 4:if(ai(n,d),(d&4194240)===d)break;for(s=n.eventTimes,m=-1;0<d;){var b=31-Et(d);v=1<<b,b=s[b],b>m&&(m=b),d&=~v}if(d=m,d=x()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*$g(d/1960))-d,10<d){n.timeoutHandle=dl(Li.bind(null,n,Lt,An),d);break}Li(n,Lt,An);break;case 5:Li(n,Lt,An);break;default:throw Error(t(329))}}}return Ft(n,x()),n.callbackNode===a?ph.bind(null,n):null}function rc(n,s){var a=dr;return n.current.memoizedState.isDehydrated&&(Ai(n,s).flags|=256),n=$o(n,s),n!==2&&(s=Lt,Lt=a,s!==null&&oc(s)),n}function oc(n){Lt===null?Lt=n:Lt.push.apply(Lt,n)}function Vg(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var m=a[d],v=m.getSnapshot;m=m.value;try{if(!on(v(),m))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ai(n,s){for(s&=~tc,s&=~Ao,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-Et(s),d=1<<a;n[a]=-1,s&=~d}}function gh(n){if((Re&6)!==0)throw Error(t(327));xs();var s=Qr(n,0);if((s&1)===0)return Ft(n,x()),null;var a=$o(n,s);if(n.tag!==0&&a===2){var d=Ia(n);d!==0&&(s=d,a=rc(n,d))}if(a===1)throw a=ur,Ai(n,0),ai(n,s),Ft(n,x()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Li(n,Lt,An),Ft(n,x()),null}function ac(n,s){var a=Re;Re|=1;try{return n(s)}finally{Re=a,Re===0&&(ys=x()+500,mo&&ei())}}function Oi(n){ri!==null&&ri.tag===0&&(Re&6)===0&&xs();var s=Re;Re|=1;var a=Zt.transition,d=Fe;try{if(Zt.transition=null,Fe=1,n)return n()}finally{Fe=d,Zt.transition=a,Re=s,(Re&6)===0&&ei()}}function lc(){Yt=vs.current,We(vs)}function Ai(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,yg(a)),st!==null)for(a=st.return;a!==null;){var d=a;switch(vl(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ho();break;case 3:ms(),We(Rt),We(bt),Tl();break;case 5:Pl(d);break;case 4:ms();break;case 13:We(Qe);break;case 19:We(Qe);break;case 10:_l(d.type._context);break;case 22:case 23:lc()}a=a.return}if(ft=n,st=n=li(n.current,null),xt=Yt=s,ct=0,ur=null,tc=Ao=Ri=0,Lt=dr=null,Ti!==null){for(s=0;s<Ti.length;s++)if(a=Ti[s],d=a.interleaved,d!==null){a.interleaved=null;var m=d.next,v=a.pending;if(v!==null){var b=v.next;v.next=m,d.next=b}a.pending=d}Ti=null}return n}function vh(n,s){do{var a=st;try{if(Sl(),jo.current=Po,ko){for(var d=Ke.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}ko=!1}if(Ei=0,ht=lt=Ke=null,sr=!1,rr=0,ec.current=null,a===null||a.return===null){ct=1,ur=s,st=null;break}e:{var v=n,b=a.return,j=a,M=s;if(s=xt,j.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var F=M,X=j,J=X.tag;if((X.mode&1)===0&&(J===0||J===11||J===15)){var K=X.alternate;K?(X.updateQueue=K.updateQueue,X.memoizedState=K.memoizedState,X.lanes=K.lanes):(X.updateQueue=null,X.memoizedState=null)}var de=Vd(b);if(de!==null){de.flags&=-257,Ud(de,b,j,v,s),de.mode&1&&$d(v,F,s),s=de,M=F;var me=s.updateQueue;if(me===null){var ve=new Set;ve.add(M),s.updateQueue=ve}else me.add(M);break e}else{if((s&1)===0){$d(v,F,s),cc();break e}M=Error(t(426))}}else if(qe&&j.mode&1){var et=Vd(b);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),Ud(et,b,j,v,s),bl(ps(M,j));break e}}v=M=ps(M,j),ct!==4&&(ct=2),dr===null?dr=[v]:dr.push(v),v=b;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var O=zd(v,M,s);hd(v,O);break e;case 1:j=M;var T=v.type,A=v.stateNode;if((v.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(si===null||!si.has(A)))){v.flags|=65536,s&=-s,v.lanes|=s;var ne=Bd(v,j,s);hd(v,ne);break e}}v=v.return}while(v!==null)}bh(a)}catch(xe){s=xe,st===a&&a!==null&&(st=a=a.return);continue}break}while(!0)}function yh(){var n=Oo.current;return Oo.current=Po,n===null?Po:n}function cc(){(ct===0||ct===3||ct===2)&&(ct=4),ft===null||(Ri&268435455)===0&&(Ao&268435455)===0||ai(ft,xt)}function $o(n,s){var a=Re;Re|=2;var d=yh();(ft!==n||xt!==s)&&(An=null,Ai(n,s));do try{Ug();break}catch(m){vh(n,m)}while(!0);if(Sl(),Re=a,Oo.current=d,st!==null)throw Error(t(261));return ft=null,xt=0,ct}function Ug(){for(;st!==null;)xh(st)}function Wg(){for(;st!==null&&!La();)xh(st)}function xh(n){var s=_h(n.alternate,n,Yt);n.memoizedProps=n.pendingProps,s===null?bh(n):st=s,ec.current=null}function bh(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=Lg(a,s,Yt),a!==null){st=a;return}}else{if(a=Fg(a,s),a!==null){a.flags&=32767,st=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ct=6,st=null;return}}if(s=s.sibling,s!==null){st=s;return}st=s=n}while(s!==null);ct===0&&(ct=5)}function Li(n,s,a){var d=Fe,m=Zt.transition;try{Zt.transition=null,Fe=1,Hg(n,s,a,d)}finally{Zt.transition=m,Fe=d}return null}function Hg(n,s,a,d){do xs();while(ri!==null);if((Re&6)!==0)throw Error(t(327));a=n.finishedWork;var m=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var v=a.lanes|a.childLanes;if(kp(n,v),n===ft&&(st=ft=null,xt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Fo||(Fo=!0,jh(at,function(){return xs(),null})),v=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||v){v=Zt.transition,Zt.transition=null;var b=Fe;Fe=1;var j=Re;Re|=4,ec.current=null,zg(n,a),uh(a,n),dg(cl),Gr=!!ll,cl=ll=null,n.current=a,Bg(a),Fa(),Re=j,Fe=b,Zt.transition=v}else n.current=a;if(Fo&&(Fo=!1,ri=n,Io=m),v=n.pendingLanes,v===0&&(si=null),Hr(a.stateNode),Ft(n,x()),s!==null)for(d=n.onRecoverableError,a=0;a<s.length;a++)m=s[a],d(m.value,{componentStack:m.stack,digest:m.digest});if(Lo)throw Lo=!1,n=ic,ic=null,n;return(Io&1)!==0&&n.tag!==0&&xs(),v=n.pendingLanes,(v&1)!==0?n===sc?hr++:(hr=0,sc=n):hr=0,ei(),null}function xs(){if(ri!==null){var n=lu(Io),s=Zt.transition,a=Fe;try{if(Zt.transition=null,Fe=16>n?16:n,ri===null)var d=!1;else{if(n=ri,ri=null,Io=0,(Re&6)!==0)throw Error(t(331));var m=Re;for(Re|=4,he=n.current;he!==null;){var v=he,b=v.child;if((he.flags&16)!==0){var j=v.deletions;if(j!==null){for(var M=0;M<j.length;M++){var F=j[M];for(he=F;he!==null;){var X=he;switch(X.tag){case 0:case 11:case 15:cr(8,X,v)}var J=X.child;if(J!==null)J.return=X,he=J;else for(;he!==null;){X=he;var K=X.sibling,de=X.return;if(rh(X),X===F){he=null;break}if(K!==null){K.return=de,he=K;break}he=de}}}var me=v.alternate;if(me!==null){var ve=me.child;if(ve!==null){me.child=null;do{var et=ve.sibling;ve.sibling=null,ve=et}while(ve!==null)}}he=v}}if((v.subtreeFlags&2064)!==0&&b!==null)b.return=v,he=b;else e:for(;he!==null;){if(v=he,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:cr(9,v,v.return)}var O=v.sibling;if(O!==null){O.return=v.return,he=O;break e}he=v.return}}var T=n.current;for(he=T;he!==null;){b=he;var A=b.child;if((b.subtreeFlags&2064)!==0&&A!==null)A.return=b,he=A;else e:for(b=T;he!==null;){if(j=he,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Ro(9,j)}}catch(xe){Ze(j,j.return,xe)}if(j===b){he=null;break e}var ne=j.sibling;if(ne!==null){ne.return=j.return,he=ne;break e}he=j.return}}if(Re=m,ei(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Pt,n)}catch{}d=!0}return d}finally{Fe=a,Zt.transition=s}}return!1}function wh(n,s,a){s=ps(a,s),s=zd(n,s,1),n=ni(n,s,1),s=Tt(),n!==null&&(Ls(n,1,s),Ft(n,s))}function Ze(n,s,a){if(n.tag===3)wh(n,n,a);else for(;s!==null;){if(s.tag===3){wh(s,n,a);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(si===null||!si.has(d))){n=ps(a,n),n=Bd(s,n,1),s=ni(s,n,1),n=Tt(),s!==null&&(Ls(s,1,n),Ft(s,n));break}}s=s.return}}function Yg(n,s,a){var d=n.pingCache;d!==null&&d.delete(s),s=Tt(),n.pingedLanes|=n.suspendedLanes&a,ft===n&&(xt&a)===a&&(ct===4||ct===3&&(xt&130023424)===xt&&500>x()-nc?Ai(n,0):tc|=a),Ft(n,s)}function Sh(n,s){s===0&&((n.mode&1)===0?s=1:(s=qr,qr<<=1,(qr&130023424)===0&&(qr=4194304)));var a=Tt();n=En(n,s),n!==null&&(Ls(n,s,a),Ft(n,a))}function qg(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Sh(n,a)}function Qg(n,s){var a=0;switch(n.tag){case 13:var d=n.stateNode,m=n.memoizedState;m!==null&&(a=m.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),Sh(n,a)}var _h;_h=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||Rt.current)At=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return At=!1,Ag(n,s,a);At=(n.flags&131072)!==0}else At=!1,qe&&(s.flags&1048576)!==0&&nd(s,go,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Do(n,s),n=s.pendingProps;var m=as(s,bt.current);fs(s,a),m=Rl(null,s,d,n,m,a);var v=Ol();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ot(d)?(v=!0,fo(s)):v=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Nl(s),m.updater=Mo,s.stateNode=m,m._reactInternals=s,Bl(s,d,n,a),s=Wl(null,s,d,!0,v,a)):(s.tag=0,qe&&v&&gl(s),Mt(null,s,m,a),s=s.child),s;case 16:d=s.elementType;e:{switch(Do(n,s),n=s.pendingProps,m=d._init,d=m(d._payload),s.type=d,m=s.tag=Xg(d),n=ln(d,n),m){case 0:s=Ul(null,s,d,n,a);break e;case 1:s=Kd(null,s,d,n,a);break e;case 11:s=Wd(null,s,d,n,a);break e;case 14:s=Hd(null,s,d,ln(d.type,n),a);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:ln(d,m),Ul(n,s,d,m,a);case 1:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:ln(d,m),Kd(n,s,d,m,a);case 3:e:{if(Xd(s),n===null)throw Error(t(387));d=s.pendingProps,v=s.memoizedState,m=v.element,dd(n,s),So(s,d,null,a);var b=s.memoizedState;if(d=b.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){m=ps(Error(t(423)),s),s=Gd(n,s,d,a,m);break e}else if(d!==m){m=ps(Error(t(424)),s),s=Gd(n,s,d,a,m);break e}else for(Ht=Gn(s.stateNode.containerInfo.firstChild),Wt=s,qe=!0,an=null,a=cd(s,null,d,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(us(),d===m){s=On(n,s,a);break e}Mt(n,s,d,a)}s=s.child}return s;case 5:return md(s),n===null&&xl(s),d=s.type,m=s.pendingProps,v=n!==null?n.memoizedProps:null,b=m.children,ul(d,m)?b=null:v!==null&&ul(d,v)&&(s.flags|=32),Qd(n,s),Mt(n,s,b,a),s.child;case 6:return n===null&&xl(s),null;case 13:return Jd(n,s,a);case 4:return Cl(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=ds(s,null,d,a):Mt(n,s,d,a),s.child;case 11:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:ln(d,m),Wd(n,s,d,m,a);case 7:return Mt(n,s,s.pendingProps,a),s.child;case 8:return Mt(n,s,s.pendingProps.children,a),s.child;case 12:return Mt(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(d=s.type._context,m=s.pendingProps,v=s.memoizedProps,b=m.value,$e(xo,d._currentValue),d._currentValue=b,v!==null)if(on(v.value,b)){if(v.children===m.children&&!Rt.current){s=On(n,s,a);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var j=v.dependencies;if(j!==null){b=v.child;for(var M=j.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=Rn(-1,a&-a),M.tag=2;var F=v.updateQueue;if(F!==null){F=F.shared;var X=F.pending;X===null?M.next=M:(M.next=X.next,X.next=M),F.pending=M}}v.lanes|=a,M=v.alternate,M!==null&&(M.lanes|=a),jl(v.return,a,s),j.lanes|=a;break}M=M.next}}else if(v.tag===10)b=v.type===s.type?null:v.child;else if(v.tag===18){if(b=v.return,b===null)throw Error(t(341));b.lanes|=a,j=b.alternate,j!==null&&(j.lanes|=a),jl(b,a,s),b=v.sibling}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===s){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}Mt(n,s,m.children,a),s=s.child}return s;case 9:return m=s.type,d=s.pendingProps.children,fs(s,a),m=Gt(m),d=d(m),s.flags|=1,Mt(n,s,d,a),s.child;case 14:return d=s.type,m=ln(d,s.pendingProps),m=ln(d.type,m),Hd(n,s,d,m,a);case 15:return Yd(n,s,s.type,s.pendingProps,a);case 17:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:ln(d,m),Do(n,s),s.tag=1,Ot(d)?(n=!0,fo(s)):n=!1,fs(s,a),Fd(s,d,m),Bl(s,d,m,a),Wl(null,s,d,!0,n,a);case 19:return eh(n,s,a);case 22:return qd(n,s,a)}throw Error(t(156,s.tag))};function jh(n,s){return Os(n,s)}function Kg(n,s,a,d){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(n,s,a,d){return new Kg(n,s,a,d)}function uc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xg(n){if(typeof n=="function")return uc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===re)return 11;if(n===se)return 14}return 2}function li(n,s){var a=n.alternate;return a===null?(a=en(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Vo(n,s,a,d,m,v){var b=2;if(d=n,typeof n=="function")uc(n)&&(b=1);else if(typeof n=="string")b=5;else e:switch(n){case W:return Fi(a.children,m,v,s);case Z:b=8,m|=8;break;case fe:return n=en(12,a,s,m|2),n.elementType=fe,n.lanes=v,n;case Me:return n=en(13,a,s,m),n.elementType=Me,n.lanes=v,n;case ee:return n=en(19,a,s,m),n.elementType=ee,n.lanes=v,n;case Q:return Uo(a,m,v,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case be:b=10;break e;case ye:b=9;break e;case re:b=11;break e;case se:b=14;break e;case ce:b=16,d=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=en(b,a,s,m),s.elementType=n,s.type=d,s.lanes=v,s}function Fi(n,s,a,d){return n=en(7,n,d,s),n.lanes=a,n}function Uo(n,s,a,d){return n=en(22,n,d,s),n.elementType=Q,n.lanes=a,n.stateNode={isHidden:!1},n}function dc(n,s,a){return n=en(6,n,null,s),n.lanes=a,n}function hc(n,s,a){return s=en(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Gg(n,s,a,d,m){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=za(0),this.expirationTimes=za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=za(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function fc(n,s,a,d,m,v,b,j,M){return n=new Gg(n,s,a,j,M),s===1?(s=1,v===!0&&(s|=8)):s=0,v=en(3,null,null,s),n.current=v,v.stateNode=n,v.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nl(v),n}function Jg(n,s,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:d==null?null:""+d,children:n,containerInfo:s,implementation:a}}function kh(n){if(!n)return Zn;n=n._reactInternals;e:{if(Nn(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ot(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Ot(a))return Zu(n,a,s)}return s}function Nh(n,s,a,d,m,v,b,j,M){return n=fc(a,d,!0,n,m,v,b,j,M),n.context=kh(null),a=n.current,d=Tt(),m=oi(a),v=Rn(d,m),v.callback=s??null,ni(a,v,m),n.current.lanes=m,Ls(n,m,d),Ft(n,d),n}function Wo(n,s,a,d){var m=s.current,v=Tt(),b=oi(m);return a=kh(a),s.context===null?s.context=a:s.pendingContext=a,s=Rn(v,b),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=ni(m,s,b),n!==null&&(dn(n,m,b,v),wo(n,m,b)),b}function Ho(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ch(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function mc(n,s){Ch(n,s),(n=n.alternate)&&Ch(n,s)}function Zg(){return null}var Ph=typeof reportError=="function"?reportError:function(n){console.error(n)};function pc(n){this._internalRoot=n}Yo.prototype.render=pc.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Wo(n,s,null,null)},Yo.prototype.unmount=pc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Oi(function(){Wo(null,n,null,null)}),s[Pn]=null}};function Yo(n){this._internalRoot=n}Yo.prototype.unstable_scheduleHydration=function(n){if(n){var s=du();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Qn.length&&s!==0&&s<Qn[a].priority;a++);Qn.splice(a,0,n),a===0&&mu(n)}};function gc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function qo(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Mh(){}function ev(n,s,a,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var F=Ho(b);v.call(F)}}var b=Nh(s,d,n,0,null,!1,!1,"",Mh);return n._reactRootContainer=b,n[Pn]=b.current,Xs(n.nodeType===8?n.parentNode:n),Oi(),b}for(;m=n.lastChild;)n.removeChild(m);if(typeof d=="function"){var j=d;d=function(){var F=Ho(M);j.call(F)}}var M=fc(n,0,!1,null,null,!1,!1,"",Mh);return n._reactRootContainer=M,n[Pn]=M.current,Xs(n.nodeType===8?n.parentNode:n),Oi(function(){Wo(s,M,a,d)}),M}function Qo(n,s,a,d,m){var v=a._reactRootContainer;if(v){var b=v;if(typeof m=="function"){var j=m;m=function(){var M=Ho(b);j.call(M)}}Wo(s,b,n,m)}else b=ev(a,s,n,m,d);return Ho(b)}cu=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=As(s.pendingLanes);a!==0&&(Ba(s,a|1),Ft(s,x()),(Re&6)===0&&(ys=x()+500,ei()))}break;case 13:Oi(function(){var d=En(n,1);if(d!==null){var m=Tt();dn(d,n,1,m)}}),mc(n,1)}},$a=function(n){if(n.tag===13){var s=En(n,134217728);if(s!==null){var a=Tt();dn(s,n,134217728,a)}mc(n,134217728)}},uu=function(n){if(n.tag===13){var s=oi(n),a=En(n,s);if(a!==null){var d=Tt();dn(a,n,s,d)}mc(n,s)}},du=function(){return Fe},hu=function(n,s){var a=Fe;try{return Fe=n,s()}finally{Fe=a}},Ds=function(n,s,a){switch(s){case"input":if(ae(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var d=a[s];if(d!==n&&d.form===n.form){var m=uo(d);if(!m)throw Error(t(90));bi(d),ae(d,m)}}}break;case"textarea":Ge(n,a);break;case"select":s=a.value,s!=null&&ke(n,!!a.multiple,s,!1)}},Br=ac,$r=Oi;var tv={usingClientEntryPoint:!1,Events:[Zs,rs,uo,zr,Es,ac]},fr={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nv={bundleType:fr.bundleType,version:fr.version,rendererPackageName:fr.rendererPackageName,rendererConfig:fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Cn(n),n===null?null:n.stateNode},findFiberByHostInstance:fr.findFiberByHostInstance||Zg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ko.isDisabled&&Ko.supportsFiber)try{Pt=Ko.inject(nv),Qt=Ko}catch{}}return It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tv,It.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gc(s))throw Error(t(200));return Jg(n,s,null,a)},It.createRoot=function(n,s){if(!gc(n))throw Error(t(299));var a=!1,d="",m=Ph;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=fc(n,1,!1,null,null,a,!1,d,m),n[Pn]=s.current,Xs(n.nodeType===8?n.parentNode:n),new pc(s)},It.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Cn(s),n=n===null?null:n.stateNode,n},It.flushSync=function(n){return Oi(n)},It.hydrate=function(n,s,a){if(!qo(s))throw Error(t(200));return Qo(null,n,s,!0,a)},It.hydrateRoot=function(n,s,a){if(!gc(n))throw Error(t(405));var d=a!=null&&a.hydratedSources||null,m=!1,v="",b=Ph;if(a!=null&&(a.unstable_strictMode===!0&&(m=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),s=Nh(s,null,n,1,a??null,m,!1,v,b),n[Pn]=s.current,Xs(n),d)for(n=0;n<d.length;n++)a=d[n],m=a._getVersion,m=m(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,m]:s.mutableSourceEagerHydrationData.push(a,m);return new Yo(s)},It.render=function(n,s,a){if(!qo(s))throw Error(t(200));return Qo(null,n,s,!1,a)},It.unmountComponentAtNode=function(n){if(!qo(n))throw Error(t(40));return n._reactRootContainer?(Oi(function(){Qo(null,null,n,!1,function(){n._reactRootContainer=null,n[Pn]=null})}),!0):!1},It.unstable_batchedUpdates=ac,It.unstable_renderSubtreeIntoContainer=function(n,s,a,d){if(!qo(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Qo(n,s,a,!1,d)},It.version="18.3.1-next-f1338f8080-20240426",It}var Fh;function uv(){if(Fh)return xc.exports;Fh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),xc.exports=cv(),xc.exports}var Ih;function dv(){if(Ih)return Xo;Ih=1;var i=uv();return Xo.createRoot=i.createRoot,Xo.hydrateRoot=i.hydrateRoot,Xo}var hv=dv();const fv=vm(hv),ym=6048e5,mv=864e5,zh=Symbol.for("constructDateFrom");function vi(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&zh in i?i[zh](e):i instanceof Date?new i.constructor(e):new Date(e)}function mn(i,e){return vi(e||i,i)}let pv={};function ba(){return pv}function Tr(i,e){const t=ba(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,o=mn(i,e?.in),l=o.getDay(),c=(l<r?7:0)+l-r;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function fa(i,e){return Tr(i,{...e,weekStartsOn:1})}function xm(i,e){const t=mn(i,e?.in),r=t.getFullYear(),o=vi(t,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const l=fa(o),c=vi(t,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const h=fa(c);return t.getTime()>=l.getTime()?r+1:t.getTime()>=h.getTime()?r:r-1}function Bh(i){const e=mn(i),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+i-+t}function gv(i,...e){const t=vi.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function $h(i,e){const t=mn(i,e?.in);return t.setHours(0,0,0,0),t}function vv(i,e,t){const[r,o]=gv(t?.in,i,e),l=$h(r),c=$h(o),h=+l-Bh(l),f=+c-Bh(c);return Math.round((h-f)/mv)}function yv(i,e){const t=xm(i,e),r=vi(i,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),fa(r)}function xv(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function bv(i){return!(!xv(i)&&typeof i!="number"||isNaN(+mn(i)))}function wv(i,e){const t=mn(i,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const Sv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_v=(i,e,t)=>{let r;const o=Sv[i];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Sc(i){return(e={})=>{const t=e.width?String(e.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}const jv={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kv={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nv={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cv={date:Sc({formats:jv,defaultWidth:"full"}),time:Sc({formats:kv,defaultWidth:"full"}),dateTime:Sc({formats:Nv,defaultWidth:"full"})},Pv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Mv=(i,e,t,r)=>Pv[i];function pr(i){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let o;if(r==="formatting"&&i.formattingValues){const c=i.defaultFormattingWidth||i.defaultWidth,h=t?.width?String(t.width):c;o=i.formattingValues[h]||i.formattingValues[c]}else{const c=i.defaultWidth,h=t?.width?String(t.width):i.defaultWidth;o=i.values[h]||i.values[c]}const l=i.argumentCallback?i.argumentCallback(e):e;return o[l]}}const Tv={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dv={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ev={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rv={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ov={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Av={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Lv=(i,e)=>{const t=Number(i),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Fv={ordinalNumber:Lv,era:pr({values:Tv,defaultWidth:"wide"}),quarter:pr({values:Dv,defaultWidth:"wide",argumentCallback:i=>i-1}),month:pr({values:Ev,defaultWidth:"wide"}),day:pr({values:Rv,defaultWidth:"wide"}),dayPeriod:pr({values:Ov,defaultWidth:"wide",formattingValues:Av,defaultFormattingWidth:"wide"})};function gr(i){return(e,t={})=>{const r=t.width,o=r&&i.matchPatterns[r]||i.matchPatterns[i.defaultMatchWidth],l=e.match(o);if(!l)return null;const c=l[0],h=r&&i.parsePatterns[r]||i.parsePatterns[i.defaultParseWidth],f=Array.isArray(h)?zv(h,y=>y.test(c)):Iv(h,y=>y.test(c));let p;p=i.valueCallback?i.valueCallback(f):f,p=t.valueCallback?t.valueCallback(p):p;const g=e.slice(c.length);return{value:p,rest:g}}}function Iv(i,e){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&e(i[t]))return t}function zv(i,e){for(let t=0;t<i.length;t++)if(e(i[t]))return t}function Bv(i){return(e,t={})=>{const r=e.match(i.matchPattern);if(!r)return null;const o=r[0],l=e.match(i.parsePattern);if(!l)return null;let c=i.valueCallback?i.valueCallback(l[0]):l[0];c=t.valueCallback?t.valueCallback(c):c;const h=e.slice(o.length);return{value:c,rest:h}}}const $v=/^(\d+)(th|st|nd|rd)?/i,Vv=/\d+/i,Uv={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Wv={any:[/^b/i,/^(a|c)/i]},Hv={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yv={any:[/1/i,/2/i,/3/i,/4/i]},qv={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Qv={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Kv={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xv={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gv={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jv={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zv={ordinalNumber:Bv({matchPattern:$v,parsePattern:Vv,valueCallback:i=>parseInt(i,10)}),era:gr({matchPatterns:Uv,defaultMatchWidth:"wide",parsePatterns:Wv,defaultParseWidth:"any"}),quarter:gr({matchPatterns:Hv,defaultMatchWidth:"wide",parsePatterns:Yv,defaultParseWidth:"any",valueCallback:i=>i+1}),month:gr({matchPatterns:qv,defaultMatchWidth:"wide",parsePatterns:Qv,defaultParseWidth:"any"}),day:gr({matchPatterns:Kv,defaultMatchWidth:"wide",parsePatterns:Xv,defaultParseWidth:"any"}),dayPeriod:gr({matchPatterns:Gv,defaultMatchWidth:"any",parsePatterns:Jv,defaultParseWidth:"any"})},ey={code:"en-US",formatDistance:_v,formatLong:Cv,formatRelative:Mv,localize:Fv,match:Zv,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ty(i,e){const t=mn(i,e?.in);return vv(t,wv(t))+1}function ny(i,e){const t=mn(i,e?.in),r=+fa(t)-+yv(t);return Math.round(r/ym)+1}function bm(i,e){const t=mn(i,e?.in),r=t.getFullYear(),o=ba(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=vi(e?.in||i,0);c.setFullYear(r+1,0,l),c.setHours(0,0,0,0);const h=Tr(c,e),f=vi(e?.in||i,0);f.setFullYear(r,0,l),f.setHours(0,0,0,0);const p=Tr(f,e);return+t>=+h?r+1:+t>=+p?r:r-1}function iy(i,e){const t=ba(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,o=bm(i,e),l=vi(e?.in||i,0);return l.setFullYear(o,0,r),l.setHours(0,0,0,0),Tr(l,e)}function sy(i,e){const t=mn(i,e?.in),r=+Tr(t,e)-+iy(t,e);return Math.round(r/ym)+1}function Ie(i,e){const t=i<0?"-":"",r=Math.abs(i).toString().padStart(e,"0");return t+r}const ui={y(i,e){const t=i.getFullYear(),r=t>0?t:1-t;return Ie(e==="yy"?r%100:r,e.length)},M(i,e){const t=i.getMonth();return e==="M"?String(t+1):Ie(t+1,2)},d(i,e){return Ie(i.getDate(),e.length)},a(i,e){const t=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(i,e){return Ie(i.getHours()%12||12,e.length)},H(i,e){return Ie(i.getHours(),e.length)},m(i,e){return Ie(i.getMinutes(),e.length)},s(i,e){return Ie(i.getSeconds(),e.length)},S(i,e){const t=e.length,r=i.getMilliseconds(),o=Math.trunc(r*Math.pow(10,t-3));return Ie(o,e.length)}},bs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vh={G:function(i,e,t){const r=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(i,e,t){if(e==="yo"){const r=i.getFullYear(),o=r>0?r:1-r;return t.ordinalNumber(o,{unit:"year"})}return ui.y(i,e)},Y:function(i,e,t,r){const o=bm(i,r),l=o>0?o:1-o;if(e==="YY"){const c=l%100;return Ie(c,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):Ie(l,e.length)},R:function(i,e){const t=xm(i);return Ie(t,e.length)},u:function(i,e){const t=i.getFullYear();return Ie(t,e.length)},Q:function(i,e,t){const r=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ie(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(i,e,t){const r=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ie(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(i,e,t){const r=i.getMonth();switch(e){case"M":case"MM":return ui.M(i,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(i,e,t){const r=i.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ie(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(i,e,t,r){const o=sy(i,r);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):Ie(o,e.length)},I:function(i,e,t){const r=ny(i);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Ie(r,e.length)},d:function(i,e,t){return e==="do"?t.ordinalNumber(i.getDate(),{unit:"date"}):ui.d(i,e)},D:function(i,e,t){const r=ty(i);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Ie(r,e.length)},E:function(i,e,t){const r=i.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(i,e,t,r){const o=i.getDay(),l=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ie(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(i,e,t,r){const o=i.getDay(),l=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ie(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(i,e,t){const r=i.getDay(),o=r===0?7:r;switch(e){case"i":return String(o);case"ii":return Ie(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(i,e,t){const o=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(i,e,t){const r=i.getHours();let o;switch(r===12?o=bs.noon:r===0?o=bs.midnight:o=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(i,e,t){const r=i.getHours();let o;switch(r>=17?o=bs.evening:r>=12?o=bs.afternoon:r>=4?o=bs.morning:o=bs.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(i,e,t){if(e==="ho"){let r=i.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return ui.h(i,e)},H:function(i,e,t){return e==="Ho"?t.ordinalNumber(i.getHours(),{unit:"hour"}):ui.H(i,e)},K:function(i,e,t){const r=i.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Ie(r,e.length)},k:function(i,e,t){let r=i.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Ie(r,e.length)},m:function(i,e,t){return e==="mo"?t.ordinalNumber(i.getMinutes(),{unit:"minute"}):ui.m(i,e)},s:function(i,e,t){return e==="so"?t.ordinalNumber(i.getSeconds(),{unit:"second"}):ui.s(i,e)},S:function(i,e){return ui.S(i,e)},X:function(i,e,t){const r=i.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Wh(r);case"XXXX":case"XX":return $i(r);case"XXXXX":case"XXX":default:return $i(r,":")}},x:function(i,e,t){const r=i.getTimezoneOffset();switch(e){case"x":return Wh(r);case"xxxx":case"xx":return $i(r);case"xxxxx":case"xxx":default:return $i(r,":")}},O:function(i,e,t){const r=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Uh(r,":");case"OOOO":default:return"GMT"+$i(r,":")}},z:function(i,e,t){const r=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Uh(r,":");case"zzzz":default:return"GMT"+$i(r,":")}},t:function(i,e,t){const r=Math.trunc(+i/1e3);return Ie(r,e.length)},T:function(i,e,t){return Ie(+i,e.length)}};function Uh(i,e=""){const t=i>0?"-":"+",r=Math.abs(i),o=Math.trunc(r/60),l=r%60;return l===0?t+String(o):t+String(o)+e+Ie(l,2)}function Wh(i,e){return i%60===0?(i>0?"-":"+")+Ie(Math.abs(i)/60,2):$i(i,e)}function $i(i,e=""){const t=i>0?"-":"+",r=Math.abs(i),o=Ie(Math.trunc(r/60),2),l=Ie(r%60,2);return t+o+e+l}const Hh=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},wm=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ry=(i,e)=>{const t=i.match(/(P+)(p+)?/)||[],r=t[1],o=t[2];if(!o)return Hh(i,e);let l;switch(r){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Hh(r,e)).replace("{{time}}",wm(o,e))},oy={p:wm,P:ry},ay=/^D+$/,ly=/^Y+$/,cy=["D","DD","YY","YYYY"];function uy(i){return ay.test(i)}function dy(i){return ly.test(i)}function hy(i,e,t){const r=fy(i,e,t);if(console.warn(r),cy.includes(i))throw new RangeError(r)}function fy(i,e,t){const r=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const my=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,py=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gy=/^'([^]*?)'?$/,vy=/''/g,yy=/[a-zA-Z]/;function Bt(i,e,t){const r=ba(),o=r.locale??ey,l=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,h=mn(i,t?.in);if(!bv(h))throw new RangeError("Invalid time value");let f=e.match(py).map(g=>{const y=g[0];if(y==="p"||y==="P"){const w=oy[y];return w(g,o.formatLong)}return g}).join("").match(my).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:xy(g)};if(Vh[y])return{isToken:!0,value:g};if(y.match(yy))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});o.localize.preprocessor&&(f=o.localize.preprocessor(h,f));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:o};return f.map(g=>{if(!g.isToken)return g.value;const y=g.value;(dy(y)||uy(y))&&hy(y,e,String(i));const w=Vh[y[0]];return w(h,y,o.localize,p)}).join("")}function xy(i){const e=i.match(gy);return e?e[1].replace(vy,"'"):i}const Ae=[{id:"1",username:"superadmin",password:"super123",roles:["superadmin","admin","user"],email:"superadmin@company.com",fullName:"Super Administrator",createdAt:new Date().toISOString()},{id:"2",username:"admin",password:"admin123",roles:["admin","user"],email:"admin@company.com",fullName:"Building Administrator",createdAt:new Date().toISOString()},{id:"3",username:"user",password:"user123",roles:["user"],email:"user@company.com",fullName:"Data Collector",createdAt:new Date().toISOString()},{id:"4",username:"reviewer",password:"reviewer123",roles:["reviewer"],email:"reviewer@company.com",fullName:"Data Quality Reviewer",createdAt:new Date().toISOString(),notificationPreferences:{email:{enabled:!0,notifyOnSubmission:!0,notifyOnApproval:!1,notifyOnRejection:!1,notifyOnRevisionRequest:!1}}},{id:"5",username:"supervisor",password:"supervisor123",roles:["reviewer","admin"],email:"supervisor@company.com",fullName:"Department Supervisor",createdAt:new Date().toISOString(),notificationPreferences:{email:{enabled:!0,notifyOnSubmission:!0,notifyOnApproval:!1,notifyOnRejection:!1,notifyOnRevisionRequest:!1}}},{id:"6",username:"manager",password:"manager123",roles:["admin","user"],email:"manager@company.com",fullName:"Building Manager",createdAt:new Date().toISOString()},{id:"7",username:"technician",password:"tech123",roles:["user"],email:"tech@company.com",fullName:"Field Technician",createdAt:new Date().toISOString()}],ua=[...Ae.map(i=>({...i}))],by=()=>{try{const i=localStorage.getItem("userDatabase");if(i){const e=JSON.parse(i);if(Array.isArray(e)&&e.length>0){console.log("Loading users from localStorage:",e);const t=["superadmin","admin","user","reviewer","supervisor","manager","technician"],r=e.map(l=>l.username),o=t.filter(l=>!r.includes(l));o.length>0?(console.log("Missing users detected:",o,"- reinitializing with defaults"),Ae.length=0,Ae.push(...ua.map(l=>({...l}))),js()):(Ae.length=0,Ae.push(...e));return}}console.log("No valid saved user data, using defaults"),Ae.length=0,Ae.push(...ua.map(e=>({...e}))),js()}catch(i){console.error("Failed to initialize user database:",i),Ae.length=0,Ae.push(...ua.map(e=>({...e})))}},wy=()=>{console.log("Resetting user database to defaults..."),Ae.length=0,Ae.push(...ua.map(i=>({...i}))),js(),console.log("User database reset complete. Users:",Ae.map(i=>i.username))},Sm=(i,e)=>{const t=i.trim().toLowerCase(),r=e.trim();console.log("Attempting authentication for user:",t),console.log("Current USER_DATABASE:",Ae);const o=Ae.find(l=>l.username.toLowerCase()===t&&l.password===r);return o?(console.log("Authentication successful for:",t),o.lastLogin=new Date().toISOString()):(console.log("Authentication failed for:",t),console.log("Available users:",Ae.map(l=>l.username.toLowerCase()))),o||null},Sy=i=>Ae.find(e=>e.id===i)||null,_y=(i,e)=>i.roles.includes(e),jy=i=>{try{sessionStorage.setItem("authState",JSON.stringify(i))}catch(e){console.error("Failed to save auth state:",e)}},Yh=()=>{try{sessionStorage.removeItem("authState")}catch(i){console.error("Failed to clear auth state:",i)}};window.debugUsers=()=>{console.log("=== USER DATABASE DEBUG ==="),console.log("Current USER_DATABASE:",Ae),console.log("LocalStorage userDatabase:",localStorage.getItem("userDatabase")),console.log("Available usernames:",Ae.map(i=>i.username)),console.log("Available roles:",Ae.map(i=>({username:i.username,roles:i.roles}))),console.log("===========================")};window.testUser=(i,e)=>{console.log(`Testing user: ${i} with password: ${e}`);const t=Sm(i,e);return console.log("Authentication result:",t),t};window.resetUsers=()=>{wy(),console.log("User database has been reset. Please refresh the page.")};const kr=i=>{switch(i){case"superadmin":return"🔧 Super Admin";case"admin":return"⚙️ Administrator";case"reviewer":return"🔍 Reviewer";case"user":return"👤 User";default:return i}},ky=i=>{const e={...i,id:Date.now().toString(),createdAt:new Date().toISOString()};return Ae.push(e),js(),e},Ny=(i,e)=>{const t=Ae.findIndex(r=>r.id===i);return t===-1?null:(Ae[t]={...Ae[t],...e},js(),Ae[t])},Cy=i=>{const e=Ae.findIndex(t=>t.id===i);return e===-1?!1:(Ae.splice(e,1),js(),!0)},Fc=()=>(console.log("getAllUsers called, USER_DATABASE length:",Ae.length),console.log("getAllUsers returning:",Ae),[...Ae]),qh=(i,e)=>Ae.some(t=>t.username===i&&t.id!==e),js=()=>{try{localStorage.setItem("userDatabase",JSON.stringify(Ae))}catch(i){console.error("Failed to save user database:",i)}},Py=({readingPoints:i,readingPointLists:e,fieldDefinitions:t,currentUserId:r,onAddPoint:o,onUpdatePoint:l,onDeletePoint:c,onAddList:h,onUpdateList:f,onDeleteList:p,onUpdateFieldDefinitions:g})=>{gi.useEffect(()=>{const x=()=>{sessionStorage.clear()};return window.addEventListener("beforeunload",x),()=>{window.removeEventListener("beforeunload",x)}},[]);const[y,w]=Y.useState("points"),[S,k]=Y.useState(!1),[_,N]=Y.useState(!1),[P,B]=Y.useState(!1),[$,D]=Y.useState(!1),[R,L]=Y.useState(!1),[W,Z]=Y.useState(null),[fe,be]=Y.useState(null),[ye,re]=Y.useState(null),[Me,ee]=Y.useState(!1),[se,ce]=Y.useState(null),[Q,I]=Y.useState(""),[H,U]=Y.useState([]),[C,E]=Y.useState(!1),[G,oe]=Y.useState(null),[ie,ue]=Y.useState(null),[je,Pe]=Y.useState(!1),[ge,Xe]=Y.useState({id:"",name:"",readingType:t.readingTypes[0]||"",unit:(t.units[t.readingTypes[0]]||[])[0]||"",buildingName:t.buildings[0]||"",floor:t.floors[0]||"",room:t.rooms[0]||"",component:"",isActive:!0,createdAt:new Date().toISOString()}),ot=x=>{if(!x)return"";if(x.includes("T")){const[at]=x.split("T"),[it,gn,Pt]=at.split("-");return it&&gn&&Pt?`${gn}/${Pt}/${it}`:x}const[z,we,Be]=x.split("-");return z&&we&&Be?`${we}/${Be}/${z}`:x},bi=x=>{if(!x)return"Unknown";const z=Ae.find(we=>we.id===x);if(z){if(z.fullName&&z.fullName.trim()!=="")return z.fullName;if(z.username&&z.username.trim()!=="")return z.username}return x},Bn=()=>[...new Set(i.map(z=>z.buildingName))].sort(),[Vt,V]=Y.useState("all"),[te,ae]=Y.useState("all"),[le,pe]=Y.useState("all"),q=()=>{const x=Vt==="all"?i:i.filter(we=>we.buildingName===Vt);return[...new Set(x.map(we=>we.floor))].sort()},ke=()=>{let x=i;return Vt!=="all"&&(x=x.filter(we=>we.buildingName===Vt)),te!=="all"&&(x=x.filter(we=>we.floor===te)),[...new Set(x.map(we=>we.room))].sort()},ut=()=>{let x=i;return Vt!=="all"&&(x=x.filter(z=>z.buildingName===Vt)),te!=="all"&&(x=x.filter(z=>z.floor===te)),le!=="all"&&(x=x.filter(z=>z.room===le)),x},Ce=x=>{V(x),ae("all"),pe("all")},Ge=x=>{ae(x),pe("all")},[gt,wi]=Y.useState({name:"",buildingName:"",floor:"",room:"",readingType:t.readingTypes[0]||"temperature",component:"",unit:"",description:"",validationType:"range",minValue:"",maxValue:""}),[nt,vt]=Y.useState({name:"",description:"",expectedCompletionDate:"",selectedPoints:[],isModel:!1}),[Ye,Je]=Y.useState({name:"",description:"",expectedCompletionDate:"",originalName:"",isModel:!1,selectedPoints:[]}),[Ve,Ms]=Y.useState({selectedListId:"",startDate:"",endDate:"",frequency:"daily",namePattern:"sequential",namePrefix:"",includeOriginalName:!0,isModel:!1}),[Ma,Ta]=Y.useState({name:"",buildingName:"",floor:"",room:"",readingType:"temperature",component:"",unit:"",description:"",validationType:"range",minValue:"",maxValue:""}),[dt,Dt]=Y.useState({name:"",description:"",selectedPoints:[],isModel:!1}),[Ts,Ki]=Y.useState(!1),[Si,Ds]=Y.useState(null),[rn,pn]=Y.useState([]),[Da,zr]=Y.useState({}),Es=[],Br=()=>{Si&&(zr(x=>({...x,[Si]:rn})),Ki(!1),Ds(null),pn([]))},$r=x=>{window.confirm(`Are you sure you want to delete the reading point "${x.name}"?

Location: ${x.buildingName} - ${x.floor} - ${x.room}
Type: ${x.readingType.replace("_"," ")} (${x.unit})

This action cannot be undone.`)&&c(x.id)},Xi=x=>{const z=x.pointIds.length;window.confirm(`Are you sure you want to delete the reading list "${x.name}"?

This list contains ${z} reading point${z!==1?"s":""}.
This action cannot be undone.`)&&p(x.id)},Vr=x=>{if(x.preventDefault(),!nt.name||nt.selectedPoints.length===0){alert("Please provide a list name and select at least one reading point");return}const z={id:Date.now().toString(),name:nt.name,description:nt.description,pointIds:nt.selectedPoints,expectedCompletionDate:nt.expectedCompletionDate||void 0,createdBy:r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isModel:nt.isModel};h(z),vt({name:"",description:"",expectedCompletionDate:"",selectedPoints:[],isModel:!1}),N(!1)},$n=x=>{if(x.preventDefault(),!Ye.name){alert("Please provide a name for the new list");return}const z=e.find(it=>it.id===ye);if(!z){alert("Original list not found");return}const we=new Date,Be=`${we.getFullYear()}-${String(we.getMonth()+1).padStart(2,"0")}-${String(we.getDate()).padStart(2,"0")}`,at={id:Date.now().toString(),name:Ye.name,description:Ye.description||`Copy of ${z.name}`,pointIds:[...Ye.selectedPoints],expectedCompletionDate:Be,createdBy:r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isModel:Ye.isModel||!1};h(at),Je({name:"",description:"",expectedCompletionDate:"",originalName:"",isModel:!1,selectedPoints:[]}),re(null),B(!1),alert(`Successfully created "${Ye.name}" with ${z.pointIds.length} points from "${z.name}"`)},Rs=x=>{if(x.preventDefault(),!Ve.selectedListId||!Ve.startDate||!Ve.endDate){alert("Please select a template list and specify the date range.");return}const z=e.find(Pt=>Pt.id===Ve.selectedListId);if(!z){alert("Selected template list not found.");return}const we=new Date(Ve.startDate),Be=new Date(Ve.endDate);if(we>Be){alert("Start date must be before or equal to end date.");return}const at=[],it=new Date(we);let gn=1;for(;it<=Be;){let Pt="";if(it.toISOString().split("T")[0],Ve.namePattern==="date"){const Et=it.toLocaleDateString();Ve.includeOriginalName?Pt=`${z.name} - ${Et}`:Pt=`${Ve.namePrefix||"Reading List"} - ${Et}`}else Ve.includeOriginalName?Pt=`${z.name} ${gn}`:Pt=`${Ve.namePrefix||"Reading List"} ${gn}`;const Qt=new Date().toISOString().split("T")[0],Hr={id:`bulk-${Date.now()}-${gn}`,name:Pt,description:z.description||`Auto-generated from template: ${z.name}`,pointIds:[...z.pointIds],expectedCompletionDate:Qt,createdBy:r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isModel:Ve.isModel};at.push(Hr),h(Hr),Ve.frequency==="daily"?it.setDate(it.getDate()+1):Ve.frequency==="weekly"?it.setDate(it.getDate()+7):Ve.frequency==="monthly"&&it.setMonth(it.getMonth()+1),gn++}Ms({selectedListId:"",startDate:"",endDate:"",frequency:"daily",namePattern:"sequential",namePrefix:"",includeOriginalName:!0,isModel:!1}),D(!1),alert(`Successfully created ${at.length} reading lists from template "${z.name}" for ${Ve.startDate} to ${Ve.endDate}`)},Vn=x=>{const z=e.find(we=>we.id===x);z&&(re(x),Je({name:`Copy of ${z.name}`,description:z.description||"",expectedCompletionDate:"",originalName:z.name,isModel:!!z.isModel,selectedPoints:[...z.pointIds]}),B(!0))},Ea=x=>{vt(z=>({...z,selectedPoints:z.selectedPoints.includes(x)?z.selectedPoints.filter(we=>we!==x):[...z.selectedPoints,x]}))},Un=x=>{Dt(z=>({...z,selectedPoints:z.selectedPoints.includes(x)?z.selectedPoints.filter(we=>we!==x):[...z.selectedPoints,x]}))},_i=x=>{Dt({name:x.name,description:x.description||"",selectedPoints:[...x.pointIds],isModel:x.isModel||!1}),be(x.id),L(!0)},ji=x=>{if(x.preventDefault(),!dt.name||dt.selectedPoints.length===0){alert("Please provide a list name and select at least one reading point");return}fe&&(f(fe,{name:dt.name,description:dt.description,pointIds:dt.selectedPoints,isModel:dt.isModel}),Dt({name:"",description:"",selectedPoints:[],isModel:!1}),be(null),L(!1))},Gi=()=>{Dt({name:"",description:"",selectedPoints:[],isModel:!1}),be(null),L(!1)},Ra=x=>{window.confirm(`Convert "${x.name}" to a Model Template?

Model templates:
• Are never worked or completed by users
• Only serve as templates for creating other lists
• Will be moved to the Model Templates tab

This action can be reversed later if needed.`)&&f(x.id,{isModel:!0})},Oa=x=>{window.confirm(`Convert "${x.name}" back to a Regular List?

This template will:
• Become available for users to work with
• Be moved to the Point Lists tab
• No longer serve as a template only

Are you sure you want to proceed?`)&&f(x.id,{isModel:!1})},ki=t.readingTypes||[],Nn=()=>{if(se===null)return;const x=[...ki];x[se]=Q;const z={...t.units};z[Q]=H,Q!==ki[se]&&delete z[ki[se]],typeof g=="function"&&g({...t,readingTypes:x,units:z}),ee(!1),ce(null)},Ur=()=>{if(se===null)return;const x=ki[se],z=ki.filter((Be,at)=>at!==se),we={...t.units};delete we[x],typeof g=="function"&&g({...t,readingTypes:z,units:we}),ee(!1),ce(null)},Wr=x=>{const z=i.find(we=>we.id===x)||null;oe(x),ue(z),E(!0)},Aa=()=>{G&&ie&&(l(G,ie),E(!1),oe(null),ue(null))},Cn=(x,z)=>{ie&&ue({...ie,[x]:z})},Ct=(x,z)=>{Xe({...ge,[x]:z})},Os=()=>{ge.name.trim()&&(o({...ge,id:Date.now().toString(),isActive:!0,createdAt:new Date().toISOString()}),Pe(!1),Xe({id:"",name:"",readingType:t.readingTypes[0]||"",unit:(t.units[t.readingTypes[0]]||[])[0]||"",buildingName:t.buildings[0]||"",floor:t.floors[0]||"",room:t.rooms[0]||"",component:"",isActive:!0,createdAt:new Date().toISOString()}))},Wn=(x,z)=>(z.includes(x)?z:[x,...z.filter(Be=>Be!==x)]).filter((Be,at,it)=>Be&&it.indexOf(Be)===at),La=x=>{const z=i.filter(we=>we.buildingName===x).map(we=>we.floor).filter((we,Be,at)=>we&&at.indexOf(we)===Be);return Wn(ie?.floor||"",z.length?z:t.floors)},Fa=(x,z)=>{const we=i.filter(Be=>Be.buildingName===x&&Be.floor===z).map(Be=>Be.room).filter((Be,at,it)=>Be&&it.indexOf(Be)===at);return Wn(ie?.room||"",we.length?we:t.rooms)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"tabs",children:[u.jsxs("button",{className:`tab ${y==="points"?"active":""}`,onClick:()=>w("points"),children:["Reading Points (",i.length,")"]}),u.jsxs("button",{className:`tab ${y==="lists"?"active":""}`,onClick:()=>w("lists"),children:["Point Lists (",e.filter(x=>!x.isModel).length,")"]}),u.jsxs("button",{className:`tab ${y==="models"?"active":""}`,onClick:()=>w("models"),children:["📋 Model Templates (",e.filter(x=>x.isModel).length,")"]})]}),P&&u.jsx("div",{className:"form-overlay",children:u.jsxs("form",{className:"add-list-form",onSubmit:$n,children:[u.jsx("h4",{children:"Copy Reading Point List"}),Ye.isModel&&u.jsx("div",{className:"model-template-context",children:u.jsx("span",{className:"badge model-badge",children:"🔒 Copying Model Template"})}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"New List Name *"}),u.jsx("input",{type:"text",value:Ye.name,onChange:x=>Je(z=>({...z,name:x.target.value})),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Description"}),u.jsx("textarea",{value:Ye.description,onChange:x=>Je(z=>({...z,description:x.target.value})),rows:2})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Expected Completion Date"}),u.jsx("input",{type:"date",value:Ye.expectedCompletionDate,onChange:x=>Je(z=>({...z,expectedCompletionDate:x.target.value}))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Select Reading Points *"}),u.jsx("div",{className:"points-selection",children:i.filter(x=>x.isActive).map(x=>u.jsxs("div",{className:"point-checkbox",children:[u.jsx("input",{type:"checkbox",id:`copy-point-${x.id}`,checked:Ye.selectedPoints?.includes(x.id)||!1,onChange:()=>Je(z=>({...z,selectedPoints:z.selectedPoints?.includes(x.id)?z.selectedPoints.filter(we=>we!==x.id):[...z.selectedPoints||[],x.id]}))}),u.jsxs("label",{htmlFor:`copy-point-${x.id}`,children:[u.jsx("strong",{children:x.name}),u.jsx("br",{}),u.jsxs("small",{children:[x.buildingName," - ",x.floor," - ",x.room]}),x.component&&u.jsxs(u.Fragment,{children:[u.jsx("br",{}),u.jsxs("small",{className:"component-tag",children:["📊 ",x.component]})]})]})]},x.id))})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:Ye.isModel,onChange:x=>Je(z=>({...z,isModel:x.target.checked}))}),"📋 Mark as Model Template"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn btn-primary",children:"Create Copy"}),u.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{B(!1),re(null),Je({name:"",description:"",expectedCompletionDate:"",originalName:"",isModel:!1,selectedPoints:[]})},children:"Cancel"})]})]})}),R&&u.jsx("div",{className:"form-overlay",children:u.jsxs("form",{className:"add-list-form",onSubmit:ji,children:[u.jsx("h4",{children:"Edit Reading Point List"}),dt.isModel&&u.jsx("div",{className:"model-template-context",children:u.jsx("span",{className:"badge model-badge",children:"🔒 Editing Model Template"})}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"List Name *"}),u.jsx("input",{type:"text",value:dt.name,onChange:x=>Dt(z=>({...z,name:x.target.value})),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Description"}),u.jsx("textarea",{value:dt.description,onChange:x=>Dt(z=>({...z,description:x.target.value})),rows:2})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Select Reading Points *"}),u.jsx("div",{className:"points-selection",children:i.filter(x=>x.isActive).map(x=>u.jsxs("div",{className:"point-checkbox",children:[u.jsx("input",{type:"checkbox",id:`edit-point-${x.id}`,checked:dt.selectedPoints.includes(x.id),onChange:()=>Un(x.id)}),u.jsxs("label",{htmlFor:`edit-point-${x.id}`,children:[u.jsx("strong",{children:x.name}),u.jsx("br",{}),u.jsxs("small",{children:[x.buildingName," - ",x.floor," - ",x.room]}),x.component&&u.jsxs(u.Fragment,{children:[u.jsx("br",{}),u.jsxs("small",{className:"component-tag",children:["📊 ",x.component]})]})]})]},x.id))})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:dt.isModel,onChange:x=>Dt(z=>({...z,isModel:x.target.checked}))}),"📋 Mark as Model Template"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn btn-primary",children:"Update List"}),u.jsx("button",{type:"button",className:"btn btn-secondary",onClick:Gi,children:"Cancel"})]})]})}),y==="points"&&u.jsxs(gi.Fragment,{children:[u.jsx("div",{style:{marginBottom:"1rem",display:"flex",justifyContent:"flex-end"},children:u.jsx("button",{className:"btn btn-primary",onClick:()=>Pe(!0),children:"+ Create Point"})}),je&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content admin-modal-card",style:{background:"#fff",borderRadius:"10px",boxShadow:"0 2px 16px rgba(0,0,0,0.12)",padding:"2rem",maxWidth:"420px",margin:"2rem auto",position:"relative"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[u.jsx("h3",{style:{margin:0},children:"Create Point"}),u.jsx("button",{className:"btn btn-secondary",style:{fontSize:"1.2em",padding:"0 0.5em",borderRadius:"50%"},onClick:()=>Pe(!1),title:"Close",children:"×"})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Name"}),u.jsx("input",{className:"form-control",type:"text",value:ge.name,onChange:x=>Ct("name",x.target.value)})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Type"}),u.jsx("select",{className:"form-control",value:ge.readingType,onChange:x=>Ct("readingType",x.target.value),children:t.readingTypes.map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Unit"}),u.jsx("select",{className:"form-control",value:ge.unit,onChange:x=>Ct("unit",x.target.value),children:(t.units[ge.readingType]||[]).map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Building"}),u.jsx("select",{className:"form-control",value:ge.buildingName,onChange:x=>Ct("buildingName",x.target.value),children:t.buildings.map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Floor"}),u.jsx("select",{className:"form-control",value:ge.floor,onChange:x=>Ct("floor",x.target.value),children:t.floors.map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Room"}),u.jsx("select",{className:"form-control",value:ge.room,onChange:x=>Ct("room",x.target.value),children:t.rooms.map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"2rem"},children:[u.jsx("button",{className:"btn btn-primary",onClick:Os,children:"Save"}),u.jsx("button",{className:"btn btn-secondary",onClick:()=>Pe(!1),children:"Cancel"})]})]})}),u.jsx("div",{className:"filter-controls",children:u.jsxs("div",{className:"filter-row",children:[u.jsx("label",{children:"Building:"}),u.jsxs("select",{value:Vt,onChange:x=>Ce(x.target.value),children:[u.jsx("option",{value:"all",children:"All"}),Bn().map(x=>u.jsx("option",{value:x,children:x},x))]}),u.jsx("label",{children:"Floor:"}),u.jsxs("select",{value:te,onChange:x=>Ge(x.target.value),children:[u.jsx("option",{value:"all",children:"All"}),q().map(x=>u.jsx("option",{value:x,children:x},x))]}),u.jsx("label",{children:"Room:"}),u.jsxs("select",{value:le,onChange:x=>pe(x.target.value),children:[u.jsx("option",{value:"all",children:"All"}),ke().map(x=>u.jsx("option",{value:x,children:x},x))]})]})}),u.jsx("div",{className:"points-list",children:ut().length===0?u.jsx("div",{className:"no-data",children:u.jsx("p",{children:"No reading points found for the selected filters."})}):u.jsx("div",{className:"points-grid",children:ut().map(x=>u.jsxs("div",{className:"point-card",children:[u.jsxs("div",{className:"point-header",children:[u.jsx("h4",{children:x.name}),u.jsxs("div",{className:"point-actions",children:[u.jsx("button",{className:"btn-icon edit",onClick:()=>Wr(x.id),title:"Edit Point",children:"✎"}),u.jsx("button",{className:"btn-icon delete",onClick:()=>$r(x),title:"Delete Point",children:"×"})]})]}),u.jsxs("div",{className:"point-details",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Location:"})," ",x.buildingName," - ",x.floor," - ",x.room]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Type:"})," ",x.readingType," ",x.unit&&`(${x.unit})`]}),x.component&&u.jsxs("p",{children:[u.jsx("strong",{children:"Component:"})," ",x.component]}),x.description&&u.jsxs("p",{children:[u.jsx("strong",{children:"Description:"})," ",x.description]})]})]},x.id))})})]}),y==="lists"&&u.jsxs("div",{className:"lists-section",children:[u.jsx("div",{style:{marginBottom:"1rem",display:"flex",justifyContent:"flex-end"},children:u.jsx("button",{className:"btn btn-primary",onClick:()=>N(!0),children:"+ Add List"})}),_&&u.jsx("div",{className:"form-overlay",children:u.jsxs("form",{className:"add-list-form",onSubmit:Vr,children:[u.jsx("h4",{children:"Create New Reading Point List"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"List Name *"}),u.jsx("input",{type:"text",value:nt.name,onChange:x=>vt(z=>({...z,name:x.target.value})),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Description"}),u.jsx("textarea",{value:nt.description,onChange:x=>vt(z=>({...z,description:x.target.value})),rows:2})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Expected Completion Date"}),u.jsx("input",{type:"date",value:nt.expectedCompletionDate,onChange:x=>vt(z=>({...z,expectedCompletionDate:x.target.value}))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Select Reading Points *"}),u.jsx("div",{className:"points-selection",children:i.filter(x=>x.isActive).map(x=>u.jsxs("div",{className:"point-checkbox",children:[u.jsx("input",{type:"checkbox",id:`point-${x.id}`,checked:nt.selectedPoints.includes(x.id),onChange:()=>Ea(x.id)}),u.jsxs("label",{htmlFor:`point-${x.id}`,children:[x.name," ",u.jsxs("small",{children:[x.buildingName," - ",x.floor," - ",x.room]})]})]},x.id))})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:nt.isModel,onChange:x=>vt(z=>({...z,isModel:x.target.checked}))}),"📋 Mark as Model Template"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn btn-primary",children:"Create List"}),u.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>N(!1),children:"Cancel"})]})]})}),P&&u.jsx("div",{className:"form-overlay",children:u.jsxs("form",{className:"add-list-form",onSubmit:$n,children:[u.jsx("h4",{children:"Copy Reading Point List"}),Ye.isModel&&u.jsx("div",{className:"model-template-context",children:u.jsx("span",{className:"badge model-badge",children:"🔒 Copying Model Template"})}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"New List Name *"}),u.jsx("input",{type:"text",value:Ye.name,onChange:x=>Je(z=>({...z,name:x.target.value})),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Description"}),u.jsx("textarea",{value:Ye.description,onChange:x=>Je(z=>({...z,description:x.target.value})),rows:2})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Expected Completion Date"}),u.jsx("input",{type:"date",value:Ye.expectedCompletionDate,onChange:x=>Je(z=>({...z,expectedCompletionDate:x.target.value}))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Select Reading Points *"}),u.jsx("div",{className:"points-selection",children:i.filter(x=>x.isActive).map(x=>u.jsxs("div",{className:"point-checkbox",children:[u.jsx("input",{type:"checkbox",id:`copy-point-${x.id}`,checked:Ye.selectedPoints?.includes(x.id)||!1,onChange:()=>Je(z=>({...z,selectedPoints:z.selectedPoints?.includes(x.id)?z.selectedPoints.filter(we=>we!==x.id):[...z.selectedPoints||[],x.id]}))}),u.jsxs("label",{htmlFor:`copy-point-${x.id}`,children:[u.jsx("strong",{children:x.name}),u.jsx("br",{}),u.jsxs("small",{children:[x.buildingName," - ",x.floor," - ",x.room]}),x.component&&u.jsxs(u.Fragment,{children:[u.jsx("br",{}),u.jsxs("small",{className:"component-tag",children:["📊 ",x.component]})]})]})]},x.id))})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:Ye.isModel,onChange:x=>Je(z=>({...z,isModel:x.target.checked}))}),"📋 Mark as Model Template"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn btn-primary",children:"Create Copy"}),u.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{B(!1),re(null),Je({name:"",description:"",expectedCompletionDate:"",originalName:"",isModel:!1,selectedPoints:[]})},children:"Cancel"})]})]})}),$&&u.jsx("div",{className:"form-overlay",children:u.jsx("form",{className:"add-list-form",onSubmit:Rs,children:u.jsx("h4",{children:"Bulk Create Lists from Template"})})}),u.jsx("div",{className:"lists-display",children:e.length===0?u.jsx("div",{className:"no-data",children:u.jsx("p",{children:"No reading point lists created yet."})}):u.jsx("div",{className:"lists-grid",children:e.filter(x=>!x.isModel).map(x=>u.jsxs("div",{className:"list-card",children:[u.jsxs("div",{className:"list-header",children:[u.jsx("h4",{children:x.name}),u.jsxs("div",{className:"list-actions",children:[u.jsx("button",{className:"btn-icon copy",onClick:()=>Vn(x.id),title:"Copy List",children:"📋"}),u.jsx("button",{className:"btn-icon edit",onClick:()=>_i(x),title:"Edit List",children:"✎"}),u.jsx("button",{className:"btn-icon model-convert",onClick:()=>Ra(x),title:"Convert to Model Template",children:"📋"}),u.jsx("button",{className:"btn-icon delete",onClick:()=>Xi(x),title:"Delete List",children:"×"})]})]}),u.jsxs("div",{className:"list-details",children:[x.description&&u.jsx("p",{children:x.description}),u.jsxs("div",{className:"list-info-grid",children:[x.expectedCompletionDate&&u.jsxs("p",{children:[u.jsx("strong",{children:"Expected Date:"})," ",ot(x.expectedCompletionDate)]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Created by:"})," ",bi(x.createdBy)]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Created:"})," ",ot(x.createdAt)]})]})]})]},x.id))})})]}),y==="models"&&u.jsxs("div",{className:"lists-section",children:[e.filter(x=>x.isModel).length>0?u.jsx("div",{className:"lists-grid",children:e.filter(x=>x.isModel).map(x=>u.jsxs("div",{className:"list-card",children:[u.jsxs("div",{className:"list-header",children:[u.jsx("h4",{children:x.name}),u.jsxs("div",{className:"list-actions",children:[u.jsx("button",{className:"btn-icon copy",onClick:()=>Vn(x.id),title:"Copy Model Template",children:"📋"}),u.jsx("button",{className:"btn-icon edit",onClick:()=>_i(x),title:"Edit Model Template",children:"✎"}),u.jsx("button",{className:"btn-icon model-convert",onClick:()=>Oa(x),title:"Convert to Regular List",children:"📄"}),u.jsx("button",{className:"btn-icon delete",onClick:()=>Xi(x),title:"Delete Model Template",children:"×"})]})]}),u.jsx("div",{className:"list-card-content",children:u.jsxs("div",{className:"list-details",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Points:"})," ",x.pointIds.length]}),x.description&&u.jsxs("p",{children:[u.jsx("strong",{children:"Description:"})," ",x.description]}),u.jsx("div",{className:"template-badge",children:u.jsx("span",{className:"badge model-badge",children:"🔒 MODEL TEMPLATE"})}),u.jsxs("p",{children:[u.jsx("strong",{children:"Created by:"})," ",bi(x.createdBy)]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Created:"})," ",ot(x.createdAt)]})]})})]},x.id))}):u.jsx("div",{className:"empty-state",children:"No model templates found."}),R&&u.jsx("div",{className:"form-overlay",children:u.jsxs("form",{className:"add-list-form",onSubmit:ji,children:[u.jsx("h4",{children:"Edit Reading Point List"}),dt.isModel&&u.jsx("div",{className:"model-template-context",children:u.jsx("span",{className:"badge model-badge",children:"🔒 Editing Model Template"})}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"List Name *"}),u.jsx("input",{type:"text",value:dt.name,onChange:x=>Dt(z=>({...z,name:x.target.value})),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Description"}),u.jsx("textarea",{value:dt.description,onChange:x=>Dt(z=>({...z,description:x.target.value})),rows:2})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Select Reading Points *"}),u.jsx("div",{className:"points-selection",children:i.filter(x=>x.isActive).map(x=>u.jsxs("div",{className:"point-checkbox",children:[u.jsx("input",{type:"checkbox",id:`edit-point-${x.id}`,checked:dt.selectedPoints.includes(x.id),onChange:()=>Un(x.id)}),u.jsxs("label",{htmlFor:`edit-point-${x.id}`,children:[u.jsx("strong",{children:x.name}),u.jsx("br",{}),u.jsxs("small",{children:[x.buildingName," - ",x.floor," - ",x.room]}),x.component&&u.jsxs(u.Fragment,{children:[u.jsx("br",{}),u.jsxs("small",{className:"component-tag",children:["📊 ",x.component]})]})]})]},x.id))})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:dt.isModel,onChange:x=>Dt(z=>({...z,isModel:x.target.checked}))}),"📋 Mark as Model Template"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn btn-primary",children:"Update List"}),u.jsx("button",{type:"button",className:"btn btn-secondary",onClick:Gi,children:"Cancel"})]})]})})]}),Ts&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",children:[u.jsxs("h4",{children:["Edit Points for ",Si?.replace("_"," ").toUpperCase()]}),u.jsx("div",{style:{color:"red",fontWeight:"bold"},children:"MODAL IS OPEN"}),u.jsx("div",{style:{maxHeight:"250px",overflowY:"auto",marginBottom:"1rem"},children:(Es??[]).length===0?u.jsx("p",{style:{color:"#888"},children:"No points available. (allPoints is empty)"}):(Es??[]).map(x=>u.jsxs("label",{style:{display:"block",marginBottom:"0.5rem"},children:[u.jsx("input",{type:"checkbox",checked:rn.includes(x.id),onChange:z=>{z.target.checked?pn([...rn,x.id]):pn(rn.filter(we=>we!==x.id))}})," ",x.name," (",x.buildingName,")"]},x.id))}),u.jsx("button",{className:"btn btn-primary",onClick:Br,children:"Save"}),u.jsx("button",{className:"btn btn-secondary",onClick:()=>Ki(!1),children:"Cancel"})]})}),Me&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("h4",{children:"Edit Reading Type"}),u.jsxs("label",{children:["Name:",u.jsx("input",{type:"text",value:Q,onChange:x=>I(x.target.value),style:{marginLeft:"0.5rem"}})]}),u.jsxs("div",{style:{marginTop:"1rem"},children:[u.jsx("strong",{children:"Units:"}),H.length===0?u.jsx("p",{style:{color:"#888"},children:"No units assigned."}):H.map((x,z)=>u.jsx("span",{style:{marginRight:"0.5rem"},children:x},x)),u.jsx("input",{type:"text",placeholder:"Add unit",onKeyDown:x=>{x.key==="Enter"&&x.currentTarget.value.trim()&&(U([...H,x.currentTarget.value.trim()]),x.currentTarget.value="")},style:{marginLeft:"0.5rem"}})]}),u.jsxs("div",{style:{marginTop:"1rem"},children:[u.jsx("button",{className:"btn btn-primary",onClick:Nn,children:"Save"}),u.jsx("button",{className:"btn btn-danger",onClick:Ur,style:{marginLeft:"0.5rem"},children:"Delete"}),u.jsx("button",{className:"btn btn-secondary",onClick:()=>ee(!1),style:{marginLeft:"0.5rem"},children:"Cancel"})]})]})}),C&&ie&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content admin-modal-card",style:{background:"#fff",borderRadius:"10px",boxShadow:"0 2px 16px rgba(0,0,0,0.12)",padding:"2rem",maxWidth:"420px",margin:"2rem auto",position:"relative"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[u.jsx("h3",{style:{margin:0},children:"Edit Point"}),u.jsx("button",{className:"btn btn-secondary",style:{fontSize:"1.2em",padding:"0 0.5em",borderRadius:"50%"},onClick:()=>{E(!1),Z(null),ue(null)},title:"Close",children:"×"})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Name"}),u.jsx("input",{className:"form-control",type:"text",value:ie.name,onChange:x=>Cn("name",x.target.value)})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Type"}),u.jsx("select",{className:"form-control",value:ie.readingType,onChange:x=>Cn("readingType",x.target.value),children:Wn(ie.readingType,t.readingTypes).map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Unit"}),u.jsx("select",{className:"form-control",value:ie.unit,onChange:x=>Cn("unit",x.target.value),children:Wn(ie.unit,t.units[ie.readingType]||[]).map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Building"}),u.jsx("select",{className:"form-control",value:ie.buildingName,onChange:x=>Cn("buildingName",x.target.value),children:Wn(ie.buildingName,t.buildings).map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Floor"}),u.jsx("select",{className:"form-control",value:ie.floor,onChange:x=>Cn("floor",x.target.value),children:La(ie.buildingName).map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Room"}),u.jsx("select",{className:"form-control",value:ie.room,onChange:x=>Cn("room",x.target.value),children:Fa(ie.buildingName,ie.floor).map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"2rem"},children:[u.jsx("button",{className:"btn btn-primary",onClick:Aa,children:"Save"}),u.jsx("button",{className:"btn btn-secondary",onClick:()=>{E(!1),Z(null),ue(null)},children:"Cancel"})]})]})}),je&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content admin-modal-card",style:{background:"#fff",borderRadius:"10px",boxShadow:"0 2px 16px rgba(0,0,0,0.12)",padding:"2rem",maxWidth:"420px",margin:"2rem auto",position:"relative"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[u.jsx("h3",{style:{margin:0},children:"Create Point"}),u.jsx("button",{className:"btn btn-secondary",style:{fontSize:"1.2em",padding:"0 0.5em",borderRadius:"50%"},onClick:()=>Pe(!1),title:"Close",children:"×"})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Name"}),u.jsx("input",{className:"form-control",type:"text",value:ge.name,onChange:x=>Ct("name",x.target.value)})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Type"}),u.jsx("select",{className:"form-control",value:ge.readingType,onChange:x=>Ct("readingType",x.target.value),children:t.readingTypes.map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Unit"}),u.jsx("select",{className:"form-control",value:ge.unit,onChange:x=>Ct("unit",x.target.value),children:(t.units[ge.readingType]||[]).map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Building"}),u.jsx("select",{className:"form-control",value:ge.buildingName,onChange:x=>Ct("buildingName",x.target.value),children:t.buildings.map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Floor"}),u.jsx("select",{className:"form-control",value:ge.floor,onChange:x=>Ct("floor",x.target.value),children:t.floors.map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsx("label",{className:"form-label",children:"Room"}),u.jsx("select",{className:"form-control",value:ge.room,onChange:x=>Ct("room",x.target.value),children:t.rooms.map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"2rem"},children:[u.jsx("button",{className:"btn btn-primary",onClick:Os,children:"Save"}),u.jsx("button",{className:"btn btn-secondary",onClick:()=>Pe(!1),children:"Cancel"})]})]})})]})},My=({readings:i,onDeleteReading:e})=>{const[t,r]=Y.useState("desc"),o=Y.useMemo(()=>[...i].sort((h,f)=>{const p=new Date(h.timestamp).getTime(),g=new Date(f.timestamp).getTime();return t==="asc"?p-g:g-p}),[i,t]),l=()=>{r(h=>h==="asc"?"desc":"asc")},c=h=>{window.confirm(`Are you sure you want to delete this reading?

Reading Type: ${h.readingType.replace("_"," ")}
Value: ${h.value} ${h.unit}
Date: ${Bt(new Date(h.timestamp),"PPpp")}
Location: ${h.buildingName} - ${h.floor} - ${h.room}

This action cannot be undone.`)&&e(h.id)};return u.jsxs("div",{className:"table-container",children:[u.jsxs("div",{className:"table-info",children:[u.jsxs("p",{children:["Showing ",i.length," reading(s)"]}),u.jsx("div",{className:"sort-info",children:u.jsxs("span",{className:"sort-label",children:["Sorted by: Date & Time (",t==="desc"?"Newest First":"Oldest First",")"]})})]}),u.jsx("div",{style:{overflowX:"auto"},children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsxs("th",{className:"sortable-header",onClick:l,title:"Click to sort by date",children:["Date & Time",u.jsx("span",{className:"sort-indicator",children:t==="desc"?" ↓":" ↑"})]}),u.jsx("th",{children:"Building"}),u.jsx("th",{children:"Floor"}),u.jsx("th",{children:"Room"}),u.jsx("th",{children:"Reading Type"}),u.jsx("th",{children:"Value"}),u.jsx("th",{children:"Unit"}),u.jsx("th",{children:"Notes"}),u.jsx("th",{children:"User Info"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:o.map(h=>u.jsxs("tr",{children:[u.jsx("td",{children:Bt(new Date(h.timestamp),"MMM dd, yyyy HH:mm")}),u.jsx("td",{children:h.buildingName}),u.jsx("td",{children:h.floor}),u.jsx("td",{children:h.room}),u.jsx("td",{style:{textTransform:"capitalize"},children:h.readingType.replace("_"," ")}),u.jsx("td",{children:typeof h.value=="number"?h.value.toFixed(2):h.value}),u.jsx("td",{children:h.unit}),u.jsx("td",{children:h.notes||"-"}),u.jsx("td",{children:h.userInfo||"-"}),u.jsx("td",{children:u.jsx("button",{onClick:()=>c(h),className:"btn btn-danger",style:{backgroundColor:"#dc3545",padding:"0.25rem 0.5rem",fontSize:"0.875rem"},children:"Delete"})})]},h.id))})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ir(i){return i+.5|0}const di=(i,e,t)=>Math.max(Math.min(i,t),e);function Sr(i){return di(Ir(i*2.55),0,255)}function pi(i){return di(Ir(i*255),0,255)}function zn(i){return di(Ir(i/2.55)/100,0,1)}function Qh(i){return di(Ir(i*100),0,100)}const tn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ic=[..."0123456789ABCDEF"],Ty=i=>Ic[i&15],Dy=i=>Ic[(i&240)>>4]+Ic[i&15],Go=i=>(i&240)>>4===(i&15),Ey=i=>Go(i.r)&&Go(i.g)&&Go(i.b)&&Go(i.a);function Ry(i){var e=i.length,t;return i[0]==="#"&&(e===4||e===5?t={r:255&tn[i[1]]*17,g:255&tn[i[2]]*17,b:255&tn[i[3]]*17,a:e===5?tn[i[4]]*17:255}:(e===7||e===9)&&(t={r:tn[i[1]]<<4|tn[i[2]],g:tn[i[3]]<<4|tn[i[4]],b:tn[i[5]]<<4|tn[i[6]],a:e===9?tn[i[7]]<<4|tn[i[8]]:255})),t}const Oy=(i,e)=>i<255?e(i):"";function Ay(i){var e=Ey(i)?Ty:Dy;return i?"#"+e(i.r)+e(i.g)+e(i.b)+Oy(i.a,e):void 0}const Ly=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _m(i,e,t){const r=e*Math.min(t,1-t),o=(l,c=(l+i/30)%12)=>t-r*Math.max(Math.min(c-3,9-c,1),-1);return[o(0),o(8),o(4)]}function Fy(i,e,t){const r=(o,l=(o+i/60)%6)=>t-t*e*Math.max(Math.min(l,4-l,1),0);return[r(5),r(3),r(1)]}function Iy(i,e,t){const r=_m(i,1,.5);let o;for(e+t>1&&(o=1/(e+t),e*=o,t*=o),o=0;o<3;o++)r[o]*=1-e-t,r[o]+=e;return r}function zy(i,e,t,r,o){return i===o?(e-t)/r+(e<t?6:0):e===o?(t-i)/r+2:(i-e)/r+4}function qc(i){const t=i.r/255,r=i.g/255,o=i.b/255,l=Math.max(t,r,o),c=Math.min(t,r,o),h=(l+c)/2;let f,p,g;return l!==c&&(g=l-c,p=h>.5?g/(2-l-c):g/(l+c),f=zy(t,r,o,g,l),f=f*60+.5),[f|0,p||0,h]}function Qc(i,e,t,r){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,t,r)).map(pi)}function Kc(i,e,t){return Qc(_m,i,e,t)}function By(i,e,t){return Qc(Iy,i,e,t)}function $y(i,e,t){return Qc(Fy,i,e,t)}function jm(i){return(i%360+360)%360}function Vy(i){const e=Ly.exec(i);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Sr(+e[5]):pi(+e[5]));const o=jm(+e[2]),l=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?r=By(o,l,c):e[1]==="hsv"?r=$y(o,l,c):r=Kc(o,l,c),{r:r[0],g:r[1],b:r[2],a:t}}function Uy(i,e){var t=qc(i);t[0]=jm(t[0]+e),t=Kc(t),i.r=t[0],i.g=t[1],i.b=t[2]}function Wy(i){if(!i)return;const e=qc(i),t=e[0],r=Qh(e[1]),o=Qh(e[2]);return i.a<255?`hsla(${t}, ${r}%, ${o}%, ${zn(i.a)})`:`hsl(${t}, ${r}%, ${o}%)`}const Kh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Xh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Hy(){const i={},e=Object.keys(Xh),t=Object.keys(Kh);let r,o,l,c,h;for(r=0;r<e.length;r++){for(c=h=e[r],o=0;o<t.length;o++)l=t[o],h=h.replace(l,Kh[l]);l=parseInt(Xh[c],16),i[h]=[l>>16&255,l>>8&255,l&255]}return i}let Jo;function Yy(i){Jo||(Jo=Hy(),Jo.transparent=[0,0,0,0]);const e=Jo[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const qy=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Qy(i){const e=qy.exec(i);let t=255,r,o,l;if(e){if(e[7]!==r){const c=+e[7];t=e[8]?Sr(c):di(c*255,0,255)}return r=+e[1],o=+e[3],l=+e[5],r=255&(e[2]?Sr(r):di(r,0,255)),o=255&(e[4]?Sr(o):di(o,0,255)),l=255&(e[6]?Sr(l):di(l,0,255)),{r,g:o,b:l,a:t}}}function Ky(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${zn(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const _c=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,ws=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Xy(i,e,t){const r=ws(zn(i.r)),o=ws(zn(i.g)),l=ws(zn(i.b));return{r:pi(_c(r+t*(ws(zn(e.r))-r))),g:pi(_c(o+t*(ws(zn(e.g))-o))),b:pi(_c(l+t*(ws(zn(e.b))-l))),a:i.a+t*(e.a-i.a)}}function Zo(i,e,t){if(i){let r=qc(i);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=Kc(r),i.r=r[0],i.g=r[1],i.b=r[2]}}function km(i,e){return i&&Object.assign(e||{},i)}function Gh(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=pi(i[3]))):(e=km(i,{r:0,g:0,b:0,a:1}),e.a=pi(e.a)),e}function Gy(i){return i.charAt(0)==="r"?Qy(i):Vy(i)}class Dr{constructor(e){if(e instanceof Dr)return e;const t=typeof e;let r;t==="object"?r=Gh(e):t==="string"&&(r=Ry(e)||Yy(e)||Gy(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=km(this._rgb);return e&&(e.a=zn(e.a)),e}set rgb(e){this._rgb=Gh(e)}rgbString(){return this._valid?Ky(this._rgb):void 0}hexString(){return this._valid?Ay(this._rgb):void 0}hslString(){return this._valid?Wy(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,o=e.rgb;let l;const c=t===l?.5:t,h=2*c-1,f=r.a-o.a,p=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;l=1-p,r.r=255&p*r.r+l*o.r+.5,r.g=255&p*r.g+l*o.g+.5,r.b=255&p*r.b+l*o.b+.5,r.a=c*r.a+(1-c)*o.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=Xy(this._rgb,e._rgb,t)),this}clone(){return new Dr(this.rgb)}alpha(e){return this._rgb.a=pi(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ir(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Zo(this._rgb,2,e),this}darken(e){return Zo(this._rgb,2,-e),this}saturate(e){return Zo(this._rgb,1,e),this}desaturate(e){return Zo(this._rgb,1,-e),this}rotate(e){return Uy(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ln(){}const Jy=(()=>{let i=0;return()=>i++})();function Le(i){return i==null}function rt(i){if(Array.isArray&&Array.isArray(i))return!0;const e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ee(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function Nt(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function wn(i,e){return Nt(i)?i:e}function De(i,e){return typeof i>"u"?e:i}const Zy=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function He(i,e,t){if(i&&typeof i.call=="function")return i.apply(t,e)}function ze(i,e,t,r){let o,l,c;if(rt(i))for(l=i.length,o=0;o<l;o++)e.call(t,i[o],o);else if(Ee(i))for(c=Object.keys(i),l=c.length,o=0;o<l;o++)e.call(t,i[c[o]],c[o])}function ma(i,e){let t,r,o,l;if(!i||!e||i.length!==e.length)return!1;for(t=0,r=i.length;t<r;++t)if(o=i[t],l=e[t],o.datasetIndex!==l.datasetIndex||o.index!==l.index)return!1;return!0}function pa(i){if(rt(i))return i.map(pa);if(Ee(i)){const e=Object.create(null),t=Object.keys(i),r=t.length;let o=0;for(;o<r;++o)e[t[o]]=pa(i[t[o]]);return e}return i}function Nm(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function ex(i,e,t,r){if(!Nm(i))return;const o=e[i],l=t[i];Ee(o)&&Ee(l)?Er(o,l,r):e[i]=pa(l)}function Er(i,e,t){const r=rt(e)?e:[e],o=r.length;if(!Ee(i))return i;t=t||{};const l=t.merger||ex;let c;for(let h=0;h<o;++h){if(c=r[h],!Ee(c))continue;const f=Object.keys(c);for(let p=0,g=f.length;p<g;++p)l(f[p],i,c,t)}return i}function Nr(i,e){return Er(i,e,{merger:tx})}function tx(i,e,t){if(!Nm(i))return;const r=e[i],o=t[i];Ee(r)&&Ee(o)?Nr(r,o):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=pa(o))}const Jh={"":i=>i,x:i=>i.x,y:i=>i.y};function nx(i){const e=i.split("."),t=[];let r="";for(const o of e)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function ix(i){const e=nx(i);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function ks(i,e){return(Jh[e]||(Jh[e]=ix(e)))(i)}function Xc(i){return i.charAt(0).toUpperCase()+i.slice(1)}const Rr=i=>typeof i<"u",yi=i=>typeof i=="function",Zh=(i,e)=>{if(i.size!==e.size)return!1;for(const t of i)if(!e.has(t))return!1;return!0};function sx(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const pt=Math.PI,fn=2*pt,rx=fn+pt,ga=Number.POSITIVE_INFINITY,ox=pt/180,hn=pt/2,Ii=pt/4,ef=pt*2/3,Cm=Math.log10,kn=Math.sign;function Cr(i,e,t){return Math.abs(i-e)<t}function tf(i){const e=Math.round(i);i=Cr(i,e,i/1e3)?e:i;const t=Math.pow(10,Math.floor(Cm(i))),r=i/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function ax(i){const e=[],t=Math.sqrt(i);let r;for(r=1;r<t;r++)i%r===0&&(e.push(r),e.push(i/r));return t===(t|0)&&e.push(t),e.sort((o,l)=>o-l).pop(),e}function lx(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function Or(i){return!lx(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function cx(i,e){const t=Math.round(i);return t-e<=i&&t+e>=i}function ux(i,e,t){let r,o,l;for(r=0,o=i.length;r<o;r++)l=i[r][t],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function Wi(i){return i*(pt/180)}function dx(i){return i*(180/pt)}function nf(i){if(!Nt(i))return;let e=1,t=0;for(;Math.round(i*e)/e!==i;)e*=10,t++;return t}function hx(i,e){const t=e.x-i.x,r=e.y-i.y,o=Math.sqrt(t*t+r*r);let l=Math.atan2(r,t);return l<-.5*pt&&(l+=fn),{angle:l,distance:o}}function zc(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function fx(i,e){return(i-e+rx)%fn-pt}function jn(i){return(i%fn+fn)%fn}function Pm(i,e,t,r){const o=jn(i),l=jn(e),c=jn(t),h=jn(l-o),f=jn(c-o),p=jn(o-l),g=jn(o-c);return o===l||o===c||r&&l===c||h>f&&p<g}function qt(i,e,t){return Math.max(e,Math.min(t,i))}function mx(i){return qt(i,-32768,32767)}function hi(i,e,t,r=1e-6){return i>=Math.min(e,t)-r&&i<=Math.max(e,t)+r}function Gc(i,e,t){t=t||(c=>i[c]<e);let r=i.length-1,o=0,l;for(;r-o>1;)l=o+r>>1,t(l)?o=l:r=l;return{lo:o,hi:r}}const Hi=(i,e,t,r)=>Gc(i,t,r?o=>{const l=i[o][e];return l<t||l===t&&i[o+1][e]===t}:o=>i[o][e]<t),px=(i,e,t)=>Gc(i,t,r=>i[r][e]>=t);function gx(i,e,t){let r=0,o=i.length;for(;r<o&&i[r]<e;)r++;for(;o>r&&i[o-1]>t;)o--;return r>0||o<i.length?i.slice(r,o):i}const Mm=["push","pop","shift","splice","unshift"];function vx(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Mm.forEach(t=>{const r="_onData"+Xc(t),o=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...l){const c=o.apply(this,l);return i._chartjs.listeners.forEach(h=>{typeof h[r]=="function"&&h[r](...l)}),c}})})}function sf(i,e){const t=i._chartjs;if(!t)return;const r=t.listeners,o=r.indexOf(e);o!==-1&&r.splice(o,1),!(r.length>0)&&(Mm.forEach(l=>{delete i[l]}),delete i._chartjs)}function Tm(i){const e=new Set(i);return e.size===i.length?i:Array.from(e)}const Dm=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function Em(i,e){let t=[],r=!1;return function(...o){t=o,r||(r=!0,Dm.call(window,()=>{r=!1,i.apply(e,t)}))}}function yx(i,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(i,e,r)):i.apply(this,r),e}}const Jc=i=>i==="start"?"left":i==="end"?"right":"center",jt=(i,e,t)=>i==="start"?e:i==="end"?t:(e+t)/2,xx=(i,e,t,r)=>i===(r?"left":"right")?t:i==="center"?(e+t)/2:e;function bx(i,e,t){const r=e.length;let o=0,l=r;if(i._sorted){const{iScale:c,vScale:h,_parsed:f}=i,p=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,g=c.axis,{min:y,max:w,minDefined:S,maxDefined:k}=c.getUserBounds();if(S){if(o=Math.min(Hi(f,g,y).lo,t?r:Hi(e,g,c.getPixelForValue(y)).lo),p){const _=f.slice(0,o+1).reverse().findIndex(N=>!Le(N[h.axis]));o-=Math.max(0,_)}o=qt(o,0,r-1)}if(k){let _=Math.max(Hi(f,c.axis,w,!0).hi+1,t?0:Hi(e,g,c.getPixelForValue(w),!0).hi+1);if(p){const N=f.slice(_-1).findIndex(P=>!Le(P[h.axis]));_+=Math.max(0,N)}l=qt(_,o,r)-o}else l=r-o}return{start:o,count:l}}function wx(i){const{xScale:e,yScale:t,_scaleRanges:r}=i,o={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return i._scaleRanges=o,!0;const l=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,o),l}const ea=i=>i===0||i===1,rf=(i,e,t)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*fn/t)),of=(i,e,t)=>Math.pow(2,-10*i)*Math.sin((i-e)*fn/t)+1,Pr={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*hn)+1,easeOutSine:i=>Math.sin(i*hn),easeInOutSine:i=>-.5*(Math.cos(pt*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>ea(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>ea(i)?i:rf(i,.075,.3),easeOutElastic:i=>ea(i)?i:of(i,.075,.3),easeInOutElastic(i){return ea(i)?i:i<.5?.5*rf(i*2,.1125,.45):.5+.5*of(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-Pr.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Pr.easeInBounce(i*2)*.5:Pr.easeOutBounce(i*2-1)*.5+.5};function Zc(i){if(i&&typeof i=="object"){const e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function af(i){return Zc(i)?i:new Dr(i)}function jc(i){return Zc(i)?i:new Dr(i).saturate(.5).darken(.1).hexString()}const Sx=["x","y","borderWidth","radius","tension"],_x=["color","borderColor","backgroundColor"];function jx(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),i.set("animations",{colors:{type:"color",properties:_x},numbers:{type:"number",properties:Sx}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function kx(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const lf=new Map;function Nx(i,e){e=e||{};const t=i+JSON.stringify(e);let r=lf.get(t);return r||(r=new Intl.NumberFormat(i,e),lf.set(t,r)),r}function Rm(i,e,t){return Nx(e,t).format(i)}const Cx={values(i){return rt(i)?i:""+i},numeric(i,e,t){if(i===0)return"0";const r=this.chart.options.locale;let o,l=i;if(t.length>1){const p=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(p<1e-4||p>1e15)&&(o="scientific"),l=Px(i,t)}const c=Cm(Math.abs(l)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:o,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Rm(i,r,f)}};function Px(i,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&i!==Math.floor(i)&&(t=i-Math.floor(i)),t}var Om={formatters:Cx};function Mx(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Om.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const qi=Object.create(null),Bc=Object.create(null);function Mr(i,e){if(!e)return i;const t=e.split(".");for(let r=0,o=t.length;r<o;++r){const l=t[r];i=i[l]||(i[l]=Object.create(null))}return i}function kc(i,e,t){return typeof e=="string"?Er(Mr(i,e),t):Er(Mr(i,""),e)}class Tx{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>jc(o.backgroundColor),this.hoverBorderColor=(r,o)=>jc(o.borderColor),this.hoverColor=(r,o)=>jc(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return kc(this,e,t)}get(e){return Mr(this,e)}describe(e,t){return kc(Bc,e,t)}override(e,t){return kc(qi,e,t)}route(e,t,r,o){const l=Mr(this,e),c=Mr(this,r),h="_"+t;Object.defineProperties(l,{[h]:{value:l[t],writable:!0},[t]:{enumerable:!0,get(){const f=this[h],p=c[o];return Ee(f)?Object.assign({},p,f):De(f,p)},set(f){this[h]=f}}})}apply(e){e.forEach(t=>t(this))}}var tt=new Tx({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[jx,kx,Mx]);function Dx(i){return!i||Le(i.size)||Le(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function cf(i,e,t,r,o){let l=e[o];return l||(l=e[o]=i.measureText(o).width,t.push(o)),l>r&&(r=l),r}function zi(i,e,t){const r=i.currentDevicePixelRatio,o=t!==0?Math.max(t/2,.5):0;return Math.round((e-o)*r)/r+o}function uf(i,e){!e&&!i||(e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore())}function $c(i,e,t,r){Am(i,e,t,r,null)}function Am(i,e,t,r,o){let l,c,h,f,p,g,y,w;const S=e.pointStyle,k=e.rotation,_=e.radius;let N=(k||0)*ox;if(S&&typeof S=="object"&&(l=S.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){i.save(),i.translate(t,r),i.rotate(N),i.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),i.restore();return}if(!(isNaN(_)||_<=0)){switch(i.beginPath(),S){default:o?i.ellipse(t,r,o/2,_,0,0,fn):i.arc(t,r,_,0,fn),i.closePath();break;case"triangle":g=o?o/2:_,i.moveTo(t+Math.sin(N)*g,r-Math.cos(N)*_),N+=ef,i.lineTo(t+Math.sin(N)*g,r-Math.cos(N)*_),N+=ef,i.lineTo(t+Math.sin(N)*g,r-Math.cos(N)*_),i.closePath();break;case"rectRounded":p=_*.516,f=_-p,c=Math.cos(N+Ii)*f,y=Math.cos(N+Ii)*(o?o/2-p:f),h=Math.sin(N+Ii)*f,w=Math.sin(N+Ii)*(o?o/2-p:f),i.arc(t-y,r-h,p,N-pt,N-hn),i.arc(t+w,r-c,p,N-hn,N),i.arc(t+y,r+h,p,N,N+hn),i.arc(t-w,r+c,p,N+hn,N+pt),i.closePath();break;case"rect":if(!k){f=Math.SQRT1_2*_,g=o?o/2:f,i.rect(t-g,r-f,2*g,2*f);break}N+=Ii;case"rectRot":y=Math.cos(N)*(o?o/2:_),c=Math.cos(N)*_,h=Math.sin(N)*_,w=Math.sin(N)*(o?o/2:_),i.moveTo(t-y,r-h),i.lineTo(t+w,r-c),i.lineTo(t+y,r+h),i.lineTo(t-w,r+c),i.closePath();break;case"crossRot":N+=Ii;case"cross":y=Math.cos(N)*(o?o/2:_),c=Math.cos(N)*_,h=Math.sin(N)*_,w=Math.sin(N)*(o?o/2:_),i.moveTo(t-y,r-h),i.lineTo(t+y,r+h),i.moveTo(t+w,r-c),i.lineTo(t-w,r+c);break;case"star":y=Math.cos(N)*(o?o/2:_),c=Math.cos(N)*_,h=Math.sin(N)*_,w=Math.sin(N)*(o?o/2:_),i.moveTo(t-y,r-h),i.lineTo(t+y,r+h),i.moveTo(t+w,r-c),i.lineTo(t-w,r+c),N+=Ii,y=Math.cos(N)*(o?o/2:_),c=Math.cos(N)*_,h=Math.sin(N)*_,w=Math.sin(N)*(o?o/2:_),i.moveTo(t-y,r-h),i.lineTo(t+y,r+h),i.moveTo(t+w,r-c),i.lineTo(t-w,r+c);break;case"line":c=o?o/2:Math.cos(N)*_,h=Math.sin(N)*_,i.moveTo(t-c,r-h),i.lineTo(t+c,r+h);break;case"dash":i.moveTo(t,r),i.lineTo(t+Math.cos(N)*(o?o/2:_),r+Math.sin(N)*_);break;case!1:i.closePath();break}i.fill(),e.borderWidth>0&&i.stroke()}}function Ar(i,e,t){return t=t||.5,!e||i&&i.x>e.left-t&&i.x<e.right+t&&i.y>e.top-t&&i.y<e.bottom+t}function wa(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function Sa(i){i.restore()}function Ex(i,e,t,r,o){if(!e)return i.lineTo(t.x,t.y);if(o==="middle"){const l=(e.x+t.x)/2;i.lineTo(l,e.y),i.lineTo(l,t.y)}else o==="after"!=!!r?i.lineTo(e.x,t.y):i.lineTo(t.x,e.y);i.lineTo(t.x,t.y)}function Rx(i,e,t,r){if(!e)return i.lineTo(t.x,t.y);i.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function Ox(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),Le(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function Ax(i,e,t,r,o){if(o.strikethrough||o.underline){const l=i.measureText(r),c=e-l.actualBoundingBoxLeft,h=e+l.actualBoundingBoxRight,f=t-l.actualBoundingBoxAscent,p=t+l.actualBoundingBoxDescent,g=o.strikethrough?(f+p)/2:p;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=o.decorationWidth||2,i.moveTo(c,g),i.lineTo(h,g),i.stroke()}}function Lx(i,e){const t=i.fillStyle;i.fillStyle=e.color,i.fillRect(e.left,e.top,e.width,e.height),i.fillStyle=t}function Lr(i,e,t,r,o,l={}){const c=rt(e)?e:[e],h=l.strokeWidth>0&&l.strokeColor!=="";let f,p;for(i.save(),i.font=o.string,Ox(i,l),f=0;f<c.length;++f)p=c[f],l.backdrop&&Lx(i,l.backdrop),h&&(l.strokeColor&&(i.strokeStyle=l.strokeColor),Le(l.strokeWidth)||(i.lineWidth=l.strokeWidth),i.strokeText(p,t,r,l.maxWidth)),i.fillText(p,t,r,l.maxWidth),Ax(i,t,r,p,l),r+=Number(o.lineHeight);i.restore()}function va(i,e){const{x:t,y:r,w:o,h:l,radius:c}=e;i.arc(t+c.topLeft,r+c.topLeft,c.topLeft,1.5*pt,pt,!0),i.lineTo(t,r+l-c.bottomLeft),i.arc(t+c.bottomLeft,r+l-c.bottomLeft,c.bottomLeft,pt,hn,!0),i.lineTo(t+o-c.bottomRight,r+l),i.arc(t+o-c.bottomRight,r+l-c.bottomRight,c.bottomRight,hn,0,!0),i.lineTo(t+o,r+c.topRight),i.arc(t+o-c.topRight,r+c.topRight,c.topRight,0,-hn,!0),i.lineTo(t+c.topLeft,r)}const Fx=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ix=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function zx(i,e){const t=(""+i).match(Fx);if(!t||t[1]==="normal")return e*1.2;switch(i=+t[2],t[3]){case"px":return i;case"%":i/=100;break}return e*i}const Bx=i=>+i||0;function Lm(i,e){const t={},r=Ee(e),o=r?Object.keys(e):e,l=Ee(i)?r?c=>De(i[c],i[e[c]]):c=>i[c]:()=>i;for(const c of o)t[c]=Bx(l(c));return t}function Fm(i){return Lm(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Ss(i){return Lm(i,["topLeft","topRight","bottomLeft","bottomRight"])}function sn(i){const e=Fm(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function kt(i,e){i=i||{},e=e||tt.font;let t=De(i.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=De(i.style,e.style);r&&!(""+r).match(Ix)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const o={family:De(i.family,e.family),lineHeight:zx(De(i.lineHeight,e.lineHeight),t),size:t,style:r,weight:De(i.weight,e.weight),string:""};return o.string=Dx(o),o}function ta(i,e,t,r){let o,l,c;for(o=0,l=i.length;o<l;++o)if(c=i[o],c!==void 0&&c!==void 0)return c}function $x(i,e,t){const{min:r,max:o}=i,l=Zy(e,(o-r)/2),c=(h,f)=>t&&h===0?0:h+f;return{min:c(r,-Math.abs(l)),max:c(o,l)}}function Qi(i,e){return Object.assign(Object.create(i),e)}function eu(i,e=[""],t,r,o=()=>i[0]){const l=t||i;typeof r>"u"&&(r=$m("_fallback",i));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:l,_fallback:r,_getTarget:o,override:h=>eu([h,...i],e,l,r)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete i[0][f],!0},get(h,f){return zm(h,f,()=>Kx(f,e,i,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(h,f){return hf(h).includes(f)},ownKeys(h){return hf(h)},set(h,f,p){const g=h._storage||(h._storage=o());return h[f]=g[f]=p,delete h._keys,!0}})}function Ns(i,e,t,r){const o={_cacheable:!1,_proxy:i,_context:e,_subProxy:t,_stack:new Set,_descriptors:Im(i,r),setContext:l=>Ns(i,l,t,r),override:l=>Ns(i.override(l),e,t,r)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete i[c],!0},get(l,c,h){return zm(l,c,()=>Ux(l,c,h))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(i,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,c)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(l,c){return Reflect.has(i,c)},ownKeys(){return Reflect.ownKeys(i)},set(l,c,h){return i[c]=h,delete l[c],!0}})}function Im(i,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:o=e.allKeys}=i;return{allKeys:o,scriptable:t,indexable:r,isScriptable:yi(t)?t:()=>t,isIndexable:yi(r)?r:()=>r}}const Vx=(i,e)=>i?i+Xc(e):e,tu=(i,e)=>Ee(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function zm(i,e,t){if(Object.prototype.hasOwnProperty.call(i,e)||e==="constructor")return i[e];const r=t();return i[e]=r,r}function Ux(i,e,t){const{_proxy:r,_context:o,_subProxy:l,_descriptors:c}=i;let h=r[e];return yi(h)&&c.isScriptable(e)&&(h=Wx(e,h,i,t)),rt(h)&&h.length&&(h=Hx(e,h,i,c.isIndexable)),tu(e,h)&&(h=Ns(h,o,l&&l[e],c)),h}function Wx(i,e,t,r){const{_proxy:o,_context:l,_subProxy:c,_stack:h}=t;if(h.has(i))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+i);h.add(i);let f=e(l,c||r);return h.delete(i),tu(i,f)&&(f=nu(o._scopes,o,i,f)),f}function Hx(i,e,t,r){const{_proxy:o,_context:l,_subProxy:c,_descriptors:h}=t;if(typeof l.index<"u"&&r(i))return e[l.index%e.length];if(Ee(e[0])){const f=e,p=o._scopes.filter(g=>g!==f);e=[];for(const g of f){const y=nu(p,o,i,g);e.push(Ns(y,l,c&&c[i],h))}}return e}function Bm(i,e,t){return yi(i)?i(e,t):i}const Yx=(i,e)=>i===!0?e:typeof i=="string"?ks(e,i):void 0;function qx(i,e,t,r,o){for(const l of e){const c=Yx(t,l);if(c){i.add(c);const h=Bm(c._fallback,t,o);if(typeof h<"u"&&h!==t&&h!==r)return h}else if(c===!1&&typeof r<"u"&&t!==r)return null}return!1}function nu(i,e,t,r){const o=e._rootScopes,l=Bm(e._fallback,t,r),c=[...i,...o],h=new Set;h.add(r);let f=df(h,c,t,l||t,r);return f===null||typeof l<"u"&&l!==t&&(f=df(h,c,l,f,r),f===null)?!1:eu(Array.from(h),[""],o,l,()=>Qx(e,t,r))}function df(i,e,t,r,o){for(;t;)t=qx(i,e,t,r,o);return t}function Qx(i,e,t){const r=i._getTarget();e in r||(r[e]={});const o=r[e];return rt(o)&&Ee(t)?t:o||{}}function Kx(i,e,t,r){let o;for(const l of e)if(o=$m(Vx(l,i),t),typeof o<"u")return tu(i,o)?nu(t,r,i,o):o}function $m(i,e){for(const t of e){if(!t)continue;const r=t[i];if(typeof r<"u")return r}}function hf(i){let e=i._keys;return e||(e=i._keys=Xx(i._scopes)),e}function Xx(i){const e=new Set;for(const t of i)for(const r of Object.keys(t).filter(o=>!o.startsWith("_")))e.add(r);return Array.from(e)}const Gx=Number.EPSILON||1e-14,Cs=(i,e)=>e<i.length&&!i[e].skip&&i[e],Vm=i=>i==="x"?"y":"x";function Jx(i,e,t,r){const o=i.skip?e:i,l=e,c=t.skip?e:t,h=zc(l,o),f=zc(c,l);let p=h/(h+f),g=f/(h+f);p=isNaN(p)?0:p,g=isNaN(g)?0:g;const y=r*p,w=r*g;return{previous:{x:l.x-y*(c.x-o.x),y:l.y-y*(c.y-o.y)},next:{x:l.x+w*(c.x-o.x),y:l.y+w*(c.y-o.y)}}}function Zx(i,e,t){const r=i.length;let o,l,c,h,f,p=Cs(i,0);for(let g=0;g<r-1;++g)if(f=p,p=Cs(i,g+1),!(!f||!p)){if(Cr(e[g],0,Gx)){t[g]=t[g+1]=0;continue}o=t[g]/e[g],l=t[g+1]/e[g],h=Math.pow(o,2)+Math.pow(l,2),!(h<=9)&&(c=3/Math.sqrt(h),t[g]=o*c*e[g],t[g+1]=l*c*e[g])}}function e0(i,e,t="x"){const r=Vm(t),o=i.length;let l,c,h,f=Cs(i,0);for(let p=0;p<o;++p){if(c=h,h=f,f=Cs(i,p+1),!h)continue;const g=h[t],y=h[r];c&&(l=(g-c[t])/3,h[`cp1${t}`]=g-l,h[`cp1${r}`]=y-l*e[p]),f&&(l=(f[t]-g)/3,h[`cp2${t}`]=g+l,h[`cp2${r}`]=y+l*e[p])}}function t0(i,e="x"){const t=Vm(e),r=i.length,o=Array(r).fill(0),l=Array(r);let c,h,f,p=Cs(i,0);for(c=0;c<r;++c)if(h=f,f=p,p=Cs(i,c+1),!!f){if(p){const g=p[e]-f[e];o[c]=g!==0?(p[t]-f[t])/g:0}l[c]=h?p?kn(o[c-1])!==kn(o[c])?0:(o[c-1]+o[c])/2:o[c-1]:o[c]}Zx(i,o,l),e0(i,l,e)}function na(i,e,t){return Math.max(Math.min(i,t),e)}function n0(i,e){let t,r,o,l,c,h=Ar(i[0],e);for(t=0,r=i.length;t<r;++t)c=l,l=h,h=t<r-1&&Ar(i[t+1],e),l&&(o=i[t],c&&(o.cp1x=na(o.cp1x,e.left,e.right),o.cp1y=na(o.cp1y,e.top,e.bottom)),h&&(o.cp2x=na(o.cp2x,e.left,e.right),o.cp2y=na(o.cp2y,e.top,e.bottom)))}function i0(i,e,t,r,o){let l,c,h,f;if(e.spanGaps&&(i=i.filter(p=>!p.skip)),e.cubicInterpolationMode==="monotone")t0(i,o);else{let p=r?i[i.length-1]:i[0];for(l=0,c=i.length;l<c;++l)h=i[l],f=Jx(p,h,i[Math.min(l+1,c-(r?0:1))%c],e.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,p=h}e.capBezierPoints&&n0(i,t)}function iu(){return typeof window<"u"&&typeof document<"u"}function su(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ya(i,e,t){let r;return typeof i=="string"?(r=parseInt(i,10),i.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=i,r}const _a=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function s0(i,e){return _a(i).getPropertyValue(e)}const r0=["top","right","bottom","left"];function Yi(i,e,t){const r={};t=t?"-"+t:"";for(let o=0;o<4;o++){const l=r0[o];r[l]=parseFloat(i[e+"-"+l+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const o0=(i,e,t)=>(i>0||e>0)&&(!t||!t.shadowRoot);function a0(i,e){const t=i.touches,r=t&&t.length?t[0]:i,{offsetX:o,offsetY:l}=r;let c=!1,h,f;if(o0(o,l,i.target))h=o,f=l;else{const p=e.getBoundingClientRect();h=r.clientX-p.left,f=r.clientY-p.top,c=!0}return{x:h,y:f,box:c}}function Vi(i,e){if("native"in i)return i;const{canvas:t,currentDevicePixelRatio:r}=e,o=_a(t),l=o.boxSizing==="border-box",c=Yi(o,"padding"),h=Yi(o,"border","width"),{x:f,y:p,box:g}=a0(i,t),y=c.left+(g&&h.left),w=c.top+(g&&h.top);let{width:S,height:k}=e;return l&&(S-=c.width+h.width,k-=c.height+h.height),{x:Math.round((f-y)/S*t.width/r),y:Math.round((p-w)/k*t.height/r)}}function l0(i,e,t){let r,o;if(e===void 0||t===void 0){const l=i&&su(i);if(!l)e=i.clientWidth,t=i.clientHeight;else{const c=l.getBoundingClientRect(),h=_a(l),f=Yi(h,"border","width"),p=Yi(h,"padding");e=c.width-p.width-f.width,t=c.height-p.height-f.height,r=ya(h.maxWidth,l,"clientWidth"),o=ya(h.maxHeight,l,"clientHeight")}}return{width:e,height:t,maxWidth:r||ga,maxHeight:o||ga}}const fi=i=>Math.round(i*10)/10;function c0(i,e,t,r){const o=_a(i),l=Yi(o,"margin"),c=ya(o.maxWidth,i,"clientWidth")||ga,h=ya(o.maxHeight,i,"clientHeight")||ga,f=l0(i,e,t);let{width:p,height:g}=f;if(o.boxSizing==="content-box"){const w=Yi(o,"border","width"),S=Yi(o,"padding");p-=S.width+w.width,g-=S.height+w.height}return p=Math.max(0,p-l.width),g=Math.max(0,r?p/r:g-l.height),p=fi(Math.min(p,c,f.maxWidth)),g=fi(Math.min(g,h,f.maxHeight)),p&&!g&&(g=fi(p/2)),(e!==void 0||t!==void 0)&&r&&f.height&&g>f.height&&(g=f.height,p=fi(Math.floor(g*r))),{width:p,height:g}}function ff(i,e,t){const r=e||1,o=fi(i.height*r),l=fi(i.width*r);i.height=fi(i.height),i.width=fi(i.width);const c=i.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${i.height}px`,c.style.width=`${i.width}px`),i.currentDevicePixelRatio!==r||c.height!==o||c.width!==l?(i.currentDevicePixelRatio=r,c.height=o,c.width=l,i.ctx.setTransform(r,0,0,r,0,0),!0):!1}const u0=(function(){let i=!1;try{const e={get passive(){return i=!0,!1}};iu()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return i})();function mf(i,e){const t=s0(i,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ui(i,e,t,r){return{x:i.x+t*(e.x-i.x),y:i.y+t*(e.y-i.y)}}function d0(i,e,t,r){return{x:i.x+t*(e.x-i.x),y:r==="middle"?t<.5?i.y:e.y:r==="after"?t<1?i.y:e.y:t>0?e.y:i.y}}function h0(i,e,t,r){const o={x:i.cp2x,y:i.cp2y},l={x:e.cp1x,y:e.cp1y},c=Ui(i,o,t),h=Ui(o,l,t),f=Ui(l,e,t),p=Ui(c,h,t),g=Ui(h,f,t);return Ui(p,g,t)}const f0=function(i,e){return{x(t){return i+i+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},m0=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function _s(i,e,t){return i?f0(e,t):m0()}function Um(i,e){let t,r;(e==="ltr"||e==="rtl")&&(t=i.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),i.prevTextDirection=r)}function Wm(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function Hm(i){return i==="angle"?{between:Pm,compare:fx,normalize:jn}:{between:hi,compare:(e,t)=>e-t,normalize:e=>e}}function pf({start:i,end:e,count:t,loop:r,style:o}){return{start:i%t,end:e%t,loop:r&&(e-i+1)%t===0,style:o}}function p0(i,e,t){const{property:r,start:o,end:l}=t,{between:c,normalize:h}=Hm(r),f=e.length;let{start:p,end:g,loop:y}=i,w,S;if(y){for(p+=f,g+=f,w=0,S=f;w<S&&c(h(e[p%f][r]),o,l);++w)p--,g--;p%=f,g%=f}return g<p&&(g+=f),{start:p,end:g,loop:y,style:i.style}}function Ym(i,e,t){if(!t)return[i];const{property:r,start:o,end:l}=t,c=e.length,{compare:h,between:f,normalize:p}=Hm(r),{start:g,end:y,loop:w,style:S}=p0(i,e,t),k=[];let _=!1,N=null,P,B,$;const D=()=>f(o,$,P)&&h(o,$)!==0,R=()=>h(l,P)===0||f(l,$,P),L=()=>_||D(),W=()=>!_||R();for(let Z=g,fe=g;Z<=y;++Z)B=e[Z%c],!B.skip&&(P=p(B[r]),P!==$&&(_=f(P,o,l),N===null&&L()&&(N=h(P,o)===0?Z:fe),N!==null&&W()&&(k.push(pf({start:N,end:Z,loop:w,count:c,style:S})),N=null),fe=Z,$=P));return N!==null&&k.push(pf({start:N,end:y,loop:w,count:c,style:S})),k}function qm(i,e){const t=[],r=i.segments;for(let o=0;o<r.length;o++){const l=Ym(r[o],i.points,e);l.length&&t.push(...l)}return t}function g0(i,e,t,r){let o=0,l=e-1;if(t&&!r)for(;o<e&&!i[o].skip;)o++;for(;o<e&&i[o].skip;)o++;for(o%=e,t&&(l+=o);l>o&&i[l%e].skip;)l--;return l%=e,{start:o,end:l}}function v0(i,e,t,r){const o=i.length,l=[];let c=e,h=i[e],f;for(f=e+1;f<=t;++f){const p=i[f%o];p.skip||p.stop?h.skip||(r=!1,l.push({start:e%o,end:(f-1)%o,loop:r}),e=c=p.stop?f:null):(c=f,h.skip&&(e=f)),h=p}return c!==null&&l.push({start:e%o,end:c%o,loop:r}),l}function y0(i,e){const t=i.points,r=i.options.spanGaps,o=t.length;if(!o)return[];const l=!!i._loop,{start:c,end:h}=g0(t,o,l,r);if(r===!0)return gf(i,[{start:c,end:h,loop:l}],t,e);const f=h<c?h+o:h,p=!!i._fullLoop&&c===0&&h===o-1;return gf(i,v0(t,c,f,p),t,e)}function gf(i,e,t,r){return!r||!r.setContext||!t?e:x0(i,e,t,r)}function x0(i,e,t,r){const o=i._chart.getContext(),l=vf(i.options),{_datasetIndex:c,options:{spanGaps:h}}=i,f=t.length,p=[];let g=l,y=e[0].start,w=y;function S(k,_,N,P){const B=h?-1:1;if(k!==_){for(k+=f;t[k%f].skip;)k-=B;for(;t[_%f].skip;)_+=B;k%f!==_%f&&(p.push({start:k%f,end:_%f,loop:N,style:P}),g=P,y=_%f)}}for(const k of e){y=h?y:k.start;let _=t[y%f],N;for(w=y+1;w<=k.end;w++){const P=t[w%f];N=vf(r.setContext(Qi(o,{type:"segment",p0:_,p1:P,p0DataIndex:(w-1)%f,p1DataIndex:w%f,datasetIndex:c}))),b0(N,g)&&S(y,w-1,k.loop,g),_=P,g=N}y<w-1&&S(y,w-1,k.loop,g)}return p}function vf(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function b0(i,e){if(!e)return!1;const t=[],r=function(o,l){return Zc(l)?(t.includes(l)||t.push(l),t.indexOf(l)):l};return JSON.stringify(i,r)!==JSON.stringify(e,r)}function ia(i,e,t){return i.options.clip?i[t]:e[t]}function w0(i,e){const{xScale:t,yScale:r}=i;return t&&r?{left:ia(t,e,"left"),right:ia(t,e,"right"),top:ia(r,e,"top"),bottom:ia(r,e,"bottom")}:e}function Qm(i,e){const t=e._clip;if(t.disabled)return!1;const r=w0(e,i.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?i.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?i.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class S0{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,o){const l=t.listeners[o],c=t.duration;l.forEach(h=>h({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(r-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Dm.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,o)=>{if(!r.running||!r.items.length)return;const l=r.items;let c=l.length-1,h=!1,f;for(;c>=0;--c)f=l[c],f._active?(f._total>r.duration&&(r.duration=f._total),f.tick(e),h=!0):(l[c]=l[l.length-1],l.pop());h&&(o.draw(),this._notify(o,r,e,"progress")),l.length||(r.running=!1,this._notify(o,r,e,"complete"),r.initial=!1),t+=l.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,o)=>Math.max(r,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let o=r.length-1;for(;o>=0;--o)r[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Fn=new S0;const yf="transparent",_0={boolean(i,e,t){return t>.5?e:i},color(i,e,t){const r=af(i||yf),o=r.valid&&af(e||yf);return o&&o.valid?o.mix(r,t).hexString():e},number(i,e,t){return i+(e-i)*t}};class j0{constructor(e,t,r,o){const l=t[r];o=ta([e.to,o,l,e.from]);const c=ta([e.from,l,o]);this._active=!0,this._fn=e.fn||_0[e.type||typeof c],this._easing=Pr[e.easing]||Pr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=c,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const o=this._target[this._prop],l=r-this._start,c=this._duration-l;this._start=r,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=ta([e.to,t,o,e.from]),this._from=ta([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,o=this._prop,l=this._from,c=this._loop,h=this._to;let f;if(this._active=l!==h&&(c||t<r),!this._active){this._target[o]=h,this._notify(!0);return}if(t<0){this._target[o]=l;return}f=t/r%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[o]=this._fn(l,h,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let o=0;o<r.length;o++)r[o][t]()}}class Km{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ee(e))return;const t=Object.keys(tt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const l=e[o];if(!Ee(l))return;const c={};for(const h of t)c[h]=l[h];(rt(l.properties)&&l.properties||[o]).forEach(h=>{(h===o||!r.has(h))&&r.set(h,c)})})}_animateOptions(e,t){const r=t.options,o=N0(e,r);if(!o)return[];const l=this._createAnimations(o,r);return r.$shared&&k0(e.options.$animations,r).then(()=>{e.options=r},()=>{}),l}_createAnimations(e,t){const r=this._properties,o=[],l=e.$animations||(e.$animations={}),c=Object.keys(t),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const p=c[f];if(p.charAt(0)==="$")continue;if(p==="options"){o.push(...this._animateOptions(e,t));continue}const g=t[p];let y=l[p];const w=r.get(p);if(y)if(w&&y.active()){y.update(w,g,h);continue}else y.cancel();if(!w||!w.duration){e[p]=g;continue}l[p]=y=new j0(w,e,p,g),o.push(y)}return o}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return Fn.add(this._chart,r),!0}}function k0(i,e){const t=[],r=Object.keys(e);for(let o=0;o<r.length;o++){const l=i[r[o]];l&&l.active()&&t.push(l.wait())}return Promise.all(t)}function N0(i,e){if(!e)return;let t=i.options;if(!t){i.options=e;return}return t.$shared&&(i.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function xf(i,e){const t=i&&i.options||{},r=t.reverse,o=t.min===void 0?e:0,l=t.max===void 0?e:0;return{start:r?l:o,end:r?o:l}}function C0(i,e,t){if(t===!1)return!1;const r=xf(i,t),o=xf(e,t);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function P0(i){let e,t,r,o;return Ee(i)?(e=i.top,t=i.right,r=i.bottom,o=i.left):e=t=r=o=i,{top:e,right:t,bottom:r,left:o,disabled:i===!1}}function Xm(i,e){const t=[],r=i._getSortedDatasetMetas(e);let o,l;for(o=0,l=r.length;o<l;++o)t.push(r[o].index);return t}function bf(i,e,t,r={}){const o=i.keys,l=r.mode==="single";let c,h,f,p;if(e===null)return;let g=!1;for(c=0,h=o.length;c<h;++c){if(f=+o[c],f===t){if(g=!0,r.all)continue;break}p=i.values[f],Nt(p)&&(l||e===0||kn(e)===kn(p))&&(e+=p)}return!g&&!r.all?0:e}function M0(i,e){const{iScale:t,vScale:r}=e,o=t.axis==="x"?"x":"y",l=r.axis==="x"?"x":"y",c=Object.keys(i),h=new Array(c.length);let f,p,g;for(f=0,p=c.length;f<p;++f)g=c[f],h[f]={[o]:g,[l]:i[g]};return h}function Nc(i,e){const t=i&&i.options.stacked;return t||t===void 0&&e.stack!==void 0}function T0(i,e,t){return`${i.id}.${e.id}.${t.stack||t.type}`}function D0(i){const{min:e,max:t,minDefined:r,maxDefined:o}=i.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:o?t:Number.POSITIVE_INFINITY}}function E0(i,e,t){const r=i[e]||(i[e]={});return r[t]||(r[t]={})}function wf(i,e,t,r){for(const o of e.getMatchingVisibleMetas(r).reverse()){const l=i[o.index];if(t&&l>0||!t&&l<0)return o.index}return null}function Sf(i,e){const{chart:t,_cachedMeta:r}=i,o=t._stacks||(t._stacks={}),{iScale:l,vScale:c,index:h}=r,f=l.axis,p=c.axis,g=T0(l,c,r),y=e.length;let w;for(let S=0;S<y;++S){const k=e[S],{[f]:_,[p]:N}=k,P=k._stacks||(k._stacks={});w=P[p]=E0(o,g,_),w[h]=N,w._top=wf(w,c,!0,r.type),w._bottom=wf(w,c,!1,r.type);const B=w._visualValues||(w._visualValues={});B[h]=N}}function Cc(i,e){const t=i.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function R0(i,e){return Qi(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function O0(i,e,t){return Qi(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function vr(i,e){const t=i.controller.index,r=i.vScale&&i.vScale.axis;if(r){e=e||i._parsed;for(const o of e){const l=o._stacks;if(!l||l[r]===void 0||l[r][t]===void 0)return;delete l[r][t],l[r]._visualValues!==void 0&&l[r]._visualValues[t]!==void 0&&delete l[r]._visualValues[t]}}}const Pc=i=>i==="reset"||i==="none",_f=(i,e)=>e?i:Object.assign({},i),A0=(i,e,t)=>i&&!e.hidden&&e._stacked&&{keys:Xm(t,!0),values:null};class ru{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Nc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&vr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),o=(y,w,S,k)=>y==="x"?w:y==="r"?k:S,l=t.xAxisID=De(r.xAxisID,Cc(e,"x")),c=t.yAxisID=De(r.yAxisID,Cc(e,"y")),h=t.rAxisID=De(r.rAxisID,Cc(e,"r")),f=t.indexAxis,p=t.iAxisID=o(f,l,c,h),g=t.vAxisID=o(f,c,l,h);t.xScale=this.getScaleForId(l),t.yScale=this.getScaleForId(c),t.rScale=this.getScaleForId(h),t.iScale=this.getScaleForId(p),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&sf(this._data,this),e._stacked&&vr(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Ee(t)){const o=this._cachedMeta;this._data=M0(t,o)}else if(r!==t){if(r){sf(r,this);const o=this._cachedMeta;vr(o),o._parsed=[]}t&&Object.isExtensible(t)&&vx(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const l=t._stacked;t._stacked=Nc(t.vScale,t),t.stack!==r.stack&&(o=!0,vr(t),t.stack=r.stack),this._resyncElements(e),(o||l!==t._stacked)&&(Sf(this,t._parsed),t._stacked=Nc(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:o}=this,{iScale:l,_stacked:c}=r,h=l.axis;let f=e===0&&t===o.length?!0:r._sorted,p=e>0&&r._parsed[e-1],g,y,w;if(this._parsing===!1)r._parsed=o,r._sorted=!0,w=o;else{rt(o[e])?w=this.parseArrayData(r,o,e,t):Ee(o[e])?w=this.parseObjectData(r,o,e,t):w=this.parsePrimitiveData(r,o,e,t);const S=()=>y[h]===null||p&&y[h]<p[h];for(g=0;g<t;++g)r._parsed[g+e]=y=w[g],f&&(S()&&(f=!1),p=y);r._sorted=f}c&&Sf(this,w)}parsePrimitiveData(e,t,r,o){const{iScale:l,vScale:c}=e,h=l.axis,f=c.axis,p=l.getLabels(),g=l===c,y=new Array(o);let w,S,k;for(w=0,S=o;w<S;++w)k=w+r,y[w]={[h]:g||l.parse(p[k],k),[f]:c.parse(t[k],k)};return y}parseArrayData(e,t,r,o){const{xScale:l,yScale:c}=e,h=new Array(o);let f,p,g,y;for(f=0,p=o;f<p;++f)g=f+r,y=t[g],h[f]={x:l.parse(y[0],g),y:c.parse(y[1],g)};return h}parseObjectData(e,t,r,o){const{xScale:l,yScale:c}=e,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,p=new Array(o);let g,y,w,S;for(g=0,y=o;g<y;++g)w=g+r,S=t[w],p[g]={x:l.parse(ks(S,h),w),y:c.parse(ks(S,f),w)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const o=this.chart,l=this._cachedMeta,c=t[e.axis],h={keys:Xm(o,!0),values:t._stacks[e.axis]._visualValues};return bf(h,c,l.index,{mode:r})}updateRangeFromParsed(e,t,r,o){const l=r[t.axis];let c=l===null?NaN:l;const h=o&&r._stacks[t.axis];o&&h&&(o.values=h,c=bf(o,l,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,t){const r=this._cachedMeta,o=r._parsed,l=r._sorted&&e===r.iScale,c=o.length,h=this._getOtherScale(e),f=A0(t,r,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=D0(h);let w,S;function k(){S=o[w];const _=S[h.axis];return!Nt(S[e.axis])||g>_||y<_}for(w=0;w<c&&!(!k()&&(this.updateRangeFromParsed(p,e,S,f),l));++w);if(l){for(w=c-1;w>=0;--w)if(!k()){this.updateRangeFromParsed(p,e,S,f);break}}return p}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let o,l,c;for(o=0,l=t.length;o<l;++o)c=t[o][e.axis],Nt(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,o=t.vScale,l=this.getParsed(e);return{label:r?""+r.getLabelForValue(l[r.axis]):"",value:o?""+o.getLabelForValue(l[o.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=P0(De(this.options.clip,C0(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,o=r.data||[],l=t.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||o.length-h,p=this.options.drawActiveElementsOnTop;let g;for(r.dataset&&r.dataset.draw(e,l,h,f),g=h;g<h+f;++g){const y=o[g];y.hidden||(y.active&&p?c.push(y):y.draw(e,l))}for(g=0;g<c.length;++g)c[g].draw(e,l)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const o=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];l=c.$context||(c.$context=O0(this.getContext(),e,c)),l.parsed=this.getParsed(e),l.raw=o.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=R0(this.chart.getContext(),this.index)),l.dataset=o,l.index=l.datasetIndex=this.index;return l.active=!!t,l.mode=r,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const o=t==="active",l=this._cachedDataOpts,c=e+"-"+t,h=l[c],f=this.enableOptionSharing&&Rr(r);if(h)return _f(h,f);const p=this.chart.config,g=p.datasetElementScopeKeys(this._type,e),y=o?[`${e}Hover`,"hover",e,""]:[e,""],w=p.getOptionScopes(this.getDataset(),g),S=Object.keys(tt.elements[e]),k=()=>this.getContext(r,o,t),_=p.resolveNamedOptions(w,S,k,y);return _.$shared&&(_.$shared=f,l[c]=Object.freeze(_f(_,f))),_}_resolveAnimations(e,t,r){const o=this.chart,l=this._cachedDataOpts,c=`animation-${t}`,h=l[c];if(h)return h;let f;if(o.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,t),w=g.getOptionScopes(this.getDataset(),y);f=g.createResolver(w,this.getContext(e,r,t))}const p=new Km(o,f&&f.animations);return f&&f._cacheable&&(l[c]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Pc(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),o=this._sharedOptions,l=this.getSharedOptions(r),c=this.includeOptions(t,l)||l!==o;return this.updateSharedOptions(l,t,r),{sharedOptions:l,includeOptions:c}}updateElement(e,t,r,o){Pc(o)?Object.assign(e,r):this._resolveAnimations(t,o).update(e,r)}updateSharedOptions(e,t,r){e&&!Pc(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,o){e.active=o;const l=this.getStyle(t,o);this._resolveAnimations(t,r,o).update(e,{options:!o&&this.getSharedOptions(l)||l})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[h,f,p]of this._syncList)this[h](f,p);this._syncList=[];const o=r.length,l=t.length,c=Math.min(l,o);c&&this.parse(0,c),l>o?this._insertElements(o,l-o,e):l<o&&this._removeElements(l,o-l)}_insertElements(e,t,r=!0){const o=this._cachedMeta,l=o.data,c=e+t;let h;const f=p=>{for(p.length+=t,h=p.length-1;h>=c;h--)p[h]=p[h-t]};for(f(l),h=e;h<c;++h)l[h]=new this.dataElementType;this._parsing&&f(o._parsed),this.parse(e,t),r&&this.updateElements(l,e,t,"reset")}updateElements(e,t,r,o){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,t);r._stacked&&vr(r,o)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,o]=e;this[t](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function L0(i,e){if(!i._cache.$bar){const t=i.getMatchingVisibleMetas(e);let r=[];for(let o=0,l=t.length;o<l;o++)r=r.concat(t[o].controller.getAllParsedValues(i));i._cache.$bar=Tm(r.sort((o,l)=>o-l))}return i._cache.$bar}function F0(i){const e=i.iScale,t=L0(e,i.type);let r=e._length,o,l,c,h;const f=()=>{c===32767||c===-32768||(Rr(h)&&(r=Math.min(r,Math.abs(c-h)||r)),h=c)};for(o=0,l=t.length;o<l;++o)c=e.getPixelForValue(t[o]),f();for(h=void 0,o=0,l=e.ticks.length;o<l;++o)c=e.getPixelForTick(o),f();return r}function I0(i,e,t,r){const o=t.barThickness;let l,c;return Le(o)?(l=e.min*t.categoryPercentage,c=t.barPercentage):(l=o*r,c=1),{chunk:l/r,ratio:c,start:e.pixels[i]-l/2}}function z0(i,e,t,r){const o=e.pixels,l=o[i];let c=i>0?o[i-1]:null,h=i<o.length-1?o[i+1]:null;const f=t.categoryPercentage;c===null&&(c=l-(h===null?e.end-e.start:h-l)),h===null&&(h=l+l-c);const p=l-(l-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/r,ratio:t.barPercentage,start:p}}function B0(i,e,t,r){const o=t.parse(i[0],r),l=t.parse(i[1],r),c=Math.min(o,l),h=Math.max(o,l);let f=c,p=h;Math.abs(c)>Math.abs(h)&&(f=h,p=c),e[t.axis]=p,e._custom={barStart:f,barEnd:p,start:o,end:l,min:c,max:h}}function Gm(i,e,t,r){return rt(i)?B0(i,e,t,r):e[t.axis]=t.parse(i,r),e}function jf(i,e,t,r){const o=i.iScale,l=i.vScale,c=o.getLabels(),h=o===l,f=[];let p,g,y,w;for(p=t,g=t+r;p<g;++p)w=e[p],y={},y[o.axis]=h||o.parse(c[p],p),f.push(Gm(w,y,l,p));return f}function Mc(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function $0(i,e,t){return i!==0?kn(i):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function V0(i){let e,t,r,o,l;return i.horizontal?(e=i.base>i.x,t="left",r="right"):(e=i.base<i.y,t="bottom",r="top"),e?(o="end",l="start"):(o="start",l="end"),{start:t,end:r,reverse:e,top:o,bottom:l}}function U0(i,e,t,r){let o=e.borderSkipped;const l={};if(!o){i.borderSkipped=l;return}if(o===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:p,bottom:g}=V0(i);o==="middle"&&t&&(i.enableBorderRadius=!0,(t._top||0)===r?o=p:(t._bottom||0)===r?o=g:(l[kf(g,c,h,f)]=!0,o=p)),l[kf(o,c,h,f)]=!0,i.borderSkipped=l}function kf(i,e,t,r){return r?(i=W0(i,e,t),i=Nf(i,t,e)):i=Nf(i,e,t),i}function W0(i,e,t){return i===e?t:i===t?e:i}function Nf(i,e,t){return i==="start"?e:i==="end"?t:i}function H0(i,{inflateAmount:e},t){i.inflateAmount=e==="auto"?t===1?.33:0:e}class Y0 extends ru{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,r,o){return jf(e,t,r,o)}parseArrayData(e,t,r,o){return jf(e,t,r,o)}parseObjectData(e,t,r,o){const{iScale:l,vScale:c}=e,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,p=l.axis==="x"?h:f,g=c.axis==="x"?h:f,y=[];let w,S,k,_;for(w=r,S=r+o;w<S;++w)_=t[w],k={},k[l.axis]=l.parse(ks(_,p),w),y.push(Gm(ks(_,g),k,c,w));return y}updateRangeFromParsed(e,t,r,o){super.updateRangeFromParsed(e,t,r,o);const l=r._custom;l&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:o}=t,l=this.getParsed(e),c=l._custom,h=Mc(c)?"["+c.start+", "+c.end+"]":""+o.getLabelForValue(l[o.axis]);return{label:""+r.getLabelForValue(l[r.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,o){const l=o==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),p=h.isHorizontal(),g=this._getRuler(),{sharedOptions:y,includeOptions:w}=this._getSharedOptions(t,o);for(let S=t;S<t+r;S++){const k=this.getParsed(S),_=l||Le(k[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(S),N=this._calculateBarIndexPixels(S,g),P=(k._stacks||{})[h.axis],B={horizontal:p,base:_.base,enableBorderRadius:!P||Mc(k._custom)||c===P._top||c===P._bottom,x:p?_.head:N.center,y:p?N.center:_.head,height:p?N.size:Math.abs(_.size),width:p?Math.abs(_.size):N.size};w&&(B.options=y||this.resolveDataElementOptions(S,e[S].active?"active":o));const $=B.options||e[S].options;U0(B,$,P,c),H0(B,$,g.ratio),this.updateElement(e[S],S,B,o)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),l=r.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(t),f=h&&h[r.axis],p=g=>{const y=g._parsed.find(S=>S[r.axis]===f),w=y&&y[g.vScale.axis];if(Le(w)||isNaN(w))return!0};for(const g of o)if(!(t!==void 0&&p(g))&&((l===!1||c.indexOf(g.stack)===-1||l===void 0&&g.stack===void 0)&&c.push(g.stack),g.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[De(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const o=this._getStacks(e,r),l=t!==void 0?o.indexOf(t):-1;return l===-1?o.length-1:l}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,o=[];let l,c;for(l=0,c=t.data.length;l<c;++l)o.push(r.getPixelForValue(this.getParsed(l)[r.axis],l));const h=e.barThickness;return{min:h||F0(t),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:o},options:{base:l,minBarLength:c}}=this,h=l||0,f=this.getParsed(e),p=f._custom,g=Mc(p);let y=f[t.axis],w=0,S=r?this.applyStack(t,f,r):y,k,_;S!==y&&(w=S-y,S=y),g&&(y=p.barStart,S=p.barEnd-p.barStart,y!==0&&kn(y)!==kn(p.barEnd)&&(w=0),w+=y);const N=!Le(l)&&!g?l:w;let P=t.getPixelForValue(N);if(this.chart.getDataVisibility(e)?k=t.getPixelForValue(w+S):k=P,_=k-P,Math.abs(_)<c){_=$0(_,t,h)*c,y===h&&(P-=_/2);const B=t.getPixelForDecimal(0),$=t.getPixelForDecimal(1),D=Math.min(B,$),R=Math.max(B,$);P=Math.max(Math.min(P,R),D),k=P+_,r&&!g&&(f._stacks[t.axis]._visualValues[o]=t.getValueForPixel(k)-t.getValueForPixel(P))}if(P===t.getPixelForValue(h)){const B=kn(_)*t.getLineWidthForValue(h)/2;P+=B,_-=B}return{size:_,base:P,head:k,center:k+_/2}}_calculateBarIndexPixels(e,t){const r=t.scale,o=this.options,l=o.skipNull,c=De(o.maxBarThickness,1/0);let h,f;const p=this._getAxisCount();if(t.grouped){const g=l?this._getStackCount(e):t.stackCount,y=o.barThickness==="flex"?z0(e,t,o,g*p):I0(e,t,o,g*p),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(De(w,this.getFirstScaleIdForIndexAxis())),k=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0)+S;h=y.start+y.chunk*k+y.chunk/2,f=Math.min(c,y.chunk*y.ratio)}else h=r.getPixelForValue(this.getParsed(e)[r.axis],e),f=Math.min(c,t.min*t.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,o=r.length;let l=0;for(;l<o;++l)this.getParsed(l)[t.axis]!==null&&!r[l].hidden&&r[l].draw(this._ctx)}}class q0 extends ru{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:o=[],_dataset:l}=t,c=this.chart._animationsDisabled;let{start:h,count:f}=bx(t,o,c);this._drawStart=h,this._drawCount=f,wx(t)&&(h=0,f=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!l._decimated,r.points=o;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(r,void 0,{animated:!c,options:p},e),this.updateElements(o,h,f,e)}updateElements(e,t,r,o){const l=o==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:p}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(t,o),w=c.axis,S=h.axis,{spanGaps:k,segment:_}=this.options,N=Or(k)?k:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||l||o==="none",B=t+r,$=e.length;let D=t>0&&this.getParsed(t-1);for(let R=0;R<$;++R){const L=e[R],W=P?L:{};if(R<t||R>=B){W.skip=!0;continue}const Z=this.getParsed(R),fe=Le(Z[S]),be=W[w]=c.getPixelForValue(Z[w],R),ye=W[S]=l||fe?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,Z,f):Z[S],R);W.skip=isNaN(be)||isNaN(ye)||fe,W.stop=R>0&&Math.abs(Z[w]-D[w])>N,_&&(W.parsed=Z,W.raw=p.data[R]),y&&(W.options=g||this.resolveDataElementOptions(R,L.active?"active":o)),P||this.updateElement(L,R,W,o),D=Z}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,o=e.data||[];if(!o.length)return r;const l=o[0].size(this.resolveDataElementOptions(0)),c=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,l,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function Bi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ou{static override(e){Object.assign(ou.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Bi()}parse(){return Bi()}format(){return Bi()}add(){return Bi()}diff(){return Bi()}startOf(){return Bi()}endOf(){return Bi()}}var Q0={_date:ou};function K0(i,e,t,r){const{controller:o,data:l,_sorted:c}=i,h=o._cachedMeta.iScale,f=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(h&&e===h.axis&&e!=="r"&&c&&l.length){const p=h._reversePixels?px:Hi;if(r){if(o._sharedOptions){const g=l[0],y=typeof g.getRange=="function"&&g.getRange(e);if(y){const w=p(l,e,t-y),S=p(l,e,t+y);return{lo:w.lo,hi:S.hi}}}}else{const g=p(l,e,t);if(f){const{vScale:y}=o._cachedMeta,{_parsed:w}=i,S=w.slice(0,g.lo+1).reverse().findIndex(_=>!Le(_[y.axis]));g.lo-=Math.max(0,S);const k=w.slice(g.hi).findIndex(_=>!Le(_[y.axis]));g.hi+=Math.max(0,k)}return g}}return{lo:0,hi:l.length-1}}function ja(i,e,t,r,o){const l=i.getSortedVisibleDatasetMetas(),c=t[e];for(let h=0,f=l.length;h<f;++h){const{index:p,data:g}=l[h],{lo:y,hi:w}=K0(l[h],e,c,o);for(let S=y;S<=w;++S){const k=g[S];k.skip||r(k,p,S)}}}function X0(i){const e=i.indexOf("x")!==-1,t=i.indexOf("y")!==-1;return function(r,o){const l=e?Math.abs(r.x-o.x):0,c=t?Math.abs(r.y-o.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function Tc(i,e,t,r,o){const l=[];return!o&&!i.isPointInArea(e)||ja(i,t,e,function(h,f,p){!o&&!Ar(h,i.chartArea,0)||h.inRange(e.x,e.y,r)&&l.push({element:h,datasetIndex:f,index:p})},!0),l}function G0(i,e,t,r){let o=[];function l(c,h,f){const{startAngle:p,endAngle:g}=c.getProps(["startAngle","endAngle"],r),{angle:y}=hx(c,{x:e.x,y:e.y});Pm(y,p,g)&&o.push({element:c,datasetIndex:h,index:f})}return ja(i,t,e,l),o}function J0(i,e,t,r,o,l){let c=[];const h=X0(t);let f=Number.POSITIVE_INFINITY;function p(g,y,w){const S=g.inRange(e.x,e.y,o);if(r&&!S)return;const k=g.getCenterPoint(o);if(!(!!l||i.isPointInArea(k))&&!S)return;const N=h(e,k);N<f?(c=[{element:g,datasetIndex:y,index:w}],f=N):N===f&&c.push({element:g,datasetIndex:y,index:w})}return ja(i,t,e,p),c}function Dc(i,e,t,r,o,l){return!l&&!i.isPointInArea(e)?[]:t==="r"&&!r?G0(i,e,t,o):J0(i,e,t,r,o,l)}function Cf(i,e,t,r,o){const l=[],c=t==="x"?"inXRange":"inYRange";let h=!1;return ja(i,t,e,(f,p,g)=>{f[c]&&f[c](e[t],o)&&(l.push({element:f,datasetIndex:p,index:g}),h=h||f.inRange(e.x,e.y,o))}),r&&!h?[]:l}var Z0={modes:{index(i,e,t,r){const o=Vi(e,i),l=t.axis||"x",c=t.includeInvisible||!1,h=t.intersect?Tc(i,o,l,r,c):Dc(i,o,l,!1,r,c),f=[];return h.length?(i.getSortedVisibleDatasetMetas().forEach(p=>{const g=h[0].index,y=p.data[g];y&&!y.skip&&f.push({element:y,datasetIndex:p.index,index:g})}),f):[]},dataset(i,e,t,r){const o=Vi(e,i),l=t.axis||"xy",c=t.includeInvisible||!1;let h=t.intersect?Tc(i,o,l,r,c):Dc(i,o,l,!1,r,c);if(h.length>0){const f=h[0].datasetIndex,p=i.getDatasetMeta(f).data;h=[];for(let g=0;g<p.length;++g)h.push({element:p[g],datasetIndex:f,index:g})}return h},point(i,e,t,r){const o=Vi(e,i),l=t.axis||"xy",c=t.includeInvisible||!1;return Tc(i,o,l,r,c)},nearest(i,e,t,r){const o=Vi(e,i),l=t.axis||"xy",c=t.includeInvisible||!1;return Dc(i,o,l,t.intersect,r,c)},x(i,e,t,r){const o=Vi(e,i);return Cf(i,o,"x",t.intersect,r)},y(i,e,t,r){const o=Vi(e,i);return Cf(i,o,"y",t.intersect,r)}}};const Jm=["left","top","right","bottom"];function yr(i,e){return i.filter(t=>t.pos===e)}function Pf(i,e){return i.filter(t=>Jm.indexOf(t.pos)===-1&&t.box.axis===e)}function xr(i,e){return i.sort((t,r)=>{const o=e?r:t,l=e?t:r;return o.weight===l.weight?o.index-l.index:o.weight-l.weight})}function eb(i){const e=[];let t,r,o,l,c,h;for(t=0,r=(i||[]).length;t<r;++t)o=i[t],{position:l,options:{stack:c,stackWeight:h=1}}=o,e.push({index:t,box:o,pos:l,horizontal:o.isHorizontal(),weight:o.weight,stack:c&&l+c,stackWeight:h});return e}function tb(i){const e={};for(const t of i){const{stack:r,pos:o,stackWeight:l}=t;if(!r||!Jm.includes(o))continue;const c=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return e}function nb(i,e){const t=tb(i),{vBoxMaxWidth:r,hBoxMaxHeight:o}=e;let l,c,h;for(l=0,c=i.length;l<c;++l){h=i[l];const{fullSize:f}=h.box,p=t[h.stack],g=p&&h.stackWeight/p.weight;h.horizontal?(h.width=g?g*r:f&&e.availableWidth,h.height=o):(h.width=r,h.height=g?g*o:f&&e.availableHeight)}return t}function ib(i){const e=eb(i),t=xr(e.filter(p=>p.box.fullSize),!0),r=xr(yr(e,"left"),!0),o=xr(yr(e,"right")),l=xr(yr(e,"top"),!0),c=xr(yr(e,"bottom")),h=Pf(e,"x"),f=Pf(e,"y");return{fullSize:t,leftAndTop:r.concat(l),rightAndBottom:o.concat(f).concat(c).concat(h),chartArea:yr(e,"chartArea"),vertical:r.concat(o).concat(f),horizontal:l.concat(c).concat(h)}}function Mf(i,e,t,r){return Math.max(i[t],e[t])+Math.max(i[r],e[r])}function Zm(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function sb(i,e,t,r){const{pos:o,box:l}=t,c=i.maxPadding;if(!Ee(o)){t.size&&(i[o]-=t.size);const y=r[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?l.height:l.width),t.size=y.size/y.count,i[o]+=t.size}l.getPadding&&Zm(c,l.getPadding());const h=Math.max(0,e.outerWidth-Mf(c,i,"left","right")),f=Math.max(0,e.outerHeight-Mf(c,i,"top","bottom")),p=h!==i.w,g=f!==i.h;return i.w=h,i.h=f,t.horizontal?{same:p,other:g}:{same:g,other:p}}function rb(i){const e=i.maxPadding;function t(r){const o=Math.max(e[r]-i[r],0);return i[r]+=o,o}i.y+=t("top"),i.x+=t("left"),t("right"),t("bottom")}function ob(i,e){const t=e.maxPadding;function r(o){const l={left:0,top:0,right:0,bottom:0};return o.forEach(c=>{l[c]=Math.max(e[c],t[c])}),l}return r(i?["left","right"]:["top","bottom"])}function _r(i,e,t,r){const o=[];let l,c,h,f,p,g;for(l=0,c=i.length,p=0;l<c;++l){h=i[l],f=h.box,f.update(h.width||e.w,h.height||e.h,ob(h.horizontal,e));const{same:y,other:w}=sb(e,t,h,r);p|=y&&o.length,g=g||w,f.fullSize||o.push(h)}return p&&_r(o,e,t,r)||g}function sa(i,e,t,r,o){i.top=t,i.left=e,i.right=e+r,i.bottom=t+o,i.width=r,i.height=o}function Tf(i,e,t,r){const o=t.padding;let{x:l,y:c}=e;for(const h of i){const f=h.box,p=r[h.stack]||{placed:0,weight:1},g=h.stackWeight/p.weight||1;if(h.horizontal){const y=e.w*g,w=p.size||f.height;Rr(p.start)&&(c=p.start),f.fullSize?sa(f,o.left,c,t.outerWidth-o.right-o.left,w):sa(f,e.left+p.placed,c,y,w),p.start=c,p.placed+=y,c=f.bottom}else{const y=e.h*g,w=p.size||f.width;Rr(p.start)&&(l=p.start),f.fullSize?sa(f,l,o.top,w,t.outerHeight-o.bottom-o.top):sa(f,l,e.top+p.placed,w,y),p.start=l,p.placed+=y,l=f.right}}e.x=l,e.y=c}var nn={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},i.boxes.push(e)},removeBox(i,e){const t=i.boxes?i.boxes.indexOf(e):-1;t!==-1&&i.boxes.splice(t,1)},configure(i,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(i,e,t,r){if(!i)return;const o=sn(i.options.layout.padding),l=Math.max(e-o.width,0),c=Math.max(t-o.height,0),h=ib(i.boxes),f=h.vertical,p=h.horizontal;ze(i.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const g=f.reduce((_,N)=>N.box.options&&N.box.options.display===!1?_:_+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:o,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/g,hBoxMaxHeight:c/2}),w=Object.assign({},o);Zm(w,sn(r));const S=Object.assign({maxPadding:w,w:l,h:c,x:o.left,y:o.top},o),k=nb(f.concat(p),y);_r(h.fullSize,S,y,k),_r(f,S,y,k),_r(p,S,y,k)&&_r(f,S,y,k),rb(S),Tf(h.leftAndTop,S,y,k),S.x+=S.w,S.y+=S.h,Tf(h.rightAndBottom,S,y,k),i.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},ze(h.chartArea,_=>{const N=_.box;Object.assign(N,i.chartArea),N.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class ep{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,o){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):r)}}isAttached(e){return!0}updateConfig(e){}}class ab extends ep{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const da="$chartjs",lb={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Df=i=>i===null||i==="";function cb(i,e){const t=i.style,r=i.getAttribute("height"),o=i.getAttribute("width");if(i[da]={initial:{height:r,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Df(o)){const l=mf(i,"width");l!==void 0&&(i.width=l)}if(Df(r))if(i.style.height==="")i.height=i.width/(e||2);else{const l=mf(i,"height");l!==void 0&&(i.height=l)}return i}const tp=u0?{passive:!0}:!1;function ub(i,e,t){i&&i.addEventListener(e,t,tp)}function db(i,e,t){i&&i.canvas&&i.canvas.removeEventListener(e,t,tp)}function hb(i,e){const t=lb[i.type]||i.type,{x:r,y:o}=Vi(i,e);return{type:t,chart:e,native:i,x:r!==void 0?r:null,y:o!==void 0?o:null}}function xa(i,e){for(const t of i)if(t===e||t.contains(e))return!0}function fb(i,e,t){const r=i.canvas,o=new MutationObserver(l=>{let c=!1;for(const h of l)c=c||xa(h.addedNodes,r),c=c&&!xa(h.removedNodes,r);c&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}function mb(i,e,t){const r=i.canvas,o=new MutationObserver(l=>{let c=!1;for(const h of l)c=c||xa(h.removedNodes,r),c=c&&!xa(h.addedNodes,r);c&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}const Fr=new Map;let Ef=0;function np(){const i=window.devicePixelRatio;i!==Ef&&(Ef=i,Fr.forEach((e,t)=>{t.currentDevicePixelRatio!==i&&e()}))}function pb(i,e){Fr.size||window.addEventListener("resize",np),Fr.set(i,e)}function gb(i){Fr.delete(i),Fr.size||window.removeEventListener("resize",np)}function vb(i,e,t){const r=i.canvas,o=r&&su(r);if(!o)return;const l=Em((h,f)=>{const p=o.clientWidth;t(h,f),p<o.clientWidth&&t()},window),c=new ResizeObserver(h=>{const f=h[0],p=f.contentRect.width,g=f.contentRect.height;p===0&&g===0||l(p,g)});return c.observe(o),pb(i,l),c}function Ec(i,e,t){t&&t.disconnect(),e==="resize"&&gb(i)}function yb(i,e,t){const r=i.canvas,o=Em(l=>{i.ctx!==null&&t(hb(l,i))},i);return ub(r,e,o),o}class xb extends ep{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(cb(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[da])return!1;const r=t[da].initial;["height","width"].forEach(l=>{const c=r[l];Le(c)?t.removeAttribute(l):t.setAttribute(l,c)});const o=r.style||{};return Object.keys(o).forEach(l=>{t.style[l]=o[l]}),t.width=t.width,delete t[da],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const o=e.$proxies||(e.$proxies={}),c={attach:fb,detach:mb,resize:vb}[t]||yb;o[t]=c(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),o=r[t];if(!o)return;({attach:Ec,detach:Ec,resize:Ec}[t]||db)(e,t,o),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,o){return c0(e,t,r,o)}isAttached(e){const t=e&&su(e);return!!(t&&t.isConnected)}}function bb(i){return!iu()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?ab:xb}class xi{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Or(this.x)&&Or(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const o={};return e.forEach(l=>{o[l]=r[l]&&r[l].active()?r[l]._to:this[l]}),o}}function wb(i,e){const t=i.options.ticks,r=Sb(i),o=Math.min(t.maxTicksLimit||r,r),l=t.major.enabled?jb(e):[],c=l.length,h=l[0],f=l[c-1],p=[];if(c>o)return kb(e,p,l,c/o),p;const g=_b(l,e,o);if(c>0){let y,w;const S=c>1?Math.round((f-h)/(c-1)):null;for(ra(e,p,g,Le(S)?0:h-S,h),y=0,w=c-1;y<w;y++)ra(e,p,g,l[y],l[y+1]);return ra(e,p,g,f,Le(S)?e.length:f+S),p}return ra(e,p,g),p}function Sb(i){const e=i.options.offset,t=i._tickSize(),r=i._length/t+(e?0:1),o=i._maxLength/t;return Math.floor(Math.min(r,o))}function _b(i,e,t){const r=Nb(i),o=e.length/t;if(!r)return Math.max(o,1);const l=ax(r);for(let c=0,h=l.length-1;c<h;c++){const f=l[c];if(f>o)return f}return Math.max(o,1)}function jb(i){const e=[];let t,r;for(t=0,r=i.length;t<r;t++)i[t].major&&e.push(t);return e}function kb(i,e,t,r){let o=0,l=t[0],c;for(r=Math.ceil(r),c=0;c<i.length;c++)c===l&&(e.push(i[c]),o++,l=t[o*r])}function ra(i,e,t,r,o){const l=De(r,0),c=Math.min(De(o,i.length),i.length);let h=0,f,p,g;for(t=Math.ceil(t),o&&(f=o-r,t=f/Math.floor(f/t)),g=l;g<0;)h++,g=Math.round(l+h*t);for(p=Math.max(l,0);p<c;p++)p===g&&(e.push(i[p]),h++,g=Math.round(l+h*t))}function Nb(i){const e=i.length;let t,r;if(e<2)return!1;for(r=i[0],t=1;t<e;++t)if(i[t]-i[t-1]!==r)return!1;return r}const Cb=i=>i==="left"?"right":i==="right"?"left":i,Rf=(i,e,t)=>e==="top"||e==="left"?i[e]+t:i[e]-t,Of=(i,e)=>Math.min(e||i,i);function Af(i,e){const t=[],r=i.length/e,o=i.length;let l=0;for(;l<o;l+=r)t.push(i[Math.floor(l)]);return t}function Pb(i,e,t){const r=i.ticks.length,o=Math.min(e,r-1),l=i._startPixel,c=i._endPixel,h=1e-6;let f=i.getPixelForTick(o),p;if(!(t&&(r===1?p=Math.max(f-l,c-f):e===0?p=(i.getPixelForTick(1)-f)/2:p=(f-i.getPixelForTick(o-1))/2,f+=o<e?p:-p,f<l-h||f>c+h)))return f}function Mb(i,e){ze(i,t=>{const r=t.gc,o=r.length/2;let l;if(o>e){for(l=0;l<o;++l)delete t.data[r[l]];r.splice(0,o)}})}function br(i){return i.drawTicks?i.tickLength:0}function Lf(i,e){if(!i.display)return 0;const t=kt(i.font,e),r=sn(i.padding);return(rt(i.text)?i.text.length:1)*t.lineHeight+r.height}function Tb(i,e){return Qi(i,{scale:e,type:"scale"})}function Db(i,e,t){return Qi(i,{tick:t,index:e,type:"tick"})}function Eb(i,e,t){let r=Jc(i);return(t&&e!=="right"||!t&&e==="right")&&(r=Cb(r)),r}function Rb(i,e,t,r){const{top:o,left:l,bottom:c,right:h,chart:f}=i,{chartArea:p,scales:g}=f;let y=0,w,S,k;const _=c-o,N=h-l;if(i.isHorizontal()){if(S=jt(r,l,h),Ee(t)){const P=Object.keys(t)[0],B=t[P];k=g[P].getPixelForValue(B)+_-e}else t==="center"?k=(p.bottom+p.top)/2+_-e:k=Rf(i,t,e);w=h-l}else{if(Ee(t)){const P=Object.keys(t)[0],B=t[P];S=g[P].getPixelForValue(B)-N+e}else t==="center"?S=(p.left+p.right)/2-N+e:S=Rf(i,t,e);k=jt(r,c,o),y=t==="left"?-hn:hn}return{titleX:S,titleY:k,maxWidth:w,rotation:y}}class Ps extends xi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:o}=this;return e=wn(e,Number.POSITIVE_INFINITY),t=wn(t,Number.NEGATIVE_INFINITY),r=wn(r,Number.POSITIVE_INFINITY),o=wn(o,Number.NEGATIVE_INFINITY),{min:wn(e,r),max:wn(t,o),minDefined:Nt(e),maxDefined:Nt(t)}}getMinMax(e){let{min:t,max:r,minDefined:o,maxDefined:l}=this.getUserBounds(),c;if(o&&l)return{min:t,max:r};const h=this.getMatchingVisibleMetas();for(let f=0,p=h.length;f<p;++f)c=h[f].controller.getMinMax(this,e),o||(t=Math.min(t,c.min)),l||(r=Math.max(r,c.max));return t=l&&t>r?r:t,r=o&&t>r?t:r,{min:wn(t,wn(r,t)),max:wn(r,wn(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){He(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:o,grace:l,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$x(this,l,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?Af(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=wb(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){He(this.options.afterUpdate,[this])}beforeSetDimensions(){He(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){He(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),He(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){He(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,o,l;for(r=0,o=e.length;r<o;r++)l=e[r],l.label=He(t.callback,[l.value,r,e],this)}afterTickToLabelConversion(){He(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){He(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Of(this.ticks.length,e.ticks.maxTicksLimit),o=t.minRotation||0,l=t.maxRotation;let c=o,h,f,p;if(!this._isVisible()||!t.display||o>=l||r<=1||!this.isHorizontal()){this.labelRotation=o;return}const g=this._getLabelSizes(),y=g.widest.width,w=g.highest.height,S=qt(this.chart.width-y,0,this.maxWidth);h=e.offset?this.maxWidth/r:S/(r-1),y+6>h&&(h=S/(r-(e.offset?.5:1)),f=this.maxHeight-br(e.grid)-t.padding-Lf(e.title,this.chart.options.font),p=Math.sqrt(y*y+w*w),c=dx(Math.min(Math.asin(qt((g.highest.height+6)/h,-1,1)),Math.asin(qt(f/p,-1,1))-Math.asin(qt(w/p,-1,1)))),c=Math.max(o,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){He(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){He(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:o,grid:l}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=Lf(o,t.options.font);if(h?(e.width=this.maxWidth,e.height=br(l)+f):(e.height=this.maxHeight,e.width=br(l)+f),r.display&&this.ticks.length){const{first:p,last:g,widest:y,highest:w}=this._getLabelSizes(),S=r.padding*2,k=Wi(this.labelRotation),_=Math.cos(k),N=Math.sin(k);if(h){const P=r.mirror?0:N*y.width+_*w.height;e.height=Math.min(this.maxHeight,e.height+P+S)}else{const P=r.mirror?0:_*y.width+N*w.height;e.width=Math.min(this.maxWidth,e.width+P+S)}this._calculatePadding(p,g,N,_)}}this._handleMargins(),h?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,o){const{ticks:{align:l,padding:c},position:h}=this.options,f=this.labelRotation!==0,p=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,S=0;f?p?(w=o*e.width,S=r*t.height):(w=r*e.height,S=o*t.width):l==="start"?S=t.width:l==="end"?w=e.width:l!=="inner"&&(w=e.width/2,S=t.width/2),this.paddingLeft=Math.max((w-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((S-y+c)*this.width/(this.width-y),0)}else{let g=t.height/2,y=e.height/2;l==="start"?(g=0,y=e.height):l==="end"&&(g=t.height,y=0),this.paddingTop=g+c,this.paddingBottom=y+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){He(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Le(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Af(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:o,_longestTextCache:l}=this,c=[],h=[],f=Math.floor(t/Of(t,r));let p=0,g=0,y,w,S,k,_,N,P,B,$,D,R;for(y=0;y<t;y+=f){if(k=e[y].label,_=this._resolveTickFontOptions(y),o.font=N=_.string,P=l[N]=l[N]||{data:{},gc:[]},B=_.lineHeight,$=D=0,!Le(k)&&!rt(k))$=cf(o,P.data,P.gc,$,k),D=B;else if(rt(k))for(w=0,S=k.length;w<S;++w)R=k[w],!Le(R)&&!rt(R)&&($=cf(o,P.data,P.gc,$,R),D+=B);c.push($),h.push(D),p=Math.max($,p),g=Math.max(D,g)}Mb(l,t);const L=c.indexOf(p),W=h.indexOf(g),Z=fe=>({width:c[fe]||0,height:h[fe]||0});return{first:Z(0),last:Z(t-1),widest:Z(L),highest:Z(W),widths:c,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return mx(this._alignToPixels?zi(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=Db(this.getContext(),e,r))}return this.$context||(this.$context=Tb(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Wi(this.labelRotation),r=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),l=this._getLabelSizes(),c=e.autoSkipPadding||0,h=l?l.widest.width+c:0,f=l?l.highest.height+c:0;return this.isHorizontal()?f*r>h*o?h/r:f/o:f*o<h*r?f/r:h/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,o=this.options,{grid:l,position:c,border:h}=o,f=l.offset,p=this.isHorizontal(),y=this.ticks.length+(f?1:0),w=br(l),S=[],k=h.setContext(this.getContext()),_=k.display?k.width:0,N=_/2,P=function(ce){return zi(r,ce,_)};let B,$,D,R,L,W,Z,fe,be,ye,re,Me;if(c==="top")B=P(this.bottom),W=this.bottom-w,fe=B-N,ye=P(e.top)+N,Me=e.bottom;else if(c==="bottom")B=P(this.top),ye=e.top,Me=P(e.bottom)-N,W=B+N,fe=this.top+w;else if(c==="left")B=P(this.right),L=this.right-w,Z=B-N,be=P(e.left)+N,re=e.right;else if(c==="right")B=P(this.left),be=e.left,re=P(e.right)-N,L=B+N,Z=this.left+w;else if(t==="x"){if(c==="center")B=P((e.top+e.bottom)/2+.5);else if(Ee(c)){const ce=Object.keys(c)[0],Q=c[ce];B=P(this.chart.scales[ce].getPixelForValue(Q))}ye=e.top,Me=e.bottom,W=B+N,fe=W+w}else if(t==="y"){if(c==="center")B=P((e.left+e.right)/2);else if(Ee(c)){const ce=Object.keys(c)[0],Q=c[ce];B=P(this.chart.scales[ce].getPixelForValue(Q))}L=B-N,Z=L-w,be=e.left,re=e.right}const ee=De(o.ticks.maxTicksLimit,y),se=Math.max(1,Math.ceil(y/ee));for($=0;$<y;$+=se){const ce=this.getContext($),Q=l.setContext(ce),I=h.setContext(ce),H=Q.lineWidth,U=Q.color,C=I.dash||[],E=I.dashOffset,G=Q.tickWidth,oe=Q.tickColor,ie=Q.tickBorderDash||[],ue=Q.tickBorderDashOffset;D=Pb(this,$,f),D!==void 0&&(R=zi(r,D,H),p?L=Z=be=re=R:W=fe=ye=Me=R,S.push({tx1:L,ty1:W,tx2:Z,ty2:fe,x1:be,y1:ye,x2:re,y2:Me,width:H,color:U,borderDash:C,borderDashOffset:E,tickWidth:G,tickColor:oe,tickBorderDash:ie,tickBorderDashOffset:ue}))}return this._ticksLength=y,this._borderValue=B,S}_computeLabelItems(e){const t=this.axis,r=this.options,{position:o,ticks:l}=r,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:p,padding:g,mirror:y}=l,w=br(r.grid),S=w+g,k=y?-g:S,_=-Wi(this.labelRotation),N=[];let P,B,$,D,R,L,W,Z,fe,be,ye,re,Me="middle";if(o==="top")L=this.bottom-k,W=this._getXAxisLabelAlignment();else if(o==="bottom")L=this.top+k,W=this._getXAxisLabelAlignment();else if(o==="left"){const se=this._getYAxisLabelAlignment(w);W=se.textAlign,R=se.x}else if(o==="right"){const se=this._getYAxisLabelAlignment(w);W=se.textAlign,R=se.x}else if(t==="x"){if(o==="center")L=(e.top+e.bottom)/2+S;else if(Ee(o)){const se=Object.keys(o)[0],ce=o[se];L=this.chart.scales[se].getPixelForValue(ce)+S}W=this._getXAxisLabelAlignment()}else if(t==="y"){if(o==="center")R=(e.left+e.right)/2-S;else if(Ee(o)){const se=Object.keys(o)[0],ce=o[se];R=this.chart.scales[se].getPixelForValue(ce)}W=this._getYAxisLabelAlignment(w).textAlign}t==="y"&&(f==="start"?Me="top":f==="end"&&(Me="bottom"));const ee=this._getLabelSizes();for(P=0,B=h.length;P<B;++P){$=h[P],D=$.label;const se=l.setContext(this.getContext(P));Z=this.getPixelForTick(P)+l.labelOffset,fe=this._resolveTickFontOptions(P),be=fe.lineHeight,ye=rt(D)?D.length:1;const ce=ye/2,Q=se.color,I=se.textStrokeColor,H=se.textStrokeWidth;let U=W;c?(R=Z,W==="inner"&&(P===B-1?U=this.options.reverse?"left":"right":P===0?U=this.options.reverse?"right":"left":U="center"),o==="top"?p==="near"||_!==0?re=-ye*be+be/2:p==="center"?re=-ee.highest.height/2-ce*be+be:re=-ee.highest.height+be/2:p==="near"||_!==0?re=be/2:p==="center"?re=ee.highest.height/2-ce*be:re=ee.highest.height-ye*be,y&&(re*=-1),_!==0&&!se.showLabelBackdrop&&(R+=be/2*Math.sin(_))):(L=Z,re=(1-ye)*be/2);let C;if(se.showLabelBackdrop){const E=sn(se.backdropPadding),G=ee.heights[P],oe=ee.widths[P];let ie=re-E.top,ue=0-E.left;switch(Me){case"middle":ie-=G/2;break;case"bottom":ie-=G;break}switch(W){case"center":ue-=oe/2;break;case"right":ue-=oe;break;case"inner":P===B-1?ue-=oe:P>0&&(ue-=oe/2);break}C={left:ue,top:ie,width:oe+E.width,height:G+E.height,color:se.backdropColor}}N.push({label:D,font:fe,textOffset:re,options:{rotation:_,color:Q,strokeColor:I,strokeWidth:H,textAlign:U,textBaseline:Me,translation:[R,L],backdrop:C}})}return N}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Wi(this.labelRotation))return e==="top"?"left":"right";let o="center";return t.align==="start"?o="left":t.align==="end"?o="right":t.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:o,padding:l}}=this.options,c=this._getLabelSizes(),h=e+l,f=c.widest.width;let p,g;return t==="left"?o?(g=this.right+l,r==="near"?p="left":r==="center"?(p="center",g+=f/2):(p="right",g+=f)):(g=this.right-h,r==="near"?p="right":r==="center"?(p="center",g-=f/2):(p="left",g=this.left)):t==="right"?o?(g=this.left+l,r==="near"?p="right":r==="center"?(p="center",g-=f/2):(p="left",g-=f)):(g=this.left+h,r==="near"?p="left":r==="center"?(p="center",g+=f/2):(p="right",g=this.right)):p="right",{textAlign:p,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:o,width:l,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,o,l,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const o=this.ticks.findIndex(l=>l.value===e);return o>=0?t.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,c;const h=(f,p,g)=>{!g.width||!g.color||(r.save(),r.lineWidth=g.width,r.strokeStyle=g.color,r.setLineDash(g.borderDash||[]),r.lineDashOffset=g.borderDashOffset,r.beginPath(),r.moveTo(f.x,f.y),r.lineTo(p.x,p.y),r.stroke(),r.restore())};if(t.display)for(l=0,c=o.length;l<c;++l){const f=o[l];t.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),t.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:o}}=this,l=r.setContext(this.getContext()),c=r.display?l.width:0;if(!c)return;const h=o.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let p,g,y,w;this.isHorizontal()?(p=zi(e,this.left,c)-c/2,g=zi(e,this.right,h)+h/2,y=w=f):(y=zi(e,this.top,c)-c/2,w=zi(e,this.bottom,h)+h/2,p=g=f),t.save(),t.lineWidth=l.width,t.strokeStyle=l.color,t.beginPath(),t.moveTo(p,y),t.lineTo(g,w),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,o=this._computeLabelArea();o&&wa(r,o);const l=this.getLabelItems(e);for(const c of l){const h=c.options,f=c.font,p=c.label,g=c.textOffset;Lr(r,p,0,g,f,h)}o&&Sa(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:o}}=this;if(!r.display)return;const l=kt(r.font),c=sn(r.padding),h=r.align;let f=l.lineHeight/2;t==="bottom"||t==="center"||Ee(t)?(f+=c.bottom,rt(r.text)&&(f+=l.lineHeight*(r.text.length-1))):f+=c.top;const{titleX:p,titleY:g,maxWidth:y,rotation:w}=Rb(this,f,t,h);Lr(e,r.text,0,0,l,{color:r.color,maxWidth:y,rotation:w,textAlign:Eb(h,t,o),textBaseline:"middle",translation:[p,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=De(e.grid&&e.grid.z,-1),o=De(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ps.prototype.draw?[{z:t,draw:l=>{this.draw(l)}}]:[{z:r,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:t,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[];let l,c;for(l=0,c=t.length;l<c;++l){const h=t[l];h[r]===this.id&&(!e||h.type===e)&&o.push(h)}return o}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return kt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class oa{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;Lb(t)&&(r=this.register(t));const o=this.items,l=e.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in o||(o[l]=e,Ob(e,c,r),this.override&&tt.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,o=this.scope;r in t&&delete t[r],o&&r in tt[o]&&(delete tt[o][r],this.override&&delete qi[r])}}function Ob(i,e,t){const r=Er(Object.create(null),[t?tt.get(t):{},tt.get(e),i.defaults]);tt.set(e,r),i.defaultRoutes&&Ab(e,i.defaultRoutes),i.descriptors&&tt.describe(e,i.descriptors)}function Ab(i,e){Object.keys(e).forEach(t=>{const r=t.split("."),o=r.pop(),l=[i].concat(r).join("."),c=e[t].split("."),h=c.pop(),f=c.join(".");tt.route(l,o,f,h)})}function Lb(i){return"id"in i&&"defaults"in i}class Fb{constructor(){this.controllers=new oa(ru,"datasets",!0),this.elements=new oa(xi,"elements"),this.plugins=new oa(Object,"plugins"),this.scales=new oa(Ps,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(o=>{const l=r||this._getRegistryForType(o);r||l.isForType(o)||l===this.plugins&&o.id?this._exec(e,l,o):ze(o,c=>{const h=r||this._getRegistryForType(c);this._exec(e,h,c)})})}_exec(e,t,r){const o=Xc(e);He(r["before"+o],[],r),t[e](r),He(r["after"+o],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const o=t.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return o}}var _n=new Fb;class Ib{constructor(){this._init=void 0}notify(e,t,r,o){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const l=o?this._descriptors(e).filter(o):this._descriptors(e),c=this._notify(l,e,t,r);return t==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),c}_notify(e,t,r,o){o=o||{};for(const l of e){const c=l.plugin,h=c[r],f=[t,o,l.options];if(He(h,f,c)===!1&&o.cancelable)return!1}return!0}invalidate(){Le(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,o=De(r.options&&r.options.plugins,{}),l=zb(r);return o===!1&&!t?[]:$b(e,l,o,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,o=(l,c)=>l.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(o(t,r),e,"stop"),this._notify(o(r,t),e,"start")}}function zb(i){const e={},t=[],r=Object.keys(_n.plugins.items);for(let l=0;l<r.length;l++)t.push(_n.getPlugin(r[l]));const o=i.plugins||[];for(let l=0;l<o.length;l++){const c=o[l];t.indexOf(c)===-1&&(t.push(c),e[c.id]=!0)}return{plugins:t,localIds:e}}function Bb(i,e){return!e&&i===!1?null:i===!0?{}:i}function $b(i,{plugins:e,localIds:t},r,o){const l=[],c=i.getContext();for(const h of e){const f=h.id,p=Bb(r[f],o);p!==null&&l.push({plugin:h,options:Vb(i.config,{plugin:h,local:t[f]},p,c)})}return l}function Vb(i,{plugin:e,local:t},r,o){const l=i.pluginScopeKeys(e),c=i.getOptionScopes(r,l);return t&&e.defaults&&c.push(e.defaults),i.createResolver(c,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vc(i,e){const t=tt.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Ub(i,e){let t=i;return i==="_index_"?t=e:i==="_value_"&&(t=e==="x"?"y":"x"),t}function Wb(i,e){return i===e?"_index_":"_value_"}function Ff(i){if(i==="x"||i==="y"||i==="r")return i}function Hb(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Uc(i,...e){if(Ff(i))return i;for(const t of e){const r=t.axis||Hb(t.position)||i.length>1&&Ff(i[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function If(i,e,t){if(t[e+"AxisID"]===i)return{axis:e}}function Yb(i,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===i||r.yAxisID===i);if(t.length)return If(i,"x",t[0])||If(i,"y",t[0])}return{}}function qb(i,e){const t=qi[i.type]||{scales:{}},r=e.scales||{},o=Vc(i.type,e),l=Object.create(null);return Object.keys(r).forEach(c=>{const h=r[c];if(!Ee(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Uc(c,h,Yb(c,i),tt.scales[h.type]),p=Wb(f,o),g=t.scales||{};l[c]=Nr(Object.create(null),[{axis:f},h,g[f],g[p]])}),i.data.datasets.forEach(c=>{const h=c.type||i.type,f=c.indexAxis||Vc(h,e),g=(qi[h]||{}).scales||{};Object.keys(g).forEach(y=>{const w=Ub(y,f),S=c[w+"AxisID"]||w;l[S]=l[S]||Object.create(null),Nr(l[S],[{axis:w},r[S],g[y]])})}),Object.keys(l).forEach(c=>{const h=l[c];Nr(h,[tt.scales[h.type],tt.scale])}),l}function ip(i){const e=i.options||(i.options={});e.plugins=De(e.plugins,{}),e.scales=qb(i,e)}function sp(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function Qb(i){return i=i||{},i.data=sp(i.data),ip(i),i}const zf=new Map,rp=new Set;function aa(i,e){let t=zf.get(i);return t||(t=e(),zf.set(i,t),rp.add(t)),t}const wr=(i,e,t)=>{const r=ks(e,t);r!==void 0&&i.add(r)};class Kb{constructor(e){this._config=Qb(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=sp(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ip(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return aa(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return aa(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return aa(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return aa(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let o=r.get(e);return(!o||t)&&(o=new Map,r.set(e,o)),o}getOptionScopes(e,t,r){const{options:o,type:l}=this,c=this._cachedScopes(e,r),h=c.get(t);if(h)return h;const f=new Set;t.forEach(g=>{e&&(f.add(e),g.forEach(y=>wr(f,e,y))),g.forEach(y=>wr(f,o,y)),g.forEach(y=>wr(f,qi[l]||{},y)),g.forEach(y=>wr(f,tt,y)),g.forEach(y=>wr(f,Bc,y))});const p=Array.from(f);return p.length===0&&p.push(Object.create(null)),rp.has(t)&&c.set(t,p),p}chartOptionScopes(){const{options:e,type:t}=this;return[e,qi[t]||{},tt.datasets[t]||{},{type:t},tt,Bc]}resolveNamedOptions(e,t,r,o=[""]){const l={$shared:!0},{resolver:c,subPrefixes:h}=Bf(this._resolverCache,e,o);let f=c;if(Gb(c,t)){l.$shared=!1,r=yi(r)?r():r;const p=this.createResolver(e,r,h);f=Ns(c,r,p)}for(const p of t)l[p]=f[p];return l}createResolver(e,t,r=[""],o){const{resolver:l}=Bf(this._resolverCache,e,r);return Ee(t)?Ns(l,t,void 0,o):l}}function Bf(i,e,t){let r=i.get(e);r||(r=new Map,i.set(e,r));const o=t.join();let l=r.get(o);return l||(l={resolver:eu(e,t),subPrefixes:t.filter(h=>!h.toLowerCase().includes("hover"))},r.set(o,l)),l}const Xb=i=>Ee(i)&&Object.getOwnPropertyNames(i).some(e=>yi(i[e]));function Gb(i,e){const{isScriptable:t,isIndexable:r}=Im(i);for(const o of e){const l=t(o),c=r(o),h=(c||l)&&i[o];if(l&&(yi(h)||Xb(h))||c&&rt(h))return!0}return!1}var Jb="4.5.1";const Zb=["top","bottom","left","right","chartArea"];function $f(i,e){return i==="top"||i==="bottom"||Zb.indexOf(i)===-1&&e==="x"}function Vf(i,e){return function(t,r){return t[i]===r[i]?t[e]-r[e]:t[i]-r[i]}}function Uf(i){const e=i.chart,t=e.options.animation;e.notifyPlugins("afterRender"),He(t&&t.onComplete,[i],e)}function ew(i){const e=i.chart,t=e.options.animation;He(t&&t.onProgress,[i],e)}function op(i){return iu()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const ha={},Wf=i=>{const e=op(i);return Object.values(ha).filter(t=>t.canvas===e).pop()};function tw(i,e,t){const r=Object.keys(i);for(const o of r){const l=+o;if(l>=e){const c=i[o];delete i[o],(t>0||l>e)&&(i[l+t]=c)}}}function nw(i,e,t,r){return!t||i.type==="mouseout"?null:r?e:i}let ka=class{static defaults=tt;static instances=ha;static overrides=qi;static registry=_n;static version=Jb;static getChart=Wf;static register(...e){_n.add(...e),Hf()}static unregister(...e){_n.remove(...e),Hf()}constructor(e,t){const r=this.config=new Kb(t),o=op(e),l=Wf(o);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||bb(o)),this.platform.updateConfig(r);const h=this.platform.acquireContext(o,c.aspectRatio),f=h&&h.canvas,p=f&&f.height,g=f&&f.width;if(this.id=Jy(),this.ctx=h,this.canvas=f,this.width=g,this.height=p,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ib,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=yx(y=>this.update(y),c.resizeDelay||0),this._dataChanges=[],ha[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Fn.listen(this,"complete",Uf),Fn.listen(this,"progress",ew),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:o,_aspectRatio:l}=this;return Le(e)?t&&l?l:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return _n}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ff(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return uf(this.canvas,this.ctx),this}stop(){return Fn.stop(this),this}resize(e,t){Fn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,o=this.canvas,l=r.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(o,e,t,l),h=r.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,ff(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),He(r.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};ze(t,(r,o)=>{r.id=o})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,o=Object.keys(r).reduce((c,h)=>(c[h]=!1,c),{});let l=[];t&&(l=l.concat(Object.keys(t).map(c=>{const h=t[c],f=Uc(c,h),p=f==="r",g=f==="x";return{options:h,dposition:p?"chartArea":g?"bottom":"left",dtype:p?"radialLinear":g?"category":"linear"}}))),ze(l,c=>{const h=c.options,f=h.id,p=Uc(f,h),g=De(h.type,c.dtype);(h.position===void 0||$f(h.position,p)!==$f(c.dposition))&&(h.position=c.dposition),o[f]=!0;let y=null;if(f in r&&r[f].type===g)y=r[f];else{const w=_n.getScale(g);y=new w({id:f,type:g,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(h,e)}),ze(o,(c,h)=>{c||delete r[h]}),ze(r,c=>{nn.configure(this,c,c.options),nn.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((o,l)=>o.index-l.index),r>t){for(let o=t;o<r;++o)this._destroyDatasetMeta(o);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Vf("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,o)=>{t.filter(l=>l===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=t.length;r<o;r++){const l=t[r];let c=this.getDatasetMeta(r);const h=l.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=h,c.indexAxis=l.indexAxis||Vc(h,this.options),c.order=l.order||0,c.index=r,c.label=""+l.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const f=_n.getController(h),{datasetElementType:p,dataElementType:g}=tt.datasets[h];Object.assign(f,{dataElementType:_n.getElement(g),datasetElementType:p&&_n.getElement(p)}),c.controller=new f(this,r),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){ze(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let p=0,g=this.data.datasets.length;p<g;p++){const{controller:y}=this.getDatasetMeta(p),w=!o&&l.indexOf(y)===-1;y.buildOrUpdateElements(w),c=Math.max(+y.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),o||ze(l,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Vf("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){ze(this.scales,e=>{nn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Zh(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:l}of t){const c=r==="_removeElements"?-l:l;tw(e,o,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=l=>new Set(e.filter(c=>c[0]===l).map((c,h)=>h+","+c.splice(1).join(","))),o=r(0);for(let l=1;l<t;l++)if(!Zh(o,r(l)))return;return Array.from(o).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;nn.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],ze(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,l)=>{o._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,yi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),o={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Fn.has(this)?this.attached&&!Fn.running(this)&&Fn.start(this):(this.draw(),Uf({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let o,l;for(o=0,l=t.length;o<l;++o){const c=t[o];(!e||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},o=Qm(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&wa(t,o),e.controller.draw(),o&&Sa(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ar(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,o){const l=Z0.modes[t];return typeof l=="function"?l(this,e,r,o):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let o=r.filter(l=>l&&l._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Qi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const o=r?"show":"hide",l=this.getDatasetMeta(e),c=l.controller._resolveAnimations(void 0,o);Rr(t)?(l.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),c.update(l,{visible:r}),this.update(h=>h.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Fn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),uf(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ha[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},o=(l,c,h)=>{l.offsetX=c,l.offsetY=h,this._eventHandler(l)};ze(this.options.events,l=>r(l,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(f,p)=>{t.addEventListener(this,f,p),e[f]=p},o=(f,p)=>{e[f]&&(t.removeEventListener(this,f,p),delete e[f])},l=(f,p)=>{this.canvas&&this.resize(f,p)};let c;const h=()=>{o("attach",h),this.attached=!0,this.resize(),r("resize",l),r("detach",c)};c=()=>{this.attached=!1,o("resize",l),this._stop(),this._resize(0,0),r("attach",h)},t.isAttached(this.canvas)?h():c()}unbindEvents(){ze(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ze(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const o=r?"set":"remove";let l,c,h,f;for(t==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+o+"DatasetHoverStyle"]()),h=0,f=e.length;h<f;++h){c=e[h];const p=c&&this.getDatasetMeta(c.datasetIndex).controller;p&&p[o+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:l,index:c})=>{const h=this.getDatasetMeta(l);if(!h)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:h.data[c],index:c}});!ma(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const o=this.options.hover,l=(f,p)=>f.filter(g=>!p.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),c=l(t,e),h=r?e:l(e,t);c.length&&this.updateHoverStyle(c,o.mode,!1),h.length&&o.mode&&this.updateHoverStyle(h,o.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;const l=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(l||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:o=[],options:l}=this,c=t,h=this._getActiveElements(e,o,r,c),f=sx(e),p=nw(e,this._lastEvent,r,f);r&&(this._lastEvent=null,He(l.onHover,[e,h,this],this),f&&He(l.onClick,[e,h,this],this));const g=!ma(h,o);return(g||t)&&(this._active=h,this._updateHoverStyles(h,o,t)),this._lastEvent=p,g}_getActiveElements(e,t,r,o){if(e.type==="mouseout")return[];if(!r)return t;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,o)}};function Hf(){return ze(ka.instances,i=>i._plugins.invalidate())}function ap(i,e,t=e){i.lineCap=De(t.borderCapStyle,e.borderCapStyle),i.setLineDash(De(t.borderDash,e.borderDash)),i.lineDashOffset=De(t.borderDashOffset,e.borderDashOffset),i.lineJoin=De(t.borderJoinStyle,e.borderJoinStyle),i.lineWidth=De(t.borderWidth,e.borderWidth),i.strokeStyle=De(t.borderColor,e.borderColor)}function iw(i,e,t){i.lineTo(t.x,t.y)}function sw(i){return i.stepped?Ex:i.tension||i.cubicInterpolationMode==="monotone"?Rx:iw}function lp(i,e,t={}){const r=i.length,{start:o=0,end:l=r-1}=t,{start:c,end:h}=e,f=Math.max(o,c),p=Math.min(l,h),g=o<c&&l<c||o>h&&l>h;return{count:r,start:f,loop:e.loop,ilen:p<f&&!g?r+p-f:p-f}}function rw(i,e,t,r){const{points:o,options:l}=e,{count:c,start:h,loop:f,ilen:p}=lp(o,t,r),g=sw(l);let{move:y=!0,reverse:w}=r||{},S,k,_;for(S=0;S<=p;++S)k=o[(h+(w?p-S:S))%c],!k.skip&&(y?(i.moveTo(k.x,k.y),y=!1):g(i,_,k,w,l.stepped),_=k);return f&&(k=o[(h+(w?p:0))%c],g(i,_,k,w,l.stepped)),!!f}function ow(i,e,t,r){const o=e.points,{count:l,start:c,ilen:h}=lp(o,t,r),{move:f=!0,reverse:p}=r||{};let g=0,y=0,w,S,k,_,N,P;const B=D=>(c+(p?h-D:D))%l,$=()=>{_!==N&&(i.lineTo(g,N),i.lineTo(g,_),i.lineTo(g,P))};for(f&&(S=o[B(0)],i.moveTo(S.x,S.y)),w=0;w<=h;++w){if(S=o[B(w)],S.skip)continue;const D=S.x,R=S.y,L=D|0;L===k?(R<_?_=R:R>N&&(N=R),g=(y*g+D)/++y):($(),i.lineTo(D,R),k=L,y=0,_=N=R),P=R}$()}function Wc(i){const e=i.options,t=e.borderDash&&e.borderDash.length;return!i._decimated&&!i._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?ow:rw}function aw(i){return i.stepped?d0:i.tension||i.cubicInterpolationMode==="monotone"?h0:Ui}function lw(i,e,t,r){let o=e._path;o||(o=e._path=new Path2D,e.path(o,t,r)&&o.closePath()),ap(i,e.options),i.stroke(o)}function cw(i,e,t,r){const{segments:o,options:l}=e,c=Wc(e);for(const h of o)ap(i,l,h.style),i.beginPath(),c(i,e,h,{start:t,end:t+r-1})&&i.closePath(),i.stroke()}const uw=typeof Path2D=="function";function dw(i,e,t,r){uw&&!e.options.segment?lw(i,e,t,r):cw(i,e,t,r)}class Na extends xi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const o=r.spanGaps?this._loop:this._fullLoop;i0(this._points,r,e,o,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=y0(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,o=e[t],l=this.points,c=qm(this,{property:t,start:o,end:o});if(!c.length)return;const h=[],f=aw(r);let p,g;for(p=0,g=c.length;p<g;++p){const{start:y,end:w}=c[p],S=l[y],k=l[w];if(S===k){h.push(S);continue}const _=Math.abs((o-S[t])/(k[t]-S[t])),N=f(S,k,_,r.stepped);N[t]=e[t],h.push(N)}return h.length===1?h[0]:h}pathSegment(e,t,r){return Wc(this)(e,this,t,r)}path(e,t,r){const o=this.segments,l=Wc(this);let c=this._loop;t=t||0,r=r||this.points.length-t;for(const h of o)c&=l(e,this,h,{start:t,end:t+r-1});return!!c}draw(e,t,r,o){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),dw(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Yf(i,e,t,r){const o=i.options,{[t]:l}=i.getProps([t],r);return Math.abs(e-l)<o.radius+o.hitRadius}class hw extends xi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const o=this.options,{x:l,y:c}=this.getProps(["x","y"],r);return Math.pow(e-l,2)+Math.pow(t-c,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,t){return Yf(this,e,"x",t)}inYRange(e,t){return Yf(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const r=t&&e.borderWidth||0;return(t+r)*2}draw(e,t){const r=this.options;this.skip||r.radius<.1||!Ar(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,$c(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function cp(i,e){const{x:t,y:r,base:o,width:l,height:c}=i.getProps(["x","y","base","width","height"],e);let h,f,p,g,y;return i.horizontal?(y=c/2,h=Math.min(t,o),f=Math.max(t,o),p=r-y,g=r+y):(y=l/2,h=t-y,f=t+y,p=Math.min(r,o),g=Math.max(r,o)),{left:h,top:p,right:f,bottom:g}}function mi(i,e,t,r){return i?0:qt(e,t,r)}function fw(i,e,t){const r=i.options.borderWidth,o=i.borderSkipped,l=Fm(r);return{t:mi(o.top,l.top,0,t),r:mi(o.right,l.right,0,e),b:mi(o.bottom,l.bottom,0,t),l:mi(o.left,l.left,0,e)}}function mw(i,e,t){const{enableBorderRadius:r}=i.getProps(["enableBorderRadius"]),o=i.options.borderRadius,l=Ss(o),c=Math.min(e,t),h=i.borderSkipped,f=r||Ee(o);return{topLeft:mi(!f||h.top||h.left,l.topLeft,0,c),topRight:mi(!f||h.top||h.right,l.topRight,0,c),bottomLeft:mi(!f||h.bottom||h.left,l.bottomLeft,0,c),bottomRight:mi(!f||h.bottom||h.right,l.bottomRight,0,c)}}function pw(i){const e=cp(i),t=e.right-e.left,r=e.bottom-e.top,o=fw(i,t/2,r/2),l=mw(i,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:l},inner:{x:e.left+o.l,y:e.top+o.t,w:t-o.l-o.r,h:r-o.t-o.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,l.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(o.b,o.r))}}}}function Rc(i,e,t,r){const o=e===null,l=t===null,h=i&&!(o&&l)&&cp(i,r);return h&&(o||hi(e,h.left,h.right))&&(l||hi(t,h.top,h.bottom))}function gw(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function vw(i,e){i.rect(e.x,e.y,e.w,e.h)}function Oc(i,e,t={}){const r=i.x!==t.x?-e:0,o=i.y!==t.y?-e:0,l=(i.x+i.w!==t.x+t.w?e:0)-r,c=(i.y+i.h!==t.y+t.h?e:0)-o;return{x:i.x+r,y:i.y+o,w:i.w+l,h:i.h+c,radius:i.radius}}class yw extends xi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:o}}=this,{inner:l,outer:c}=pw(this),h=gw(c.radius)?va:vw;e.save(),(c.w!==l.w||c.h!==l.h)&&(e.beginPath(),h(e,Oc(c,t,l)),e.clip(),h(e,Oc(l,-t,c)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),h(e,Oc(l,t)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,t,r){return Rc(this,e,t,r)}inXRange(e,t){return Rc(this,e,null,t)}inYRange(e,t){return Rc(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:o,horizontal:l}=this.getProps(["x","y","base","horizontal"],e);return{x:l?(t+o)/2:t,y:l?r:(r+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function xw(i,e,t){const r=i.segments,o=i.points,l=e.points,c=[];for(const h of r){let{start:f,end:p}=h;p=Ca(f,p,o);const g=Hc(t,o[f],o[p],h.loop);if(!e.segments){c.push({source:h,target:g,start:o[f],end:o[p]});continue}const y=qm(e,g);for(const w of y){const S=Hc(t,l[w.start],l[w.end],w.loop),k=Ym(h,o,S);for(const _ of k)c.push({source:_,target:w,start:{[t]:qf(g,S,"start",Math.max)},end:{[t]:qf(g,S,"end",Math.min)}})}}return c}function Hc(i,e,t,r){if(r)return;let o=e[i],l=t[i];return i==="angle"&&(o=jn(o),l=jn(l)),{property:i,start:o,end:l}}function bw(i,e){const{x:t=null,y:r=null}=i||{},o=e.points,l=[];return e.segments.forEach(({start:c,end:h})=>{h=Ca(c,h,o);const f=o[c],p=o[h];r!==null?(l.push({x:f.x,y:r}),l.push({x:p.x,y:r})):t!==null&&(l.push({x:t,y:f.y}),l.push({x:t,y:p.y}))}),l}function Ca(i,e,t){for(;e>i;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function qf(i,e,t,r){return i&&e?r(i[t],e[t]):i?i[t]:e?e[t]:0}function up(i,e){let t=[],r=!1;return rt(i)?(r=!0,t=i):t=bw(i,e),t.length?new Na({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function Qf(i){return i&&i.fill!==!1}function ww(i,e,t){let o=i[e].fill;const l=[e];let c;if(!t)return o;for(;o!==!1&&l.indexOf(o)===-1;){if(!Nt(o))return o;if(c=i[o],!c)return!1;if(c.visible)return o;l.push(o),o=c.fill}return!1}function Sw(i,e,t){const r=Nw(i);if(Ee(r))return isNaN(r.value)?!1:r;let o=parseFloat(r);return Nt(o)&&Math.floor(o)===o?_w(r[0],e,o,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function _w(i,e,t,r){return(i==="-"||i==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function jw(i,e){let t=null;return i==="start"?t=e.bottom:i==="end"?t=e.top:Ee(i)?t=e.getPixelForValue(i.value):e.getBasePixel&&(t=e.getBasePixel()),t}function kw(i,e,t){let r;return i==="start"?r=t:i==="end"?r=e.options.reverse?e.min:e.max:Ee(i)?r=i.value:r=e.getBaseValue(),r}function Nw(i){const e=i.options,t=e.fill;let r=De(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Cw(i){const{scale:e,index:t,line:r}=i,o=[],l=r.segments,c=r.points,h=Pw(e,t);h.push(up({x:null,y:e.bottom},r));for(let f=0;f<l.length;f++){const p=l[f];for(let g=p.start;g<=p.end;g++)Mw(o,c[g],h)}return new Na({points:o,options:{}})}function Pw(i,e){const t=[],r=i.getMatchingVisibleMetas("line");for(let o=0;o<r.length;o++){const l=r[o];if(l.index===e)break;l.hidden||t.unshift(l.dataset)}return t}function Mw(i,e,t){const r=[];for(let o=0;o<t.length;o++){const l=t[o],{first:c,last:h,point:f}=Tw(l,e,"x");if(!(!f||c&&h)){if(c)r.unshift(f);else if(i.push(f),!h)break}}i.push(...r)}function Tw(i,e,t){const r=i.interpolate(e,t);if(!r)return{};const o=r[t],l=i.segments,c=i.points;let h=!1,f=!1;for(let p=0;p<l.length;p++){const g=l[p],y=c[g.start][t],w=c[g.end][t];if(hi(o,y,w)){h=o===y,f=o===w;break}}return{first:h,last:f,point:r}}class dp{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:o,y:l,radius:c}=this;return t=t||{start:0,end:fn},e.arc(o,l,c,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:o}=this,l=e.angle;return{x:t+Math.cos(l)*o,y:r+Math.sin(l)*o,angle:l}}}function Dw(i){const{chart:e,fill:t,line:r}=i;if(Nt(t))return Ew(e,t);if(t==="stack")return Cw(i);if(t==="shape")return!0;const o=Rw(i);return o instanceof dp?o:up(o,r)}function Ew(i,e){const t=i.getDatasetMeta(e);return t&&i.isDatasetVisible(e)?t.dataset:null}function Rw(i){return(i.scale||{}).getPointPositionForValue?Aw(i):Ow(i)}function Ow(i){const{scale:e={},fill:t}=i,r=jw(t,e);if(Nt(r)){const o=e.isHorizontal();return{x:o?r:null,y:o?null:r}}return null}function Aw(i){const{scale:e,fill:t}=i,r=e.options,o=e.getLabels().length,l=r.reverse?e.max:e.min,c=kw(t,e,l),h=[];if(r.grid.circular){const f=e.getPointPositionForValue(0,l);return new dp({x:f.x,y:f.y,radius:e.getDistanceFromCenterForValue(c)})}for(let f=0;f<o;++f)h.push(e.getPointPositionForValue(f,c));return h}function Ac(i,e,t){const r=Dw(e),{chart:o,index:l,line:c,scale:h,axis:f}=e,p=c.options,g=p.fill,y=p.backgroundColor,{above:w=y,below:S=y}=g||{},k=o.getDatasetMeta(l),_=Qm(o,k);r&&c.points.length&&(wa(i,t),Lw(i,{line:c,target:r,above:w,below:S,area:t,scale:h,axis:f,clip:_}),Sa(i))}function Lw(i,e){const{line:t,target:r,above:o,below:l,area:c,scale:h,clip:f}=e,p=t._loop?"angle":e.axis;i.save();let g=l;l!==o&&(p==="x"?(Kf(i,r,c.top),Lc(i,{line:t,target:r,color:o,scale:h,property:p,clip:f}),i.restore(),i.save(),Kf(i,r,c.bottom)):p==="y"&&(Xf(i,r,c.left),Lc(i,{line:t,target:r,color:l,scale:h,property:p,clip:f}),i.restore(),i.save(),Xf(i,r,c.right),g=o)),Lc(i,{line:t,target:r,color:g,scale:h,property:p,clip:f}),i.restore()}function Kf(i,e,t){const{segments:r,points:o}=e;let l=!0,c=!1;i.beginPath();for(const h of r){const{start:f,end:p}=h,g=o[f],y=o[Ca(f,p,o)];l?(i.moveTo(g.x,g.y),l=!1):(i.lineTo(g.x,t),i.lineTo(g.x,g.y)),c=!!e.pathSegment(i,h,{move:c}),c?i.closePath():i.lineTo(y.x,t)}i.lineTo(e.first().x,t),i.closePath(),i.clip()}function Xf(i,e,t){const{segments:r,points:o}=e;let l=!0,c=!1;i.beginPath();for(const h of r){const{start:f,end:p}=h,g=o[f],y=o[Ca(f,p,o)];l?(i.moveTo(g.x,g.y),l=!1):(i.lineTo(t,g.y),i.lineTo(g.x,g.y)),c=!!e.pathSegment(i,h,{move:c}),c?i.closePath():i.lineTo(t,y.y)}i.lineTo(t,e.first().y),i.closePath(),i.clip()}function Lc(i,e){const{line:t,target:r,property:o,color:l,scale:c,clip:h}=e,f=xw(t,r,o);for(const{source:p,target:g,start:y,end:w}of f){const{style:{backgroundColor:S=l}={}}=p,k=r!==!0;i.save(),i.fillStyle=S,Fw(i,c,h,k&&Hc(o,y,w)),i.beginPath();const _=!!t.pathSegment(i,p);let N;if(k){_?i.closePath():Gf(i,r,w,o);const P=!!r.pathSegment(i,g,{move:_,reverse:!0});N=_&&P,N||Gf(i,r,y,o)}i.closePath(),i.fill(N?"evenodd":"nonzero"),i.restore()}}function Fw(i,e,t,r){const o=e.chart.chartArea,{property:l,start:c,end:h}=r||{};if(l==="x"||l==="y"){let f,p,g,y;l==="x"?(f=c,p=o.top,g=h,y=o.bottom):(f=o.left,p=c,g=o.right,y=h),i.beginPath(),t&&(f=Math.max(f,t.left),g=Math.min(g,t.right),p=Math.max(p,t.top),y=Math.min(y,t.bottom)),i.rect(f,p,g-f,y-p),i.clip()}}function Gf(i,e,t,r){const o=e.interpolate(t,r);o&&i.lineTo(o.x,o.y)}var Iw={id:"filler",afterDatasetsUpdate(i,e,t){const r=(i.data.datasets||[]).length,o=[];let l,c,h,f;for(c=0;c<r;++c)l=i.getDatasetMeta(c),h=l.dataset,f=null,h&&h.options&&h instanceof Na&&(f={visible:i.isDatasetVisible(c),index:c,fill:Sw(h,c,r),chart:i,axis:l.controller.options.indexAxis,scale:l.vScale,line:h}),l.$filler=f,o.push(f);for(c=0;c<r;++c)f=o[c],!(!f||f.fill===!1)&&(f.fill=ww(o,c,t.propagate))},beforeDraw(i,e,t){const r=t.drawTime==="beforeDraw",o=i.getSortedVisibleDatasetMetas(),l=i.chartArea;for(let c=o.length-1;c>=0;--c){const h=o[c].$filler;h&&(h.line.updateControlPoints(l,h.axis),r&&h.fill&&Ac(i.ctx,h,l))}},beforeDatasetsDraw(i,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const r=i.getSortedVisibleDatasetMetas();for(let o=r.length-1;o>=0;--o){const l=r[o].$filler;Qf(l)&&Ac(i.ctx,l,i.chartArea)}},beforeDatasetDraw(i,e,t){const r=e.meta.$filler;!Qf(r)||t.drawTime!=="beforeDatasetDraw"||Ac(i.ctx,r,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Jf=(i,e)=>{let{boxHeight:t=e,boxWidth:r=e}=i;return i.usePointStyle&&(t=Math.min(t,e),r=i.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},zw=(i,e)=>i!==null&&e!==null&&i.datasetIndex===e.datasetIndex&&i.index===e.index;class Zf extends xi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=He(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,o)=>e.sort(r,o,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,o=kt(r.font),l=o.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=Jf(r,l);let p,g;t.font=o.string,this.isHorizontal()?(p=this.maxWidth,g=this._fitRows(c,l,h,f)+10):(g=this.maxHeight,p=this._fitCols(c,o,h,f)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,o){const{ctx:l,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],p=this.lineWidths=[0],g=o+h;let y=e;l.textAlign="left",l.textBaseline="middle";let w=-1,S=-g;return this.legendItems.forEach((k,_)=>{const N=r+t/2+l.measureText(k.text).width;(_===0||p[p.length-1]+N+2*h>c)&&(y+=g,p[p.length-(_>0?0:1)]=0,S+=g,w++),f[_]={left:0,top:S,row:w,width:N,height:o},p[p.length-1]+=N+h}),y}_fitCols(e,t,r,o){const{ctx:l,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],p=this.columnSizes=[],g=c-e;let y=h,w=0,S=0,k=0,_=0;return this.legendItems.forEach((N,P)=>{const{itemWidth:B,itemHeight:$}=Bw(r,t,l,N,o);P>0&&S+$+2*h>g&&(y+=w+h,p.push({width:w,height:S}),k+=w+h,_++,w=S=0),f[P]={left:k,top:S,col:_,width:B,height:$},w=Math.max(w,B),S+=$+h}),y+=w,p.push({width:w,height:S}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:o},rtl:l}}=this,c=_s(l,this.left,this.width);if(this.isHorizontal()){let h=0,f=jt(r,this.left+o,this.right-this.lineWidths[h]);for(const p of t)h!==p.row&&(h=p.row,f=jt(r,this.left+o,this.right-this.lineWidths[h])),p.top+=this.top+e+o,p.left=c.leftForLtr(c.x(f),p.width),f+=p.width+o}else{let h=0,f=jt(r,this.top+e+o,this.bottom-this.columnSizes[h].height);for(const p of t)p.col!==h&&(h=p.col,f=jt(r,this.top+e+o,this.bottom-this.columnSizes[h].height)),p.top=f,p.left+=this.left+o,p.left=c.leftForLtr(c.x(p.left),p.width),f+=p.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;wa(e,this),this._draw(),Sa(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:o}=this,{align:l,labels:c}=e,h=tt.color,f=_s(e.rtl,this.left,this.width),p=kt(c.font),{padding:g}=c,y=p.size,w=y/2;let S;this.drawTitle(),o.textAlign=f.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=p.string;const{boxWidth:k,boxHeight:_,itemHeight:N}=Jf(c,y),P=function(L,W,Z){if(isNaN(k)||k<=0||isNaN(_)||_<0)return;o.save();const fe=De(Z.lineWidth,1);if(o.fillStyle=De(Z.fillStyle,h),o.lineCap=De(Z.lineCap,"butt"),o.lineDashOffset=De(Z.lineDashOffset,0),o.lineJoin=De(Z.lineJoin,"miter"),o.lineWidth=fe,o.strokeStyle=De(Z.strokeStyle,h),o.setLineDash(De(Z.lineDash,[])),c.usePointStyle){const be={radius:_*Math.SQRT2/2,pointStyle:Z.pointStyle,rotation:Z.rotation,borderWidth:fe},ye=f.xPlus(L,k/2),re=W+w;Am(o,be,ye,re,c.pointStyleWidth&&k)}else{const be=W+Math.max((y-_)/2,0),ye=f.leftForLtr(L,k),re=Ss(Z.borderRadius);o.beginPath(),Object.values(re).some(Me=>Me!==0)?va(o,{x:ye,y:be,w:k,h:_,radius:re}):o.rect(ye,be,k,_),o.fill(),fe!==0&&o.stroke()}o.restore()},B=function(L,W,Z){Lr(o,Z.text,L,W+N/2,p,{strikethrough:Z.hidden,textAlign:f.textAlign(Z.textAlign)})},$=this.isHorizontal(),D=this._computeTitleHeight();$?S={x:jt(l,this.left+g,this.right-r[0]),y:this.top+g+D,line:0}:S={x:this.left+g,y:jt(l,this.top+D+g,this.bottom-t[0].height),line:0},Um(this.ctx,e.textDirection);const R=N+g;this.legendItems.forEach((L,W)=>{o.strokeStyle=L.fontColor,o.fillStyle=L.fontColor;const Z=o.measureText(L.text).width,fe=f.textAlign(L.textAlign||(L.textAlign=c.textAlign)),be=k+w+Z;let ye=S.x,re=S.y;f.setWidth(this.width),$?W>0&&ye+be+g>this.right&&(re=S.y+=R,S.line++,ye=S.x=jt(l,this.left+g,this.right-r[S.line])):W>0&&re+R>this.bottom&&(ye=S.x=ye+t[S.line].width+g,S.line++,re=S.y=jt(l,this.top+D+g,this.bottom-t[S.line].height));const Me=f.x(ye);if(P(Me,re,L),ye=xx(fe,ye+k+w,$?ye+be:this.right,e.rtl),B(f.x(ye),re,L),$)S.x+=be+g;else if(typeof L.text!="string"){const ee=p.lineHeight;S.y+=hp(L,ee)+g}else S.y+=R}),Wm(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=kt(t.font),o=sn(t.padding);if(!t.display)return;const l=_s(e.rtl,this.left,this.width),c=this.ctx,h=t.position,f=r.size/2,p=o.top+f;let g,y=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),g=this.top+p,y=jt(e.align,y,this.right-w);else{const k=this.columnSizes.reduce((_,N)=>Math.max(_,N.height),0);g=p+jt(e.align,this.top,this.bottom-k-e.labels.padding-this._computeTitleHeight())}const S=jt(h,y,y+w);c.textAlign=l.textAlign(Jc(h)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=r.string,Lr(c,t.text,S,g,r)}_computeTitleHeight(){const e=this.options.title,t=kt(e.font),r=sn(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,o,l;if(hi(e,this.left,this.right)&&hi(t,this.top,this.bottom)){for(l=this.legendHitBoxes,r=0;r<l.length;++r)if(o=l[r],hi(e,o.left,o.left+o.width)&&hi(t,o.top,o.top+o.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!Uw(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,l=zw(o,r);o&&!l&&He(t.onLeave,[e,o,this],this),this._hoveredItem=r,r&&!l&&He(t.onHover,[e,r,this],this)}else r&&He(t.onClick,[e,r,this],this)}}function Bw(i,e,t,r,o){const l=$w(r,i,e,t),c=Vw(o,r,e.lineHeight);return{itemWidth:l,itemHeight:c}}function $w(i,e,t,r){let o=i.text;return o&&typeof o!="string"&&(o=o.reduce((l,c)=>l.length>c.length?l:c)),e+t.size/2+r.measureText(o).width}function Vw(i,e,t){let r=i;return typeof e.text!="string"&&(r=hp(e,t)),r}function hp(i,e){const t=i.text?i.text.length:0;return e*t}function Uw(i,e){return!!((i==="mousemove"||i==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(i==="click"||i==="mouseup"))}var Ww={id:"legend",_element:Zf,start(i,e,t){const r=i.legend=new Zf({ctx:i.ctx,options:t,chart:i});nn.configure(i,r,t),nn.addBox(i,r)},stop(i){nn.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,e,t){const r=i.legend;nn.configure(i,r,t),r.options=t},afterUpdate(i){const e=i.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(i,e){e.replay||i.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,e,t){const r=e.datasetIndex,o=t.chart;o.isDatasetVisible(r)?(o.hide(r),e.hidden=!0):(o.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const e=i.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:o,color:l,useBorderRadius:c,borderRadius:h}}=i.legend.options;return i._getSortedDatasetMetas().map(f=>{const p=f.controller.getStyle(t?0:void 0),g=sn(p.borderWidth);return{text:e[f.index].label,fillStyle:p.backgroundColor,fontColor:l,hidden:!f.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:p.borderColor,pointStyle:r||p.pointStyle,rotation:p.rotation,textAlign:o||p.textAlign,borderRadius:c&&(h||p.borderRadius),datasetIndex:f.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class fp extends xi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const o=rt(r.text)?r.text.length:1;this._padding=sn(r.padding);const l=o*kt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:o,right:l,options:c}=this,h=c.align;let f=0,p,g,y;return this.isHorizontal()?(g=jt(h,r,l),y=t+e,p=l-r):(c.position==="left"?(g=r+e,y=jt(h,o,t),f=pt*-.5):(g=l-e,y=jt(h,t,o),f=pt*.5),p=o-t),{titleX:g,titleY:y,maxWidth:p,rotation:f}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=kt(t.font),l=r.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:p}=this._drawArgs(l);Lr(e,t.text,0,0,r,{color:t.color,maxWidth:f,rotation:p,textAlign:Jc(t.align),textBaseline:"middle",translation:[c,h]})}}function Hw(i,e){const t=new fp({ctx:i.ctx,options:e,chart:i});nn.configure(i,t,e),nn.addBox(i,t),i.titleBlock=t}var Yw={id:"title",_element:fp,start(i,e,t){Hw(i,t)},stop(i){const e=i.titleBlock;nn.removeBox(i,e),delete i.titleBlock},beforeUpdate(i,e,t){const r=i.titleBlock;nn.configure(i,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const jr={average(i){if(!i.length)return!1;let e,t,r=new Set,o=0,l=0;for(e=0,t=i.length;e<t;++e){const h=i[e].element;if(h&&h.hasValue()){const f=h.tooltipPosition();r.add(f.x),o+=f.y,++l}}return l===0||r.size===0?!1:{x:[...r].reduce((h,f)=>h+f)/r.size,y:o/l}},nearest(i,e){if(!i.length)return!1;let t=e.x,r=e.y,o=Number.POSITIVE_INFINITY,l,c,h;for(l=0,c=i.length;l<c;++l){const f=i[l].element;if(f&&f.hasValue()){const p=f.getCenterPoint(),g=zc(e,p);g<o&&(o=g,h=f)}}if(h){const f=h.tooltipPosition();t=f.x,r=f.y}return{x:t,y:r}}};function Sn(i,e){return e&&(rt(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function In(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function qw(i,e){const{element:t,datasetIndex:r,index:o}=e,l=i.getDatasetMeta(r).controller,{label:c,value:h}=l.getLabelAndValue(o);return{chart:i,label:c,parsed:l.getParsed(o),raw:i.data.datasets[r].data[o],formattedValue:h,dataset:l.getDataset(),dataIndex:o,datasetIndex:r,element:t}}function em(i,e){const t=i.chart.ctx,{body:r,footer:o,title:l}=i,{boxWidth:c,boxHeight:h}=e,f=kt(e.bodyFont),p=kt(e.titleFont),g=kt(e.footerFont),y=l.length,w=o.length,S=r.length,k=sn(e.padding);let _=k.height,N=0,P=r.reduce((D,R)=>D+R.before.length+R.lines.length+R.after.length,0);if(P+=i.beforeBody.length+i.afterBody.length,y&&(_+=y*p.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),P){const D=e.displayColors?Math.max(h,f.lineHeight):f.lineHeight;_+=S*D+(P-S)*f.lineHeight+(P-1)*e.bodySpacing}w&&(_+=e.footerMarginTop+w*g.lineHeight+(w-1)*e.footerSpacing);let B=0;const $=function(D){N=Math.max(N,t.measureText(D).width+B)};return t.save(),t.font=p.string,ze(i.title,$),t.font=f.string,ze(i.beforeBody.concat(i.afterBody),$),B=e.displayColors?c+2+e.boxPadding:0,ze(r,D=>{ze(D.before,$),ze(D.lines,$),ze(D.after,$)}),B=0,t.font=g.string,ze(i.footer,$),t.restore(),N+=k.width,{width:N,height:_}}function Qw(i,e){const{y:t,height:r}=e;return t<r/2?"top":t>i.height-r/2?"bottom":"center"}function Kw(i,e,t,r){const{x:o,width:l}=r,c=t.caretSize+t.caretPadding;if(i==="left"&&o+l+c>e.width||i==="right"&&o-l-c<0)return!0}function Xw(i,e,t,r){const{x:o,width:l}=t,{width:c,chartArea:{left:h,right:f}}=i;let p="center";return r==="center"?p=o<=(h+f)/2?"left":"right":o<=l/2?p="left":o>=c-l/2&&(p="right"),Kw(p,i,e,t)&&(p="center"),p}function tm(i,e,t){const r=t.yAlign||e.yAlign||Qw(i,t);return{xAlign:t.xAlign||e.xAlign||Xw(i,e,t,r),yAlign:r}}function Gw(i,e){let{x:t,width:r}=i;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function Jw(i,e,t){let{y:r,height:o}=i;return e==="top"?r+=t:e==="bottom"?r-=o+t:r-=o/2,r}function nm(i,e,t,r){const{caretSize:o,caretPadding:l,cornerRadius:c}=i,{xAlign:h,yAlign:f}=t,p=o+l,{topLeft:g,topRight:y,bottomLeft:w,bottomRight:S}=Ss(c);let k=Gw(e,h);const _=Jw(e,f,p);return f==="center"?h==="left"?k+=p:h==="right"&&(k-=p):h==="left"?k-=Math.max(g,w)+o:h==="right"&&(k+=Math.max(y,S)+o),{x:qt(k,0,r.width-e.width),y:qt(_,0,r.height-e.height)}}function la(i,e,t){const r=sn(t.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-r.right:i.x+r.left}function im(i){return Sn([],In(i))}function Zw(i,e,t){return Qi(i,{tooltip:e,tooltipItems:t,type:"tooltip"})}function sm(i,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?i.override(t):i}const mp={beforeTitle:Ln,title(i){if(i.length>0){const e=i[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Ln,beforeBody:Ln,beforeLabel:Ln,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let e=i.dataset.label||"";e&&(e+=": ");const t=i.formattedValue;return Le(t)||(e+=t),e},labelColor(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ln,afterBody:Ln,beforeFooter:Ln,footer:Ln,afterFooter:Ln};function zt(i,e,t,r){const o=i[e].call(t,r);return typeof o>"u"?mp[e].call(t,r):o}class rm extends xi{static positioners=jr;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&t.options.animation&&r.animations,l=new Km(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=Zw(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,o=zt(r,"beforeTitle",this,e),l=zt(r,"title",this,e),c=zt(r,"afterTitle",this,e);let h=[];return h=Sn(h,In(o)),h=Sn(h,In(l)),h=Sn(h,In(c)),h}getBeforeBody(e,t){return im(zt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,o=[];return ze(e,l=>{const c={before:[],lines:[],after:[]},h=sm(r,l);Sn(c.before,In(zt(h,"beforeLabel",this,l))),Sn(c.lines,zt(h,"label",this,l)),Sn(c.after,In(zt(h,"afterLabel",this,l))),o.push(c)}),o}getAfterBody(e,t){return im(zt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,o=zt(r,"beforeFooter",this,e),l=zt(r,"footer",this,e),c=zt(r,"afterFooter",this,e);let h=[];return h=Sn(h,In(o)),h=Sn(h,In(l)),h=Sn(h,In(c)),h}_createItems(e){const t=this._active,r=this.chart.data,o=[],l=[],c=[];let h=[],f,p;for(f=0,p=t.length;f<p;++f)h.push(qw(this.chart,t[f]));return e.filter&&(h=h.filter((g,y,w)=>e.filter(g,y,w,r))),e.itemSort&&(h=h.sort((g,y)=>e.itemSort(g,y,r))),ze(h,g=>{const y=sm(e.callbacks,g);o.push(zt(y,"labelColor",this,g)),l.push(zt(y,"labelPointStyle",this,g)),c.push(zt(y,"labelTextColor",this,g))}),this.labelColors=o,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=h,h}update(e,t){const r=this.options.setContext(this.getContext()),o=this._active;let l,c=[];if(!o.length)this.opacity!==0&&(l={opacity:0});else{const h=jr[r.position].call(this,o,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const f=this._size=em(this,r),p=Object.assign({},h,f),g=tm(this.chart,r,p),y=nm(r,p,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,l={opacity:1,x:y.x,y:y.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,o){const l=this.getCaretPosition(e,r,o);t.lineTo(l.x1,l.y1),t.lineTo(l.x2,l.y2),t.lineTo(l.x3,l.y3)}getCaretPosition(e,t,r){const{xAlign:o,yAlign:l}=this,{caretSize:c,cornerRadius:h}=r,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:y}=Ss(h),{x:w,y:S}=e,{width:k,height:_}=t;let N,P,B,$,D,R;return l==="center"?(D=S+_/2,o==="left"?(N=w,P=N-c,$=D+c,R=D-c):(N=w+k,P=N+c,$=D-c,R=D+c),B=N):(o==="left"?P=w+Math.max(f,g)+c:o==="right"?P=w+k-Math.max(p,y)-c:P=this.caretX,l==="top"?($=S,D=$-c,N=P-c,B=P+c):($=S+_,D=$+c,N=P+c,B=P-c),R=$),{x1:N,x2:P,x3:B,y1:$,y2:D,y3:R}}drawTitle(e,t,r){const o=this.title,l=o.length;let c,h,f;if(l){const p=_s(r.rtl,this.x,this.width);for(e.x=la(this,r.titleAlign,r),t.textAlign=p.textAlign(r.titleAlign),t.textBaseline="middle",c=kt(r.titleFont),h=r.titleSpacing,t.fillStyle=r.titleColor,t.font=c.string,f=0;f<l;++f)t.fillText(o[f],p.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+h,f+1===l&&(e.y+=r.titleMarginBottom-h)}}_drawColorBox(e,t,r,o,l){const c=this.labelColors[r],h=this.labelPointStyles[r],{boxHeight:f,boxWidth:p}=l,g=kt(l.bodyFont),y=la(this,"left",l),w=o.x(y),S=f<g.lineHeight?(g.lineHeight-f)/2:0,k=t.y+S;if(l.usePointStyle){const _={radius:Math.min(p,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},N=o.leftForLtr(w,p)+p/2,P=k+f/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,$c(e,_,N,P),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,$c(e,_,N,P)}else{e.lineWidth=Ee(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const _=o.leftForLtr(w,p),N=o.leftForLtr(o.xPlus(w,1),p-2),P=Ss(c.borderRadius);Object.values(P).some(B=>B!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,va(e,{x:_,y:k,w:p,h:f,radius:P}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),va(e,{x:N,y:k+1,w:p-2,h:f-2,radius:P}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(_,k,p,f),e.strokeRect(_,k,p,f),e.fillStyle=c.backgroundColor,e.fillRect(N,k+1,p-2,f-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:o}=this,{bodySpacing:l,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:p,boxPadding:g}=r,y=kt(r.bodyFont);let w=y.lineHeight,S=0;const k=_s(r.rtl,this.x,this.width),_=function(Z){t.fillText(Z,k.x(e.x+S),e.y+w/2),e.y+=w+l},N=k.textAlign(c);let P,B,$,D,R,L,W;for(t.textAlign=c,t.textBaseline="middle",t.font=y.string,e.x=la(this,N,r),t.fillStyle=r.bodyColor,ze(this.beforeBody,_),S=h&&N!=="right"?c==="center"?p/2+g:p+2+g:0,D=0,L=o.length;D<L;++D){for(P=o[D],B=this.labelTextColors[D],t.fillStyle=B,ze(P.before,_),$=P.lines,h&&$.length&&(this._drawColorBox(t,e,D,k,r),w=Math.max(y.lineHeight,f)),R=0,W=$.length;R<W;++R)_($[R]),w=y.lineHeight;ze(P.after,_)}S=0,w=y.lineHeight,ze(this.afterBody,_),e.y-=l}drawFooter(e,t,r){const o=this.footer,l=o.length;let c,h;if(l){const f=_s(r.rtl,this.x,this.width);for(e.x=la(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=f.textAlign(r.footerAlign),t.textBaseline="middle",c=kt(r.footerFont),t.fillStyle=r.footerColor,t.font=c.string,h=0;h<l;++h)t.fillText(o[h],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+r.footerSpacing}}drawBackground(e,t,r,o){const{xAlign:l,yAlign:c}=this,{x:h,y:f}=e,{width:p,height:g}=r,{topLeft:y,topRight:w,bottomLeft:S,bottomRight:k}=Ss(o.cornerRadius);t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.beginPath(),t.moveTo(h+y,f),c==="top"&&this.drawCaret(e,t,r,o),t.lineTo(h+p-w,f),t.quadraticCurveTo(h+p,f,h+p,f+w),c==="center"&&l==="right"&&this.drawCaret(e,t,r,o),t.lineTo(h+p,f+g-k),t.quadraticCurveTo(h+p,f+g,h+p-k,f+g),c==="bottom"&&this.drawCaret(e,t,r,o),t.lineTo(h+S,f+g),t.quadraticCurveTo(h,f+g,h,f+g-S),c==="center"&&l==="left"&&this.drawCaret(e,t,r,o),t.lineTo(h,f+y),t.quadraticCurveTo(h,f,h+y,f),t.closePath(),t.fill(),o.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,o=r&&r.x,l=r&&r.y;if(o||l){const c=jr[e.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=em(this,e),f=Object.assign({},c,this._size),p=tm(t,e,f),g=nm(e,f,p,t);(o._to!==g.x||l._to!==g.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const o={width:this.width,height:this.height},l={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=sn(t.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&h&&(e.save(),e.globalAlpha=r,this.drawBackground(l,e,o,t),Um(e,t.textDirection),l.y+=c.top,this.drawTitle(l,e,t),this.drawBody(l,e,t),this.drawFooter(l,e,t),Wm(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,o=e.map(({datasetIndex:h,index:f})=>{const p=this.chart.getDatasetMeta(h);if(!p)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:p.data[f],index:f}}),l=!ma(r,o),c=this._positionChanged(o,t);(l||c)&&(this._active=o,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,l=this._active||[],c=this._getActiveElements(e,l,t,r),h=this._positionChanged(c,e),f=t||!ma(c,l)||h;return f&&(this._active=c,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),f}_getActiveElements(e,t,r,o){const l=this.options;if(e.type==="mouseout")return[];if(!o)return t.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,l.mode,l,r);return l.reverse&&c.reverse(),c}_positionChanged(e,t){const{caretX:r,caretY:o,options:l}=this,c=jr[l.position].call(this,e,t);return c!==!1&&(r!==c.x||o!==c.y)}}var eS={id:"tooltip",_element:rm,positioners:jr,afterInit(i,e,t){t&&(i.tooltip=new rm({chart:i,options:t}))},beforeUpdate(i,e,t){i.tooltip&&i.tooltip.initialize(t)},reset(i,e,t){i.tooltip&&i.tooltip.initialize(t)},afterDraw(i){const e=i.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(i.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",t)}},afterEvent(i,e){if(i.tooltip){const t=e.replay;i.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,e)=>e.bodyFont.size,boxWidth:(i,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const tS=(i,e,t,r)=>(typeof e=="string"?(t=i.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function nS(i,e,t,r){const o=i.indexOf(e);if(o===-1)return tS(i,e,t,r);const l=i.lastIndexOf(e);return o!==l?t:o}const iS=(i,e)=>i===null?null:qt(Math.round(i),0,e);function om(i){const e=this.getLabels();return i>=0&&i<e.length?e[i]:i}class sS extends Ps{static id="category";static defaults={ticks:{callback:om}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:o,label:l}of t)r[o]===l&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Le(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:nS(r,e,De(t,e),this._addedLabels),iS(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,o=[];let l=this.getLabels();l=e===0&&t===l.length-1?l:l.slice(e,t+1),this._valueRange=Math.max(l.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let c=e;c<=t;c++)o.push({value:c});return o}getLabelForValue(e){return om.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function rS(i,e){const t=[],{bounds:o,step:l,min:c,max:h,precision:f,count:p,maxTicks:g,maxDigits:y,includeBounds:w}=i,S=l||1,k=g-1,{min:_,max:N}=e,P=!Le(c),B=!Le(h),$=!Le(p),D=(N-_)/(y+1);let R=tf((N-_)/k/S)*S,L,W,Z,fe;if(R<1e-14&&!P&&!B)return[{value:_},{value:N}];fe=Math.ceil(N/R)-Math.floor(_/R),fe>k&&(R=tf(fe*R/k/S)*S),Le(f)||(L=Math.pow(10,f),R=Math.ceil(R*L)/L),o==="ticks"?(W=Math.floor(_/R)*R,Z=Math.ceil(N/R)*R):(W=_,Z=N),P&&B&&l&&cx((h-c)/l,R/1e3)?(fe=Math.round(Math.min((h-c)/R,g)),R=(h-c)/fe,W=c,Z=h):$?(W=P?c:W,Z=B?h:Z,fe=p-1,R=(Z-W)/fe):(fe=(Z-W)/R,Cr(fe,Math.round(fe),R/1e3)?fe=Math.round(fe):fe=Math.ceil(fe));const be=Math.max(nf(R),nf(W));L=Math.pow(10,Le(f)?be:f),W=Math.round(W*L)/L,Z=Math.round(Z*L)/L;let ye=0;for(P&&(w&&W!==c?(t.push({value:c}),W<c&&ye++,Cr(Math.round((W+ye*R)*L)/L,c,am(c,D,i))&&ye++):W<c&&ye++);ye<fe;++ye){const re=Math.round((W+ye*R)*L)/L;if(B&&re>h)break;t.push({value:re})}return B&&w&&Z!==h?t.length&&Cr(t[t.length-1].value,h,am(h,D,i))?t[t.length-1].value=h:t.push({value:h}):(!B||Z===h)&&t.push({value:Z}),t}function am(i,e,{horizontal:t,minRotation:r}){const o=Wi(r),l=(t?Math.sin(o):Math.cos(o))||.001,c=.75*e*(""+i).length;return Math.min(e/l,c)}class oS extends Ps{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Le(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:o,max:l}=this;const c=f=>o=t?o:f,h=f=>l=r?l:f;if(e){const f=kn(o),p=kn(l);f<0&&p<0?h(0):f>0&&p>0&&c(0)}if(o===l){let f=l===0?1:Math.abs(l*.05);h(l+f),e||c(o-f)}this.min=o,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,o;return r?(o=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),t=t||11),t&&(o=Math.min(t,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},l=this._range||this,c=rS(o,l);return e.bounds==="ticks"&&ux(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const o=(r-t)/Math.max(e.length-1,1)/2;t-=o,r+=o}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Rm(e,this.chart.options.locale,this.options.ticks.format)}}class aS extends oS{static id="linear";static defaults={ticks:{callback:Om.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Nt(e)?e:0,this.max=Nt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=Wi(this.options.ticks.minRotation),o=(e?Math.sin(r):Math.cos(r))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,l.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Pa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$t=Object.keys(Pa);function lm(i,e){return i-e}function cm(i,e){if(Le(e))return null;const t=i._adapter,{parser:r,round:o,isoWeekday:l}=i._parseOpts;let c=e;return typeof r=="function"&&(c=r(c)),Nt(c)||(c=typeof r=="string"?t.parse(c,r):t.parse(c)),c===null?null:(o&&(c=o==="week"&&(Or(l)||l===!0)?t.startOf(c,"isoWeek",l):t.startOf(c,o)),+c)}function um(i,e,t,r){const o=$t.length;for(let l=$t.indexOf(i);l<o-1;++l){const c=Pa[$t[l]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(h*c.size))<=r)return $t[l]}return $t[o-1]}function lS(i,e,t,r,o){for(let l=$t.length-1;l>=$t.indexOf(t);l--){const c=$t[l];if(Pa[c].common&&i._adapter.diff(o,r,c)>=e-1)return c}return $t[t?$t.indexOf(t):0]}function cS(i){for(let e=$t.indexOf(i)+1,t=$t.length;e<t;++e)if(Pa[$t[e]].common)return $t[e]}function dm(i,e,t){if(!t)i[e]=!0;else if(t.length){const{lo:r,hi:o}=Gc(t,e),l=t[r]>=e?t[r]:t[o];i[l]=!0}}function uS(i,e,t,r){const o=i._adapter,l=+o.startOf(e[0].value,r),c=e[e.length-1].value;let h,f;for(h=l;h<=c;h=+o.add(h,1,r))f=t[h],f>=0&&(e[f].major=!0);return e}function hm(i,e,t){const r=[],o={},l=e.length;let c,h;for(c=0;c<l;++c)h=e[c],o[h]=c,r.push({value:h,major:!1});return l===0||!t?r:uS(i,r,o,t)}class fm extends Ps{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),o=this._adapter=new Q0._date(e.adapters.date);o.init(t),Nr(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:cm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:o,max:l,minDefined:c,maxDefined:h}=this.getUserBounds();function f(p){!c&&!isNaN(p.min)&&(o=Math.min(o,p.min)),!h&&!isNaN(p.max)&&(l=Math.max(l,p.max))}(!c||!h)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),o=Nt(o)&&!isNaN(o)?o:+t.startOf(Date.now(),r),l=Nt(l)&&!isNaN(l)?l:+t.endOf(Date.now(),r)+1,this.min=Math.min(o,l-1),this.max=Math.max(o+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const l=this.min,c=this.max,h=gx(o,l,c);return this._unit=t.unit||(r.autoSkip?um(t.minUnit,this.min,this.max,this._getLabelCapacity(l)):lS(this,h.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:cS(this._unit),this.initOffsets(o),e.reverse&&h.reverse(),hm(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,o,l;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?t=1-o:t=(this.getDecimalForValue(e[1])-o)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?r=l:r=(l-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;t=qt(t,0,c),r=qt(r,0,c),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,o=this.options,l=o.time,c=l.unit||um(l.minUnit,t,r,this._getLabelCapacity(t)),h=De(o.ticks.stepSize,1),f=c==="week"?l.isoWeekday:!1,p=Or(f)||f===!0,g={};let y=t,w,S;if(p&&(y=+e.startOf(y,"isoWeek",f)),y=+e.startOf(y,p?"day":c),e.diff(r,t,c)>1e5*h)throw new Error(t+" and "+r+" are too far apart with stepSize of "+h+" "+c);const k=o.ticks.source==="data"&&this.getDataTimestamps();for(w=y,S=0;w<r;w=+e.add(w,h,c),S++)dm(g,w,k);return(w===r||o.bounds==="ticks"||S===1)&&dm(g,w,k),Object.keys(g).sort(lm).map(_=>+_)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const o=this.options.time.displayFormats,l=this._unit,c=t||o[l];return this._adapter.format(e,c)}_tickFormatFunction(e,t,r,o){const l=this.options,c=l.ticks.callback;if(c)return He(c,[e,t,r],this);const h=l.time.displayFormats,f=this._unit,p=this._majorUnit,g=f&&h[f],y=p&&h[p],w=r[t],S=p&&y&&w&&w.major;return this._adapter.format(e,o||(S?y:g))}generateTickLabels(e){let t,r,o;for(t=0,r=e.length;t<r;++t)o=e[t],o.label=this._tickFormatFunction(o.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,o=Wi(this.isHorizontal()?t.maxRotation:t.minRotation),l=Math.cos(o),c=Math.sin(o),h=this._resolveTickFontOptions(0).size;return{w:r*l+h*c,h:r*c+h*l}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,o=r[t.unit]||r.millisecond,l=this._tickFormatFunction(e,0,hm(this,[e],this._majorUnit),o),c=this._getLabelSize(l),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(t=0,r=o.length;t<r;++t)e=e.concat(o[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const o=this.getLabels();for(t=0,r=o.length;t<r;++t)e.push(cm(this,o[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Tm(e.sort(lm))}}function ca(i,e,t){let r=0,o=i.length-1,l,c,h,f;t?(e>=i[r].pos&&e<=i[o].pos&&({lo:r,hi:o}=Hi(i,"pos",e)),{pos:l,time:h}=i[r],{pos:c,time:f}=i[o]):(e>=i[r].time&&e<=i[o].time&&({lo:r,hi:o}=Hi(i,"time",e)),{time:l,pos:h}=i[r],{time:c,pos:f}=i[o]);const p=c-l;return p?h+(f-h)*(e-l)/p:h}class ES extends fm{static id="timeseries";static defaults=fm.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ca(t,this.min),this._tableRange=ca(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,o=[],l=[];let c,h,f,p,g;for(c=0,h=e.length;c<h;++c)p=e[c],p>=t&&p<=r&&o.push(p);if(o.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(c=0,h=o.length;c<h;++c)g=o[c+1],f=o[c-1],p=o[c],Math.round((g+f)/2)!==p&&l.push({time:p,pos:c/(h-1)});return l}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((o,l)=>o-l)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(ca(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return ca(this._table,r*this._tableRange+this._minPos,!0)}}const pp="label";function mm(i,e){typeof i=="function"?i(e):i&&(i.current=e)}function dS(i,e){const t=i.options;t&&e&&Object.assign(t,e)}function gp(i,e){i.labels=e}function vp(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pp;const r=[];i.datasets=e.map(o=>{const l=i.datasets.find(c=>c[t]===o[t]);return!l||!o.data||r.includes(l)?{...o}:(r.push(l),Object.assign(l,o),l)})}function hS(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pp;const t={labels:[],datasets:[]};return gp(t,i.labels),vp(t,i.datasets,e),t}function fS(i,e){const{height:t=150,width:r=300,redraw:o=!1,datasetIdKey:l,type:c,data:h,options:f,plugins:p=[],fallbackContent:g,updateMode:y,...w}=i,S=Y.useRef(null),k=Y.useRef(null),_=()=>{S.current&&(k.current=new ka(S.current,{type:c,data:hS(h,l),options:f&&{...f},plugins:p}),mm(e,k.current))},N=()=>{mm(e,null),k.current&&(k.current.destroy(),k.current=null)};return Y.useEffect(()=>{!o&&k.current&&f&&dS(k.current,f)},[o,f]),Y.useEffect(()=>{!o&&k.current&&gp(k.current.config.data,h.labels)},[o,h.labels]),Y.useEffect(()=>{!o&&k.current&&h.datasets&&vp(k.current.config.data,h.datasets,l)},[o,h.datasets]),Y.useEffect(()=>{k.current&&(o?(N(),setTimeout(_)):k.current.update(y))},[o,f,h.labels,h.datasets,y]),Y.useEffect(()=>{k.current&&(N(),setTimeout(_))},[c]),Y.useEffect(()=>(_(),()=>N()),[]),gi.createElement("canvas",{ref:S,role:"img",height:t,width:r,...w},g)}const mS=Y.forwardRef(fS);function yp(i,e){return ka.register(e),Y.forwardRef((t,r)=>gi.createElement(mS,{...t,ref:r,type:i}))}const pS=yp("line",q0),gS=yp("bar",Y0);ka.register(sS,aS,hw,Na,yw,Yw,eS,Ww,Iw);const vS=({readings:i,chartType:e})=>{if(i.length===0)return u.jsx("div",{className:"no-data",children:u.jsx("p",{children:"No data available for charting. Add some readings or adjust your filters."})});const t=[...i].sort((p,g)=>new Date(p.timestamp).getTime()-new Date(g.timestamp).getTime()),r=t.reduce((p,g)=>(p[g.readingType]||(p[g.readingType]=[]),p[g.readingType].push(g),p),{}),o=["#646cff","#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3","#54a0ff"],c={datasets:Object.entries(r).map(([p,g],y)=>{const w=o[y%o.length];return{label:p.replace("_"," ").toUpperCase(),data:g.map(S=>({x:Bt(new Date(S.timestamp),"MMM dd HH:mm"),y:S.value})),backgroundColor:e==="area"?`${w}20`:w,borderColor:w,borderWidth:2,fill:e==="area",tension:.1}})},h={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Building Readings Over Time",font:{size:16,weight:"bold"}},tooltip:{callbacks:{afterLabel:function(p){const g=t.find(y=>Bt(new Date(y.timestamp),"MMM dd HH:mm")===p.parsed.x&&y.value===p.parsed.y);return g?[`Building: ${g.buildingName}`,`Location: ${g.floor} - ${g.room}`,`Unit: ${g.unit}`,...g.notes?[`Notes: ${g.notes}`]:[]]:[]}}}},scales:{x:{display:!0,title:{display:!0,text:"Time"},ticks:{maxTicksLimit:10}},y:{display:!0,title:{display:!0,text:"Value"}}},interaction:{intersect:!1,mode:"index"}},f=()=>{switch(e){case"bar":return u.jsx(gS,{data:c,options:h});case"area":case"line":default:return u.jsx(pS,{data:c,options:h})}};return u.jsxs("div",{className:"chart-container",children:[u.jsx("div",{style:{height:"400px",position:"relative"},children:f()}),u.jsxs("div",{className:"chart-summary",children:[u.jsx("h3",{children:"Summary Statistics"}),u.jsx("div",{className:"grid",children:Object.entries(r).map(([p,g])=>{const y=g.map(N=>N.value),w=y.reduce((N,P)=>N+P,0)/y.length,S=Math.min(...y),k=Math.max(...y),_=g[0]?.unit||"";return u.jsxs("div",{className:"summary-card",children:[u.jsx("h4",{children:p.replace("_"," ").toUpperCase()}),u.jsxs("p",{children:[u.jsx("strong",{children:"Average:"})," ",w.toFixed(2)," ",_]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Min:"})," ",S.toFixed(2)," ",_]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Max:"})," ",k.toFixed(2)," ",_]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Readings:"})," ",g.length]})]},p)})})]})]})},pm=({selectedReadingType:i,selectedBuilding:e,selectedRoom:t,selectedComponent:r,selectedDate:o,availableBuildings:l,availableRooms:c,availableComponents:h,availableDates:f,onReadingTypeChange:p,onBuildingChange:g,onRoomChange:y,onComponentChange:w,onDateChange:S,chartType:k,onChartTypeChange:_,onClearFilters:N})=>u.jsxs("div",{className:"enhanced-controls",children:[u.jsxs("div",{className:"controls-grid",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"dateFilter",children:"Date:"}),u.jsxs("select",{id:"dateFilter",value:o,onChange:P=>S(P.target.value),children:[u.jsx("option",{value:"all",children:"All Dates"}),f.map(P=>u.jsx("option",{value:P,children:P},P))]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"buildingFilter",children:"Building:"}),u.jsxs("select",{id:"buildingFilter",value:e,onChange:P=>g(P.target.value),children:[u.jsx("option",{value:"all",children:"All Buildings"}),l.map(P=>u.jsx("option",{value:P,children:P},P))]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"roomFilter",children:"Room:"}),u.jsxs("select",{id:"roomFilter",value:t,onChange:P=>y(P.target.value),disabled:e==="all"&&c.length===0,children:[u.jsx("option",{value:"all",children:"All Rooms"}),c.map(P=>u.jsx("option",{value:P,children:P},P))]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"componentFilter",children:"Component:"}),u.jsxs("select",{id:"componentFilter",value:r,onChange:P=>w(P.target.value),children:[u.jsx("option",{value:"all",children:"All Components"}),h.map(P=>u.jsx("option",{value:P,children:P},P))]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"readingTypeFilter",children:"Reading Type:"}),u.jsxs("select",{id:"readingTypeFilter",value:i,onChange:P=>p(P.target.value),children:[u.jsx("option",{value:"all",children:"All Types"}),u.jsx("option",{value:"temperature",children:"Temperature"}),u.jsx("option",{value:"humidity",children:"Humidity"}),u.jsx("option",{value:"energy",children:"Energy Consumption"}),u.jsx("option",{value:"water",children:"Water Usage"}),u.jsx("option",{value:"gas",children:"Gas Usage"}),u.jsx("option",{value:"occupancy",children:"Occupancy"}),u.jsx("option",{value:"air_quality",children:"Air Quality"}),u.jsx("option",{value:"lighting",children:"Lighting Level"})]})]}),k&&_&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"chartTypeSelect",children:"Chart Type:"}),u.jsxs("select",{id:"chartTypeSelect",value:k,onChange:P=>_(P.target.value),children:[u.jsx("option",{value:"line",children:"Line Chart"}),u.jsx("option",{value:"bar",children:"Bar Chart"}),u.jsx("option",{value:"area",children:"Area Chart"})]})]}),u.jsx("div",{className:"form-group",children:u.jsx("button",{className:"btn btn-secondary clear-filters-btn",onClick:N,children:"🔄 Clear All Filters"})})]}),u.jsx("div",{className:"filter-summary",children:u.jsxs("span",{className:"filter-count",children:["Active Filters: ",[i!=="all"?"Type":null,e!=="all"?"Building":null,t!=="all"?"Room":null,r!=="all"?"Component":null,o!=="all"?"Date":null].filter(Boolean).length]})})]}),yS=({readings:i,readingPoints:e,readingPointLists:t,selectedReadingType:r,selectedBuilding:o,chartType:l,fieldDefinitions:c,currentUserId:h,onDeleteReading:f,onAddReadingPoint:p,onUpdateReadingPoint:g,onDeleteReadingPoint:y,onAddReadingPointList:w,onUpdateReadingPointList:S,onDeleteReadingPointList:k,onFilterChange:_,onChartTypeChange:N})=>{const[P,B]=Y.useState("points"),[$,D]=Y.useState("all"),[R,L]=Y.useState("all"),[W,Z]=Y.useState("all");Y.useEffect(()=>{D("all")},[o]);const fe=()=>o==="all"?Array.from(new Set(i.map(Q=>Q.room))).filter(Boolean):Array.from(new Set(i.filter(Q=>Q.buildingName===o).map(Q=>Q.room))).filter(Boolean),be=()=>Array.from(new Set(e.map(Q=>Q.component).filter(Boolean))),ye=()=>Array.from(new Set(i.map(Q=>Bt(new Date(Q.timestamp),"MMM dd, yyyy")))).sort((Q,I)=>new Date(I).getTime()-new Date(Q).getTime()),re=()=>i.filter(Q=>{const I=r==="all"||Q.readingType===r,H=o==="all"||Q.buildingName===o,U=$==="all"||Q.room===$,C=W==="all"||Bt(new Date(Q.timestamp),"MMM dd, yyyy")===W;let E=R==="all";return!E&&Q.pointId?E=e.find(oe=>oe.id===Q.pointId)?.component===R:!E&&!Q.pointId&&(E=!0),I&&H&&U&&E&&C}),Me=Q=>{D(Q)},ee=Q=>{L(Q)},se=Q=>{Z(Q)},ce=()=>{_("all","all"),D("all"),L("all"),Z("all")};return u.jsxs("div",{className:"admin-interface",children:[u.jsxs("header",{className:"app-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:"📊 Building Readings - Admin Dashboard"}),u.jsx("p",{children:"Manage reading points, lists, and data collection"})]}),u.jsxs("nav",{className:"navigation",children:[u.jsx("button",{className:`nav-tab ${P==="points"?"active":""}`,onClick:()=>B("points"),children:"📍 Manage Points & Lists"}),u.jsx("button",{className:`nav-tab ${P==="table"?"active":""}`,onClick:()=>B("table"),children:"📋 Data Table"}),u.jsx("button",{className:`nav-tab ${P==="chart"?"active":""}`,onClick:()=>B("chart"),children:"📈 Charts & Trends"})]})]}),u.jsxs("main",{className:"container",children:[P==="points"&&u.jsxs("div",{className:"view",children:[u.jsx("h2",{children:"Reading Points & Lists Management"}),u.jsx("p",{className:"view-description",children:"Create and manage reading points and organize them into lists for efficient data collection."}),u.jsx(Py,{fieldDefinitions:c,readingPoints:e,readingPointLists:t,currentUserId:h,onAddPoint:p,onUpdatePoint:g,onDeletePoint:y,onAddList:w,onUpdateList:S,onDeleteList:k})]}),P==="table"&&u.jsx(u.Fragment,{children:i.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-state-icon",children:"📊"}),u.jsx("h3",{children:"No readings available"}),u.jsx("p",{children:"Start collecting building readings to see data analysis and filtering options here."}),u.jsx("p",{className:"empty-state-hint",children:'💡 You can add readings through the user interface or by creating reading points in the "Manage Points & Lists" tab.'})]}):u.jsxs("div",{className:"view",children:[u.jsx("h2",{children:"Data Table & Analysis"}),u.jsx("p",{className:"view-description",children:"View, filter, and analyze all collected readings with advanced filtering by building, room, and component."}),u.jsx(pm,{selectedReadingType:r,selectedBuilding:o,selectedRoom:$,selectedComponent:R,selectedDate:W,availableBuildings:Array.from(new Set(i.map(Q=>Q.buildingName))),availableRooms:fe(),availableComponents:be(),availableDates:ye(),onReadingTypeChange:Q=>_(Q,o),onBuildingChange:Q=>_(r,Q),onRoomChange:Me,onComponentChange:ee,onDateChange:se,onClearFilters:ce}),re().length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-state-icon",children:"🔍"}),u.jsx("h3",{children:"No readings match your filters"}),u.jsx("p",{children:"Try adjusting your filters to see more results, or clear all filters to view all readings."}),u.jsxs("p",{className:"empty-state-hint",children:["💡 You have ",i.length," total readings available."]})]}):u.jsx(My,{readings:re(),onDeleteReading:f})]})}),P==="chart"&&u.jsxs("div",{className:"view",children:[u.jsx("h2",{children:"Charts & Trends"}),u.jsx("p",{className:"view-description",children:"Visualize your data with advanced filtering by building, room, and component to identify patterns and trends."}),u.jsx(pm,{selectedReadingType:r,selectedBuilding:o,selectedRoom:$,selectedComponent:R,selectedDate:W,availableBuildings:Array.from(new Set(i.map(Q=>Q.buildingName))),availableRooms:fe(),availableComponents:be(),availableDates:ye(),onReadingTypeChange:Q=>_(Q,o),onBuildingChange:Q=>_(r,Q),onRoomChange:Me,onComponentChange:ee,onDateChange:se,chartType:l,onChartTypeChange:N,onClearFilters:ce}),u.jsx(vS,{readings:re(),chartType:l})]})]})]})},xS=({readingPoints:i,readingPointLists:e,selectedRoom:t,onRoomSelect:r,completedReadings:o=new Set})=>{const c=(()=>{const g=new Map,y=new Set(e.flatMap(S=>S.pointIds));return i.filter(S=>S.isActive&&y.has(S.id)).forEach(S=>{const k=`${S.buildingName}-${S.floor}-${S.room}`;g.has(k)||g.set(k,{room:S.room,building:S.buildingName,floor:S.floor,totalPoints:0,completedPoints:0,points:[]});const _=g.get(k);_.totalPoints++,_.points.push(S),o.has(S.id)&&_.completedPoints++}),Array.from(g.values()).sort((S,k)=>S.building!==k.building?S.building.localeCompare(k.building):S.floor!==k.floor?S.floor.localeCompare(k.floor):S.room.localeCompare(k.room))})(),h=g=>{const y=g.totalPoints>0?g.completedPoints/g.totalPoints*100:0;return y===100?"complete":y>0?"partial":"pending"},f=g=>{switch(g){case"complete":return"#4caf50";case"partial":return"#ff9800";case"pending":return"#f44336";default:return"#9e9e9e"}},p=g=>{const y=h(g);return y==="complete"?"Complete ✓":y==="partial"?`${g.completedPoints}/${g.totalPoints} done`:`${g.totalPoints} needed`};return c.length===0?u.jsx("div",{className:"room-selector",children:u.jsxs("div",{className:"no-rooms",children:[u.jsx("h3",{children:"No Rooms Available"}),u.jsx("p",{children:"No reading points are configured in active lists."})]})}):u.jsxs("div",{className:"room-selector",children:[u.jsxs("div",{className:"room-selector-header",children:[u.jsx("h3",{children:"🏠 Select Room for Readings"}),u.jsx("p",{children:"Choose a room to view and collect readings. Status shows completion progress."}),u.jsx("button",{className:"clear-selection-btn",onClick:()=>r(null),disabled:!t,children:"View All Rooms"})]}),u.jsx("div",{className:"rooms-grid",children:c.map(g=>{const y=`${g.building}-${g.floor}-${g.room}`,w=h(g),S=t===y;return u.jsxs("div",{className:`room-card ${w} ${S?"selected":""}`,onClick:()=>r(S?null:y),style:{borderColor:f(w),backgroundColor:S?`${f(w)}15`:void 0},children:[u.jsxs("div",{className:"room-header",children:[u.jsx("h4",{className:"room-name",children:g.room}),u.jsx("div",{className:"status-badge",style:{backgroundColor:f(w)},children:p(g)})]}),u.jsxs("div",{className:"room-details",children:[u.jsxs("div",{className:"location-info",children:[u.jsx("span",{className:"building",children:g.building}),u.jsxs("span",{className:"floor",children:["Floor ",g.floor]})]}),u.jsxs("div",{className:"progress-info",children:[u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-fill",style:{width:`${g.totalPoints>0?g.completedPoints/g.totalPoints*100:0}%`,backgroundColor:f(w)}})}),u.jsxs("span",{className:"points-count",children:[g.totalPoints," reading point",g.totalPoints!==1?"s":""]})]})]}),S&&u.jsx("div",{className:"selected-indicator",children:u.jsx("span",{children:"📍 Selected"})})]},y)})}),u.jsxs("div",{className:"legend",children:[u.jsx("h4",{children:"Status Legend:"}),u.jsxs("div",{className:"legend-items",children:[u.jsxs("div",{className:"legend-item",children:[u.jsx("div",{className:"legend-color complete"}),u.jsx("span",{children:"Complete - All readings collected"})]}),u.jsxs("div",{className:"legend-item",children:[u.jsx("div",{className:"legend-color partial"}),u.jsx("span",{children:"Partial - Some readings collected"})]}),u.jsxs("div",{className:"legend-item",children:[u.jsx("div",{className:"legend-color pending"}),u.jsx("span",{children:"Pending - No readings collected"})]})]})]})]})},bS=({onSubmit:i,onSubmitForReview:e,readingPoints:t,readingPointLists:r,readings:o=[],currentUserId:l,currentUserName:c,requiresReview:h=!1,allowIndividualSelection:f=!0,completedPoints:p=new Set,pointCompletions:g=new Map,onPointComplete:y,onListSelection:w,selectedRoom:S,onRoomSelect:k,allReadingPoints:_,allReadingPointLists:N,allCompletedReadings:P=new Set})=>{const[B,$]=Y.useState(""),[D,R]=Y.useState([]),[L,W]=Y.useState([]),[Z,fe]=Y.useState(""),[be,ye]=Y.useState(new Date().toISOString().slice(0,16)),[re,Me]=Y.useState(null),ee=t.filter(V=>V.isActive),se=V=>{if(!V.expectedCompletionDate)return{isValid:!0};const te=Bt(new Date,"yyyy-MM-dd"),ae=V.expectedCompletionDate;return ae<=te?{isValid:!0}:{isValid:!1,message:`This list can only be completed on ${new Date(ae+"T00:00:00").toLocaleDateString()}. Please wait until the scheduled date.`}};Y.useEffect(()=>{},[r]);const ce=()=>{const V=Bt(new Date,"yyyy-MM-dd");return r.filter(te=>te.isModel||!te.expectedCompletionDate||!(te.expectedCompletionDate<=V)?!1:te.pointIds.some(q=>!p.has(q)))},Q=V=>{if($(V),w&&w(V),V){const te=r.find(ae=>ae.id===V);if(te){R(te.pointIds);const ae=te.pointIds.map(le=>({pointId:le,value:0,notes:""}));W(ae)}}else R([]),W([])},I=V=>{D.includes(V)?(R(te=>te.filter(ae=>ae!==V)),W(te=>te.filter(ae=>ae.pointId!==V))):(R(te=>[...te,V]),W(te=>[...te,{pointId:V,value:0,notes:""}]))},H=(V,te,ae)=>{C(V)||W(le=>le.map(pe=>pe.pointId===V?{...pe,[te]:ae}:pe))},U=(V,te)=>{if(!(te&&!oe(V))&&y){const ae=L.find(pe=>pe.pointId===V),le=te?{pointId:V,completedAt:new Date().toISOString(),completedBy:c||l,value:ae?.value,notes:ae?.notes}:void 0;y(V,te,le)}},C=V=>p.has(V),E=V=>g.get(V),G=V=>new Date(V).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),oe=V=>{const te=L.find(le=>le.pointId===V),ae=ot(V);return!te||!ae?!1:ae.validationType==="sat_unsat"?te.value==="SAT"||te.value==="UNSAT":te.value!==0&&!isNaN(Number(te.value))&&String(te.value)!==""},ie=V=>{const te=L.find(pe=>pe.pointId===V),ae=ot(V);if(!te||!ae)return!1;if(ae.validationType==="sat_unsat")return te.value==="SAT"||te.value==="UNSAT";if(isNaN(Number(te.value)))return!1;const le=Number(te.value);return!(ae.minValue!==void 0&&le<ae.minValue||ae.maxValue!==void 0&&le>ae.maxValue)},ue=V=>{const te=L.find(pe=>pe.pointId===V),ae=ot(V);if(!te||!ae||ae.validationType!=="range"||isNaN(Number(te.value)))return!1;const le=Number(te.value);return ae.minValue!==void 0&&le<ae.minValue||ae.maxValue!==void 0&&le>ae.maxValue},je=V=>{if(!oe(V))return!1;const te=L.find(le=>le.pointId===V),ae=ot(V);return!te||!ae?!1:ae.validationType==="sat_unsat"&&te.value==="UNSAT"||ue(V)?te.notes&&te.notes.trim().length>0:ie(V)},Pe=V=>{const te=o.filter(ae=>ae.buildingName===V.buildingName&&ae.room===V.room&&ae.readingType===V.readingType&&ae.pointId!==V.id).sort((ae,le)=>new Date(ae.timestamp).getTime()-new Date(le.timestamp).getTime());Me({reading:V,similarReadings:te})},ge=()=>{Me(null)},Xe=V=>{if(V.preventDefault(),!f&&!B){alert("Please select a reading list to continue");return}if(L.length===0){alert(f?"Please select reading points and enter values":"Please select a reading list first");return}if(L.filter(pe=>{const q=t.find(ke=>ke.id===pe.pointId);return q?q.validationType==="sat_unsat"?pe.value!=="SAT"&&pe.value!=="UNSAT":pe.value===0||isNaN(Number(pe.value)):!0}).length>0){alert("Please enter valid values for all selected reading points");return}const ae=L.map(pe=>{const q=t.find(ke=>ke.id===pe.pointId);if(!q)throw new Error(`Reading point not found: ${pe.pointId}`);return{id:`${Date.now()}-${pe.pointId}`,buildingName:q.buildingName,floor:q.floor,room:q.room,readingType:q.readingType,value:q.validationType==="sat_unsat"?pe.value:Number(pe.value),unit:q.unit,timestamp:le(new Date(be)),notes:pe.notes||void 0,pointId:q.id}});function le(pe){const q=Ms=>String(Ms).padStart(2,"0"),ke=pe.getFullYear(),ut=q(pe.getMonth()+1),Ce=q(pe.getDate()),Ge=q(pe.getHours()),gt=q(pe.getMinutes()),wi=q(pe.getSeconds()),nt=String(pe.getMilliseconds()).padStart(3,"0"),vt=-pe.getTimezoneOffset(),Ye=vt>=0?"+":"-",Je=q(Math.floor(Math.abs(vt)/60)),Ve=q(Math.abs(vt)%60);return`${ke}-${ut}-${Ce}T${Ge}:${gt}:${wi}.${nt}${Ye}${Je}:${Ve}`}if(h&&e&&l){const pe=r.find(ke=>ke.id===B),q={submittedBy:l,listId:B||void 0,listName:pe?.name,readings:ae,submissionNotes:Z||void 0};e(q),alert(`Successfully submitted ${ae.length} readings for review!`)}else i(ae),alert(`Successfully added ${ae.length} readings!`);$(""),R([]),W([]),fe(""),ye(new Date().toISOString().slice(0,16))},ot=V=>t.find(te=>te.id===V),bi=V=>L.find(te=>te.pointId===V),Bn=()=>{const V={};return D.forEach(te=>{const ae=ot(te);if(ae){const le=ae.component||ae.readingType;V[le]||(V[le]=[]),V[le].push(te)}}),V},Vt=V=>["temperature","humidity","energy","water","gas","occupancy","air_quality","lighting"].includes(V)?V.replace("_"," ").replace(/\b\w/g,ae=>ae.toUpperCase()):V;return ee.length===0?u.jsxs("div",{className:"no-data",children:[u.jsx("h3",{children:"No Active Reading Points"}),u.jsx("p",{children:"You need to create and activate reading points before using bulk entry."}),u.jsx("p",{children:'Go to the "Reading Points" tab to create your first reading points.'})]}):u.jsxs("div",{className:"bulk-reading-form",children:[u.jsxs("form",{onSubmit:Xe,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"timestamp",children:"Reading Timestamp"}),u.jsx("input",{type:"datetime-local",id:"timestamp",value:be,onChange:V=>ye(V.target.value),required:!0})]}),(()=>{const V=ce();return V.length>0?u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"listSelect",children:f?"Quick Select from Due & Overdue Lists":"Select Reading List *"}),u.jsxs("select",{id:"listSelect",value:B,onChange:te=>Q(te.target.value),required:!f,className:"form-control",children:[u.jsx("option",{value:"",children:"-- Select a List --"}),V.map(te=>{const ae=se(te),le=te.pointIds.length,pe=te.pointIds.filter(gt=>p.has(gt)).length,q=le>0?Math.round(pe/le*100):0,ke=te.expectedCompletionDate,ut=Bt(new Date,"yyyy-MM-dd");let Ce="",Ge="";if(ke){const[gt,wi,nt]=ke.split("-").map(Number),vt=new Date(gt,wi-1,nt);Ce=` (Due: ${Bt(vt,"MMM d, yyyy")})`,ke<ut?Ge=" - OVERDUE":ke===ut&&(Ge=" - DUE TODAY")}return u.jsxs("option",{value:te.id,disabled:!ae.isValid,children:[te.name,Ce,Ge," - ",q,"% complete"]},te.id)})]}),V.length>0&&u.jsx("small",{className:"form-text text-muted",children:(()=>{const te=Bt(new Date,"yyyy-MM-dd"),ae=V.filter(q=>q.expectedCompletionDate===te),le=V.filter(q=>q.expectedCompletionDate&&q.expectedCompletionDate<te);let pe=`Showing ${V.length} list${V.length!==1?"s":""}`;return ae.length>0&&le.length>0?pe+=` (${ae.length} due today, ${le.length} overdue)`:ae.length>0?pe+=" due today":le.length>0&&(pe+=" that are overdue"),pe+". (Debugging: showing all due lists)"})()})]}):u.jsx("div",{className:"form-group",children:u.jsxs("div",{className:"no-overdue-lists",children:[u.jsx("h4",{children:"📋 No Reading Lists Due"}),u.jsx("p",{children:"All reading lists that are due today or overdue have been completed."}),u.jsx("p",{children:"Check back later when new lists become due, or contact an administrator if you need to complete future lists."})]})})})(),B&&_&&N&&k&&u.jsx("div",{className:"room-selector-container",children:u.jsx(xS,{readingPoints:_,readingPointLists:N,selectedRoom:S||null,onRoomSelect:k,completedReadings:P})}),f&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Select Reading Points"}),u.jsx("div",{className:"points-selection",children:ee.map(V=>u.jsxs("div",{className:"point-checkbox",children:[u.jsx("input",{type:"checkbox",id:`bulk-point-${V.id}`,checked:D.includes(V.id),onChange:()=>I(V.id)}),u.jsxs("label",{htmlFor:`bulk-point-${V.id}`,children:[u.jsx("strong",{children:V.name}),u.jsx("br",{}),u.jsxs("small",{children:[V.buildingName," - ",V.floor," - ",V.room]}),u.jsx("br",{}),u.jsxs("small",{children:[V.readingType.replace("_"," ")," (",V.unit,")"]}),V.component&&u.jsxs(u.Fragment,{children:[u.jsx("br",{}),u.jsxs("small",{className:"component-tag",children:["📊 ",V.component]})]}),V.validationType==="range"&&(V.minValue!==void 0||V.maxValue!==void 0)&&u.jsxs(u.Fragment,{children:[u.jsx("br",{}),u.jsxs("small",{className:"validation-info",children:["Range: ",V.minValue!==void 0?V.minValue:"−∞"," - ",V.maxValue!==void 0?V.maxValue:"+∞"," ",V.unit]})]}),V.validationType==="sat_unsat"&&u.jsxs(u.Fragment,{children:[u.jsx("br",{}),u.jsx("small",{className:"validation-info sat-unsat",children:"SAT/UNSAT"})]})]})]},V.id))})]}),D.length>0&&u.jsxs("div",{className:"reading-entries",children:[u.jsx("h3",{children:"Enter Reading Values"}),Object.entries(Bn()).map(([V,te])=>{const ae=te.filter(q=>C(q)).length,le=te.length,pe=le>0?ae/le*100:0;return u.jsxs("div",{className:"reading-type-group",children:[u.jsxs("div",{className:"group-header",children:[u.jsxs("div",{className:"group-title",children:[u.jsx("h4",{children:Vt(V)}),u.jsxs("span",{className:"group-count",children:["(",te.length," point",te.length!==1?"s":"",")"]})]}),u.jsxs("div",{className:"group-progress",children:[u.jsxs("div",{className:"progress-text",children:[ae,"/",le," completed"]}),u.jsx("div",{className:"progress-bar-small",children:u.jsx("div",{className:"progress-fill-small",style:{width:`${pe}%`,backgroundColor:pe===100?"#4caf50":pe>0?"#ff9800":"#f44336"}})})]})]}),u.jsx("div",{className:"entries-grid",children:te.map(q=>{const ke=ot(q),ut=bi(q);return!ke||!ut?null:u.jsxs("div",{className:`entry-card ${C(q)?"completed":""}`,children:[u.jsxs("div",{className:"entry-header",children:[u.jsxs("div",{className:"entry-title-section",children:[u.jsx("h5",{children:ke.name}),u.jsxs("span",{className:"entry-location",children:[ke.buildingName," - ",ke.floor," - ",ke.room]}),ke.validationType==="range"&&(ke.minValue!==void 0||ke.maxValue!==void 0)&&u.jsxs("span",{className:"entry-range",children:["Range: ",ke.minValue!==void 0?ke.minValue:"−∞"," - ",ke.maxValue!==void 0?ke.maxValue:"+∞"," ",ke.unit]}),ke.validationType==="sat_unsat"&&u.jsx("span",{className:"entry-validation",children:"Validation: SAT/UNSAT"})]}),u.jsx("div",{className:"entry-actions",children:u.jsx("button",{type:"button",onClick:()=>Pe(ke),className:"btn-trend",title:"View trend analysis for this point",children:"📈 Trend"})}),u.jsxs("div",{className:"completion-section",children:[u.jsxs("label",{className:`completion-checkbox ${!je(q)&&!C(q)?"disabled":""}`,children:[u.jsx("input",{type:"checkbox",checked:C(q),disabled:!je(q)&&!C(q),onChange:Ce=>U(q,Ce.target.checked)}),u.jsx("span",{className:"checkbox-label",children:C(q)?"✓ Complete":je(q)?"Mark Complete":oe(q)?(()=>{const Ce=L.find(gt=>gt.pointId===q),Ge=ot(q);return Ce&&Ge&&Ge.validationType==="sat_unsat"&&Ce.value==="UNSAT"&&(!Ce.notes||Ce.notes.trim().length===0)?"UNSAT requires comment":Ce&&ue(q)&&(!Ce.notes||Ce.notes.trim().length===0)?"Out of range - comment required":ie(q)?"Enter value first":"Value out of range"})():"Enter value first"})]}),C(q)&&(()=>{const Ce=E(q);return Ce?u.jsxs("div",{className:"completion-timestamp",children:[u.jsxs("small",{children:["Completed: ",G(Ce.completedAt)]}),Ce.completedBy&&u.jsxs("small",{children:["By: ",Ce.completedBy]})]}):null})()]})]}),u.jsxs("div",{className:"entry-inputs",children:[u.jsxs("div",{className:"form-group",children:[ke.validationType==="sat_unsat"?u.jsxs(u.Fragment,{children:[u.jsx("label",{htmlFor:`value-${q}`,children:"Validation *"}),u.jsxs("select",{id:`value-${q}`,value:ut.value,onChange:Ce=>H(q,"value",Ce.target.value),required:!0,disabled:C(q),className:`${C(q)?"disabled":""}`,children:[u.jsx("option",{value:"",children:"Select..."}),u.jsx("option",{value:"SAT",children:"SAT (Satisfactory)"}),u.jsx("option",{value:"UNSAT",children:"UNSAT (Unsatisfactory)"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("label",{htmlFor:`value-${q}`,children:["Value (",ke.unit,") *"]}),u.jsx("input",{type:"number",id:`value-${q}`,value:ut.value,onChange:Ce=>H(q,"value",Ce.target.value),step:"0.1",required:!0,disabled:C(q),className:`${C(q)?"disabled":""} ${oe(q)&&!ie(q)?"out-of-range":""}`})]}),C(q)&&u.jsxs("small",{className:"completion-info",children:["🔒 Value locked - completed ",(()=>{const Ce=E(q);return Ce?G(Ce.completedAt):"recently"})()]})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:`notes-${q}`,children:["Notes",(()=>{const Ce=L.find(gt=>gt.pointId===q),Ge=ot(q);return Ce&&Ge&&Ge.validationType==="sat_unsat"&&Ce.value==="UNSAT"?u.jsx("span",{className:"required-asterisk",children:" *"}):ue(q)?u.jsx("span",{className:"required-asterisk",children:" *"}):null})()]}),u.jsx("textarea",{id:`notes-${q}`,value:ut.notes,onChange:Ce=>H(q,"notes",Ce.target.value),placeholder:(()=>{const Ce=L.find(gt=>gt.pointId===q),Ge=ot(q);return Ce&&Ge&&Ge.validationType==="sat_unsat"&&Ce.value==="UNSAT"?"Required for UNSAT - explain issue":ue(q)?"Required for out-of-range value - explain reading":"Optional notes"})(),disabled:C(q),rows:3,className:(()=>{const Ce=L.find(gt=>gt.pointId===q),Ge=ot(q);return C(q)?"disabled":Ce&&Ge&&Ge.validationType==="sat_unsat"&&Ce.value==="UNSAT"||ue(q)?"required":""})()}),C(q)&&u.jsx("small",{className:"completion-info",children:"🔒 Notes locked"})]})]})]},q)})})]},V)})]}),D.length>0&&h&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"submissionNotes",children:"Submission Notes"}),u.jsx("textarea",{id:"submissionNotes",value:Z,onChange:V=>fe(V.target.value),placeholder:"Optional notes about this submission for the reviewer...",rows:3})]}),D.length>0&&u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn btn-primary",children:h?`Submit ${D.length} Reading${D.length!==1?"s":""} for Review`:`Add ${D.length} Reading${D.length!==1?"s":""}`}),u.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{$(""),R([]),W([])},children:"Clear Selection"})]}),D.length===0&&u.jsx("div",{className:"no-selection",children:u.jsx("p",{children:f?"Select reading points above to begin entering values.":"Please select a reading list above to begin entering values."})})]}),re&&u.jsx("div",{className:"trend-modal-overlay",onClick:ge,children:u.jsxs("div",{className:"trend-modal",onClick:V=>V.stopPropagation(),children:[u.jsxs("div",{className:"trend-modal-header",children:[u.jsxs("h3",{children:["📈 Trend Analysis - ",re.reading.name]}),u.jsx("button",{className:"close-button",onClick:ge,children:"×"})]}),u.jsxs("div",{className:"trend-modal-content",children:[u.jsxs("div",{className:"trend-info",children:[u.jsx("h4",{children:"Reading Point Details:"}),u.jsxs("div",{className:"reading-details",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Location:"})," ",re.reading.buildingName," - ",re.reading.floor," - ",re.reading.room]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Type:"})," ",re.reading.readingType.replace("_"," ")]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Unit:"})," ",re.reading.unit]}),re.reading.component&&u.jsxs("p",{children:[u.jsx("strong",{children:"Component:"})," ",re.reading.component]}),re.reading.description&&u.jsxs("p",{children:[u.jsx("strong",{children:"Description:"})," ",re.reading.description]})]})]}),u.jsxs("div",{className:"trend-chart-section",children:[u.jsxs("h4",{children:["Historical Data (",re.similarReadings.length," readings):"]}),re.similarReadings.length>0?(()=>{if(t.find(le=>le.id===re.reading.id)?.validationType==="sat_unsat"){const le=re.similarReadings.filter(q=>q.value==="SAT").length,pe=re.similarReadings.filter(q=>q.value==="UNSAT").length;return u.jsxs("div",{className:"sat-unsat-summary",children:[u.jsxs("div",{className:"validation-stats",children:[u.jsxs("div",{className:"stat-item sat",children:[u.jsx("span",{className:"stat-label",children:"SAT (Satisfactory):"}),u.jsx("span",{className:"stat-value",children:le})]}),u.jsxs("div",{className:"stat-item unsat",children:[u.jsx("span",{className:"stat-label",children:"UNSAT (Unsatisfactory):"}),u.jsx("span",{className:"stat-value",children:pe})]})]}),u.jsxs("div",{className:"recent-readings",children:[u.jsx("h5",{children:"Recent Readings:"}),re.similarReadings.slice(0,10).map((q,ke)=>u.jsxs("div",{className:`reading-item ${q.value}`,children:[u.jsx("span",{className:"reading-value",children:q.value}),u.jsx("span",{className:"reading-date",children:Bt(new Date(q.timestamp),"MMM dd, yyyy HH:mm")})]},ke))]})]})}const ae=re.similarReadings.filter(le=>typeof le.value=="number");return ae.length===0?u.jsx("p",{children:"No numeric data available for trending."}):u.jsx("div",{className:"simple-trend-chart",children:ae.map(le=>{const pe=Math.max(...ae.map(Ce=>Ce.value)),q=Math.min(...ae.map(Ce=>Ce.value)),ke=pe-q||1,ut=(le.value-q)/ke*100;return u.jsxs("div",{className:"trend-bar-container",children:[u.jsx("div",{className:"trend-bar",style:{height:`${Math.max(ut,5)}%`,backgroundColor:"#007bff"},title:`${le.value.toFixed(2)} ${le.unit} - ${Bt(new Date(le.timestamp),"MMM dd, yyyy HH:mm")}`}),u.jsx("div",{className:"trend-date",children:Bt(new Date(le.timestamp),"MMM dd")}),u.jsx("div",{className:"trend-value",children:le.value.toFixed(1)})]},le.id)})})})():u.jsx("p",{className:"no-trend-data",children:"No historical data available for this reading point. Collect more readings to see trend analysis."})]}),re.similarReadings.length>1&&u.jsxs("div",{className:"trend-statistics",children:[u.jsx("h4",{children:"Statistics:"}),(()=>{if(t.find(le=>le.id===re.reading.id)?.validationType==="sat_unsat"){const le=re.similarReadings.filter(ke=>ke.value==="SAT").length,pe=re.similarReadings.filter(ke=>ke.value==="UNSAT").length,q=re.similarReadings.length;return u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("strong",{children:"Total Readings:"})," ",q]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("strong",{children:"SAT Rate:"})," ",(le/q*100).toFixed(1),"% (",le,"/",q,")"]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("strong",{children:"UNSAT Rate:"})," ",(pe/q*100).toFixed(1),"% (",pe,"/",q,")"]})]})}const ae=re.similarReadings.filter(le=>typeof le.value=="number");return ae.length===0?u.jsx("p",{children:"No numeric data available for statistics."}):u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("strong",{children:"Average:"})," ",(ae.reduce((le,pe)=>le+pe.value,0)/ae.length).toFixed(2)," ",re.reading.unit]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("strong",{children:"Min:"})," ",Math.min(...ae.map(le=>le.value)).toFixed(2)," ",re.reading.unit]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("strong",{children:"Max:"})," ",Math.max(...ae.map(le=>le.value)).toFixed(2)," ",re.reading.unit]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("strong",{children:"Range:"})," ",(Math.max(...ae.map(le=>le.value))-Math.min(...ae.map(le=>le.value))).toFixed(2)," ",re.reading.unit]})]})})()]})]})]})})]})},wS=({readingPoints:i,initialReadingPointLists:e,onCreateUserList:t,readings:r,currentUserId:o,currentUserName:l,onAddBulkReadings:c,onSubmitForReview:h})=>{const[f,p]=Y.useState(e),[g,y]=Y.useState(!1),[w,S]=Y.useState(""),[k,_]=Y.useState(""),[N,P]=Y.useState(""),B=()=>{if(!w||!k){alert("Please select a template and enter a name for the new list.");return}const E=f.find(ue=>ue.id===w&&ue.isModel);if(!E){alert("Template not found.");return}const G=new Date,oe=`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}-${String(G.getDate()).padStart(2,"0")}`,ie={id:Date.now().toString(),name:k,description:N||`Copy of ${E.name}`,pointIds:[...E.pointIds],expectedCompletionDate:oe,createdBy:o,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isModel:!1};p(ue=>[...ue,ie]),t&&t(ie),alert(`New list "${ie.name}" created from template "${E.name}".`),y(!1),S(""),_(""),P("")},[$,D]=Y.useState(null),[R,L]=Y.useState(new Set),[W,Z]=Y.useState(new Set),[fe,be]=Y.useState(new Map),[ye,re]=Y.useState(""),Me=new Set([...R,...W]),ee=()=>{const E=f.filter(ge=>se(ge).isValid&&!ge.isModel);if(!$)return{filteredPoints:i,filteredLists:E};const[G,oe,ie]=$.split("-"),ue=i.filter(ge=>ge.buildingName===G&&ge.floor===oe&&ge.room===ie&&ge.isActive),je=new Set(ue.map(ge=>ge.id)),Pe=E.filter(ge=>ge.pointIds.some(Xe=>je.has(Xe))).map(ge=>({...ge,pointIds:ge.pointIds.filter(Xe=>je.has(Xe))})).filter(ge=>ge.pointIds.length>0);return{filteredPoints:ue,filteredLists:Pe}},se=E=>{if(!E.expectedCompletionDate)return{isValid:!0};const G=new Date().toISOString().split("T")[0],oe=E.expectedCompletionDate;return oe<=G?{isValid:!0}:{isValid:!1,message:`Available on ${new Date(oe+"T00:00:00").toLocaleDateString()}`}},{filteredPoints:ce,filteredLists:Q}=ee(),I=E=>{re(E),E!==ye&&D(null)},H=(E,G,oe)=>{Z(ie=>{const ue=new Set(ie);return G?ue.add(E):ue.delete(E),ue}),be(ie=>{const ue=new Map(ie);if(G&&oe){const je={...oe,completedBy:l||oe.completedBy};ue.set(E,je)}else ue.delete(E);return ue})},U=E=>{const G=new Set(R);E.forEach(oe=>{oe.pointId&&G.add(oe.pointId)}),L(G),c(E)},C=E=>{const G=new Set(R);E.readings.forEach(oe=>{oe.pointId&&G.add(oe.pointId)}),L(G),h(E)};return u.jsxs("div",{className:"user-interface",children:[u.jsxs("div",{className:"template-create-section",style:{margin:"1rem 0"},children:[u.jsx("button",{className:"btn btn-secondary",onClick:()=>y(E=>!E),children:g?"Cancel":"Create New List from Template"}),g&&u.jsxs("div",{className:"template-create-form",style:{marginTop:"1rem",padding:"1rem",border:"1px solid #ddd",borderRadius:"8px",background:"#f9f9f9"},children:[u.jsx("h4",{children:"Create New List from Template"}),u.jsxs("div",{style:{marginBottom:"0.5rem"},children:[u.jsx("label",{children:"Template List:"}),u.jsxs("select",{value:w,onChange:E=>{const G=E.target.value;S(G);const oe=f.find(ie=>ie.id===G&&ie.isModel);oe?(_(oe.name),P(oe.description||"")):(_(""),P(""))},style:{marginLeft:"0.5rem"},children:[u.jsx("option",{value:"",children:"-- Select Template --"}),f.filter(E=>E.isModel).map(E=>u.jsx("option",{value:E.id,children:E.name},E.id))]})]}),u.jsxs("div",{style:{marginBottom:"0.5rem"},children:[u.jsx("label",{children:"New List Name:"}),u.jsx("input",{type:"text",value:k,onChange:E=>_(E.target.value),style:{marginLeft:"0.5rem",width:"350px",height:"2.2em",fontSize:"1.1em"}})]}),u.jsxs("div",{style:{marginBottom:"0.5rem"},children:[u.jsx("label",{children:"Description:"}),u.jsx("textarea",{value:N,onChange:E=>P(E.target.value),style:{marginLeft:"0.5rem",width:"350px",height:"4em",fontSize:"1.1em",resize:"vertical"}})]}),u.jsx("button",{className:"btn btn-primary",onClick:B,children:"Create List"})]})]}),u.jsx("header",{className:"app-header",children:u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:"📊 Building Readings - Data Collection"}),u.jsx("p",{children:"Enter readings using pre-configured lists"})]})}),u.jsxs("main",{className:"container",children:[u.jsxs("div",{className:"view",children:[u.jsxs("div",{className:"user-intro",children:[u.jsx("h2",{children:"📝 Data Entry"}),u.jsx("p",{className:"view-description",children:"Select a reading list and enter all required measurements. All reading points and lists are managed by your administrator."}),f.length===0&&u.jsxs("div",{className:"alert alert-info",children:[u.jsx("h3",{children:"🚧 Setup Required"}),u.jsx("p",{children:"No reading lists are currently configured. Please contact your administrator to set up reading points and lists before you can collect data."})]})]}),!ye&&u.jsx("div",{className:"workflow-info",children:u.jsxs("div",{className:"alert alert-info",children:[u.jsx("h4",{children:"📋 Getting Started"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Step 1:"})," Select a reading list below to begin data collection.",u.jsx("br",{}),u.jsx("strong",{children:"Step 2:"})," Choose a specific room to focus your readings.",u.jsx("br",{}),u.jsx("strong",{children:"Step 3:"})," Enter values and mark points complete as you work."]})]})}),ye&&!$&&u.jsx("div",{className:"workflow-info",children:u.jsxs("div",{className:"alert alert-info",children:[u.jsx("h4",{children:"🏠 Choose a Room"}),u.jsx("p",{children:"Great! You've selected a reading list. Now choose a room from the options below to focus your data collection. Room colors indicate completion status: Red = Not started, Orange = In progress, Green = Complete."})]})}),ye&&$&&u.jsx("div",{className:"room-selection-info",children:u.jsxs("div",{className:"alert alert-info",children:[u.jsxs("h4",{children:["🏠 Room Selected: ",$.split("-")[2]]}),u.jsxs("p",{children:["Showing reading points for ",$.split("-")[2]," in ",$.split("-")[0],", Floor ",$.split("-")[1],'. Enter values and check "Mark Complete" for each point as you finish.',Q.length===0&&" No reading points available for this room in the selected list."]})]})}),u.jsx(bS,{onSubmit:U,onSubmitForReview:C,readingPoints:ce,readingPointLists:Q,readings:r,currentUserId:o,currentUserName:l,requiresReview:!0,allowIndividualSelection:!1,completedPoints:W,pointCompletions:fe,onPointComplete:H,onListSelection:I,selectedRoom:$,onRoomSelect:D,allReadingPoints:i,allReadingPointLists:f,allCompletedReadings:Me})]}),f.length>0&&u.jsx("div",{className:"user-stats",children:u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-number",children:$?Q.length:f.length}),u.jsx("div",{className:"stat-label",children:$?"Room Lists":"Available Lists"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-number",children:($?ce:i).filter(E=>E.isActive).length}),u.jsx("div",{className:"stat-label",children:$?"Room Points":"Active Points"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-number",children:$?1:new Set(i.map(E=>E.buildingName)).size}),u.jsx("div",{className:"stat-label",children:$?"Room":"Buildings"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-number",children:Me.size}),u.jsx("div",{className:"stat-label",children:"Completed"})]})]})}),($?Q:f).length>0&&u.jsxs("div",{className:"available-lists",children:[u.jsxs("h3",{children:["📋 ",$?"Room Reading Lists":"Available Reading Lists"]}),u.jsx("div",{className:"lists-grid",children:Q.map(E=>{const oe=($?ce:i).filter(ie=>E.pointIds.includes(ie.id)&&ie.isActive).length;return u.jsxs("div",{className:"list-card",children:[u.jsxs("div",{className:"list-header",children:[u.jsx("h4",{children:E.name}),E.expectedCompletionDate&&u.jsx("div",{className:"completion-date available",children:"✅ Due Today"})]}),E.description&&u.jsx("p",{className:"list-description",children:E.description}),u.jsxs("div",{className:"list-stats",children:[u.jsxs("span",{className:"point-count",children:[oe," active points"]}),u.jsx("span",{className:"buildings",children:$?u.jsxs("span",{children:["Room: ",$.split("-")[2]]}):u.jsxs("span",{children:[new Set(i.filter(ie=>E.pointIds.includes(ie.id)&&ie.isActive).map(ie=>ie.buildingName)).size," buildings"]})})]})]},E.id)})})]})]})]})},SS=["temperature","humidity","energy","water","gas","occupancy","air_quality","lighting"],xp={buildings:["Building A","Building B","Building C"],floors:["GF","1","2","3","4","5","Basement","Roof"],rooms:["101","102","103","Lobby","Office","Conference Room","Storage","Mechanical Room"],components:["HVAC System","Electrical Panel","Water System","Lighting System","Security System"],readingTypes:[...SS],units:{temperature:["°C","°F","K"],humidity:["%","g/kg"],energy:["kWh","MWh","BTU","kJ"],water:["L","gal","m³","ft³"],gas:["m³","ft³","L","gal"],occupancy:["people","count"],air_quality:["ppm","µg/m³","AQI"],lighting:["lux","lm","cd/m²"]}},_S=()=>{const[i,e]=Y.useState([]),[t,r]=Y.useState(!1),[o,l]=Y.useState(null),[c,h]=Y.useState({username:"",password:"",email:"",fullName:"",roles:[]}),[f,p]=Y.useState(""),[g,y]=Y.useState("");Y.useEffect(()=>{console.log("UserManagement component mounted, refreshing users..."),w()},[]);const w=()=>{const R=Fc();console.log("Refreshing users, found:",R),e(R)},S=()=>{h({username:"",password:"",email:"",fullName:"",roles:[]}),p(""),y("")},k=R=>{if(R.preventDefault(),p(""),y(""),!c.username.trim()){p("Username is required");return}if(!c.password.trim()){p("Password is required");return}if(c.password.length<6){p("Password must be at least 6 characters");return}if(c.roles.length===0){p("At least one role must be selected");return}if(qh(c.username)){p("Username already exists");return}try{ky({username:c.username.trim(),password:c.password,email:c.email.trim()||void 0,fullName:c.fullName.trim()||void 0,roles:c.roles}),y(`User "${c.username}" created successfully!`),S(),r(!1),w()}catch{p("Failed to create user")}},_=R=>{if(R.preventDefault(),!!o){if(p(""),y(""),!c.username.trim()){p("Username is required");return}if(c.password&&c.password.length<6){p("Password must be at least 6 characters");return}if(c.roles.length===0){p("At least one role must be selected");return}if(qh(c.username,o.id)){p("Username already exists");return}try{const L={username:c.username.trim(),email:c.email.trim()||void 0,fullName:c.fullName.trim()||void 0,roles:c.roles};c.password.trim()&&(L.password=c.password),Ny(o.id,L),y(`User "${c.username}" updated successfully!`),S(),l(null),w()}catch{p("Failed to update user")}}},N=R=>{if(window.confirm(`Are you sure you want to delete user "${R.username}"?

This action cannot be undone.`))try{Cy(R.id),y(`User "${R.username}" deleted successfully!`),w()}catch{p("Failed to delete user")}},P=R=>{l(R),h({username:R.username,password:"",email:R.email||"",fullName:R.fullName||"",roles:[...R.roles]}),p(""),y("")},B=()=>{l(null),S()},$=R=>{h(L=>({...L,roles:L.roles.includes(R)?L.roles.filter(W=>W!==R):[...L.roles,R]}))},D=R=>new Date(R).toLocaleDateString();return u.jsxs("div",{className:"user-management",children:[(g||f)&&u.jsx("div",{className:`alert ${g?"alert-success":"alert-error"}`,children:g||f}),!t&&!o&&u.jsx("div",{style:{marginBottom:"1rem"},children:u.jsx("button",{className:"btn btn-primary",onClick:()=>r(!0),children:"➕ Add New User"})}),t&&u.jsx("div",{className:"user-form-container",children:u.jsxs("form",{onSubmit:k,className:"user-form",children:[u.jsx("h4",{children:"➕ Add New User"}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Username *"}),u.jsx("input",{type:"text",value:c.username,onChange:R=>h(L=>({...L,username:R.target.value})),placeholder:"Enter username",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Password *"}),u.jsx("input",{type:"password",value:c.password,onChange:R=>h(L=>({...L,password:R.target.value})),placeholder:"Enter password (min 6 characters)",required:!0,minLength:6})]})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Full Name"}),u.jsx("input",{type:"text",value:c.fullName,onChange:R=>h(L=>({...L,fullName:R.target.value})),placeholder:"Enter full name"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email"}),u.jsx("input",{type:"email",value:c.email,onChange:R=>h(L=>({...L,email:R.target.value})),placeholder:"Enter email address"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Roles * (Select at least one)"}),u.jsx("div",{className:"role-checkboxes",children:["superadmin","admin","user"].map(R=>u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:c.roles.includes(R),onChange:()=>$(R)}),u.jsx("span",{children:kr(R)})]},R))})]}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn btn-primary",children:"✅ Create User"}),u.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{r(!1),S()},children:"❌ Cancel"})]})]})}),u.jsxs("div",{className:"users-list",children:[u.jsx("h4",{children:"All Users"}),i.length===0?u.jsx("div",{className:"no-data",children:"No users found"}):u.jsx("div",{className:"users-table-container",children:u.jsxs("table",{className:"users-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Username"}),u.jsx("th",{children:"Full Name"}),u.jsx("th",{children:"Email"}),u.jsx("th",{children:"Roles"}),u.jsx("th",{children:"Created"}),u.jsx("th",{children:"Last Login"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:i.map(R=>u.jsxs(gi.Fragment,{children:[u.jsxs("tr",{className:o?.id===R.id?"editing":"",children:[u.jsx("td",{children:u.jsx("strong",{children:R.username})}),u.jsx("td",{children:R.fullName||"-"}),u.jsx("td",{children:R.email||"-"}),u.jsx("td",{children:u.jsx("div",{className:"user-roles",children:R.roles.map(L=>u.jsx("span",{className:`role-tag role-${L}`,children:kr(L)},L))})}),u.jsx("td",{children:D(R.createdAt)}),u.jsx("td",{children:R.lastLogin?D(R.lastLogin):"Never"}),u.jsx("td",{children:u.jsxs("div",{className:"user-actions",children:[u.jsx("button",{className:"btn btn-small btn-secondary",onClick:()=>P(R),disabled:t||!!o&&o.id!==R.id,children:"✏️ Edit"}),u.jsx("button",{className:"btn btn-small btn-danger",onClick:()=>N(R),disabled:t||!!o,children:"🗑️ Delete"})]})})]}),o?.id===R.id&&u.jsx("tr",{className:"edit-form-row",children:u.jsx("td",{colSpan:7,children:u.jsx("div",{className:"inline-edit-form",children:u.jsxs("form",{onSubmit:_,className:"user-edit-form",children:[u.jsxs("h4",{children:["✏️ Edit User: ",o.username]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Username *"}),u.jsx("input",{type:"text",value:c.username,onChange:L=>h(W=>({...W,username:L.target.value})),placeholder:"Enter username",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"New Password (leave blank to keep current)"}),u.jsx("input",{type:"password",value:c.password,onChange:L=>h(W=>({...W,password:L.target.value})),placeholder:"Enter new password (min 6 characters)",minLength:6})]})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Full Name"}),u.jsx("input",{type:"text",value:c.fullName,onChange:L=>h(W=>({...W,fullName:L.target.value})),placeholder:"Enter full name"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email"}),u.jsx("input",{type:"email",value:c.email,onChange:L=>h(W=>({...W,email:L.target.value})),placeholder:"Enter email address"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Roles * (Select at least one)"}),u.jsx("div",{className:"role-checkboxes",children:["superadmin","admin","reviewer","user"].map(L=>u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:c.roles.includes(L),onChange:()=>$(L)}),u.jsx("span",{children:kr(L)})]},L))})]}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn btn-primary",children:"💾 Update User"}),u.jsx("button",{type:"button",className:"btn btn-secondary",onClick:B,children:"❌ Cancel"})]})]})})})})]},R.id))})]})})]})]})},jS=({fieldDefinitions:i,onUpdateFieldDefinitions:e,allPoints:t})=>{const[r,o]=Y.useState("buildings"),[l,c]=Y.useState(""),[h,f]=Y.useState(""),[p,g]=Y.useState(""),[y,w]=Y.useState(""),[S,k]=Y.useState(!1),[_,N]=Y.useState(null),[P,B]=Y.useState(""),[$,D]=Y.useState([]),R=ee=>{if(!h.trim())return;const se={...i};if(ee==="units")return;se[ee].includes(h.trim())||(se[ee].push(h.trim()),e(se)),f("")},L=(ee,se)=>{const ce={...i};ee!=="units"&&(ce[ee]=ce[ee].filter(Q=>Q!==se),e(ce))},W=(ee,se)=>{if(!se.trim())return;const ce={...i};ce.units[ee].includes(se.trim())||(ce.units[ee].push(se.trim()),e(ce))},Z=(ee,se)=>{const ce={...i};ce.units[ee]=ce.units[ee].filter(Q=>Q!==se),e(ce)},fe=()=>{if(!p.trim())return;const ee={...i},se=p.trim().toLowerCase().replace(/\s+/g,"_");if(!ee.readingTypes.includes(se)){ee.readingTypes.push(se);const ce=y.trim()?y.split(",").map(Q=>Q.trim()).filter(Q=>Q):["unit"];ee.units[se]=ce,e(ee)}g(""),w("")},be=ee=>{if(confirm(`Remove reading type "${ee}" and all its units? This cannot be undone.`)){const se={...i};se.readingTypes=se.readingTypes.filter(ce=>ce!==ee),delete se.units[ee],e(se)}},ye=()=>{confirm("Reset all field definitions to defaults? This cannot be undone.")&&e({...xp})},re=()=>{const ee=JSON.stringify(i,null,2),se=new Blob([ee],{type:"application/json"}),ce=URL.createObjectURL(se),Q=document.createElement("a");Q.href=ce,Q.download="field-definitions.json",Q.click(),URL.revokeObjectURL(ce)},Me=ee=>{const se=ee.target.files?.[0];if(!se)return;const ce=new FileReader;ce.onload=Q=>{try{const I=JSON.parse(Q.target?.result);e(I),alert("Configuration imported successfully!")}catch{alert("Invalid configuration file.")}},ce.readAsText(se)};return u.jsxs("div",{className:"super-admin-interface",children:[u.jsxs("header",{className:"app-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:"🔧 Super Admin - Field Configuration"}),u.jsx("p",{children:"Define dropdown options for consistent data entry across the system"})]}),u.jsxs("nav",{className:"navigation",children:[u.jsx("button",{className:`nav-tab ${r==="buildings"?"active":""}`,onClick:()=>o("buildings"),children:"🏢 Buildings"}),u.jsx("button",{className:`nav-tab ${r==="floors"?"active":""}`,onClick:()=>o("floors"),children:"🏗️ Floors"}),u.jsx("button",{className:`nav-tab ${r==="rooms"?"active":""}`,onClick:()=>o("rooms"),children:"🚪 Rooms"}),u.jsx("button",{className:`nav-tab ${r==="components"?"active":""}`,onClick:()=>o("components"),children:"⚙️ Components"}),u.jsx("button",{className:`nav-tab ${r==="reading-types"?"active":""}`,onClick:()=>o("reading-types"),children:"📊 Reading Types"}),u.jsx("button",{className:`nav-tab ${r==="units"?"active":""}`,onClick:()=>o("units"),children:"📏 Units"}),u.jsx("button",{className:`nav-tab ${r==="users"?"active":""}`,onClick:()=>o("users"),children:"👥 Users"})]})]}),u.jsxs("main",{className:"container",children:[u.jsx("div",{className:"super-admin-controls",children:u.jsxs("div",{className:"control-buttons",children:[u.jsx("button",{onClick:ye,className:"btn btn-warning",children:"🔄 Reset to Defaults"}),u.jsx("button",{onClick:re,className:"btn btn-secondary",children:"📤 Export Config"}),u.jsxs("label",{className:"btn btn-secondary file-input-label",children:["📥 Import Config",u.jsx("input",{type:"file",accept:".json",onChange:Me,style:{display:"none"}})]})]})}),u.jsx("div",{className:"field-management",children:r==="reading-types"?u.jsxs("div",{className:"reading-types-section",children:[u.jsx("h3",{children:"Manage Reading Types"}),u.jsx("p",{className:"section-description",children:"Add new measurement types that can be collected. Each reading type needs at least one unit."}),u.jsxs("div",{className:"add-reading-type-form",children:[u.jsx("h4",{children:"Add New Reading Type"}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Reading Type Name:"}),u.jsx("input",{type:"text",value:p,onChange:ee=>g(ee.target.value),placeholder:"e.g., pressure, vibration, noise",className:"form-control"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Initial Units (comma-separated):"}),u.jsx("input",{type:"text",value:y,onChange:ee=>w(ee.target.value),placeholder:"e.g., psi, bar, Pa",className:"form-control"})]}),u.jsx("button",{onClick:fe,className:"btn btn-primary",disabled:!p.trim(),children:"Add Reading Type"})]})]}),u.jsxs("div",{className:"reading-types-list",children:[u.jsxs("h4",{children:["Current Reading Types (",(i?.readingTypes??[]).length,")"]}),u.jsx("div",{className:"reading-types-grid",children:(i?.readingTypes??[]).map((ee,se)=>u.jsxs("div",{className:"reading-type-item",children:[u.jsxs("div",{className:"reading-type-info",children:[u.jsx("strong",{children:ee.replace("_"," ").toUpperCase()}),u.jsxs("div",{className:"reading-type-units",children:["Units: ",i.units[ee]?.join(", ")||"None"]})]}),u.jsx("button",{onClick:()=>be(ee),className:"btn btn-danger btn-sm",title:"Remove reading type",children:"✕"})]},se))})]})]}):r!=="units"&&r!=="users"?u.jsxs("div",{className:"field-section",children:[u.jsxs("h3",{children:["Manage ",r.charAt(0).toUpperCase()+r.slice(1)]}),u.jsxs("p",{className:"section-description",children:["Add or remove options that will appear in dropdown menus for ",r,"."]}),u.jsx("div",{className:"add-value-form",children:u.jsxs("div",{className:"input-group",children:[u.jsx("input",{type:"text",value:h,onChange:ee=>f(ee.target.value),placeholder:`Enter new ${r.slice(0,-1)}...`,className:"form-control",onKeyPress:ee=>{ee.key==="Enter"&&R(r)}}),u.jsx("button",{onClick:()=>{R(r)},className:"btn btn-primary",disabled:!h.trim(),children:"Add"})]})}),u.jsxs("div",{className:"values-list",children:[u.jsxs("h4",{children:["Current Options (",i[r].length,")"]}),u.jsx("div",{className:"values-grid",children:i[r].map((ee,se)=>u.jsxs("div",{className:"value-item",children:[u.jsx("span",{className:"value-text",children:ee}),u.jsx("button",{onClick:()=>{L(r,ee)},className:"btn btn-danger btn-sm",title:"Remove",children:"✕"})]},se))})]})]}):r==="users"?u.jsx(_S,{}):u.jsxs("div",{className:"units-section",children:[u.jsx("h3",{children:"Manage Units by Reading Type"}),u.jsx("p",{className:"section-description",children:"Configure available units for each reading type. These will appear as dropdown options."}),i.readingTypes.map(ee=>u.jsxs("div",{className:"unit-type-section",children:[u.jsx("h4",{children:ee.replace("_"," ").toUpperCase()}),u.jsx("div",{className:"add-unit-form",children:u.jsxs("div",{className:"input-group",children:[u.jsx("input",{type:"text",value:l===ee?h:"",onChange:se=>f(se.target.value),placeholder:`Add unit for ${ee}...`,className:"form-control",onFocus:()=>c(ee),onKeyPress:se=>{se.key==="Enter"&&(W(ee,h),f(""),c(""))}}),u.jsx("button",{onClick:()=>{W(ee,h),f(""),c("")},className:"btn btn-primary btn-sm",disabled:l!==ee||!h.trim(),children:"Add"})]})}),u.jsx("div",{className:"units-list",children:(i.units[ee]??[]).map((se,ce)=>u.jsxs("div",{className:"unit-item",children:[u.jsx("span",{className:"unit-text",children:se}),u.jsx("button",{onClick:()=>Z(ee,se),className:"btn btn-danger btn-sm",title:"Remove unit",children:"✕"})]},ce))})]},ee))]})})]})]})},kS=({submissions:i,onReviewSubmission:e,currentUserId:t})=>{const[r,o]=Y.useState(null),[l,c]=Y.useState(""),[h,f]=Y.useState("pending"),p=i.filter(D=>h==="all"||D.status===h),g=i.filter(D=>D.status==="pending").length,y=i.filter(D=>D.status==="approved").length,w=i.filter(D=>D.status==="rejected").length,S=i.filter(D=>D.status==="needs_revision").length,k=D=>{const R=Sy(D);return R?.fullName||R?.username||D};gi.useEffect(()=>{r&&(p.some(R=>R.id===r.id)||(o(null),c("")))},[h,r,p]),gi.useEffect(()=>{console.log("=== REVIEWER FILTER DEBUG ==="),console.log("Current filterStatus:",h),console.log("Total submissions:",i.length),console.log("Submissions by status:",{pending:i.filter(D=>D.status==="pending").length,approved:i.filter(D=>D.status==="approved").length,rejected:i.filter(D=>D.status==="rejected").length,needs_revision:i.filter(D=>D.status==="needs_revision").length}),console.log("All submissions:",i.map(D=>({id:D.id,status:D.status,submittedBy:D.submittedBy}))),console.log("Filtered submissions:",p.map(D=>({id:D.id,status:D.status}))),console.log("============================="),window.debugSubmissions={all:i,filtered:p,filterStatus:h,counts:{pending:i.filter(D=>D.status==="pending").length,approved:i.filter(D=>D.status==="approved").length,rejected:i.filter(D=>D.status==="rejected").length,needs_revision:i.filter(D=>D.status==="needs_revision").length}}},[h,i,p]);const _=D=>{if(!r)return;const R={action:D,comments:l,reviewedBy:t};e(r.id,R),o(null),c("")},N=D=>{switch(D){case"pending":return"status-pending";case"approved":return"status-approved";case"rejected":return"status-rejected";case"needs_revision":return"status-revision";default:return""}},P=D=>new Date(D).toLocaleString(),B=D=>D.reduce((L,W)=>{const Z=W.pointId?`${W.buildingName} - ${W.floor} - ${W.room}`:W.readingType;return L[Z]||(L[Z]=[]),L[Z].push(W),L},{}),$=D=>{const R=(Date.now()-new Date(D.submittedAt).getTime())/36e5;return R>48?"priority-high":R>24?"priority-medium":"priority-normal"};return u.jsxs("div",{className:"reviewer-interface",children:[u.jsxs("header",{className:"reviewer-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:"🔍 Data Quality Review Dashboard"}),u.jsx("p",{children:"Review and approve submitted building readings for data integrity"})]}),u.jsxs("div",{className:"review-stats",children:[u.jsxs("div",{className:"stat-card pending",children:[u.jsx("div",{className:"stat-number",children:g}),u.jsx("div",{className:"stat-label",children:"Pending Review"})]}),u.jsxs("div",{className:"stat-card approved",children:[u.jsx("div",{className:"stat-number",children:y}),u.jsx("div",{className:"stat-label",children:"Approved"})]}),u.jsxs("div",{className:"stat-card rejected",children:[u.jsx("div",{className:"stat-number",children:w}),u.jsx("div",{className:"stat-label",children:"Rejected"})]}),u.jsxs("div",{className:"stat-card revision",children:[u.jsx("div",{className:"stat-number",children:S}),u.jsx("div",{className:"stat-label",children:"Need Revision"})]})]})]}),u.jsxs("div",{className:"reviewer-controls",children:[u.jsx("div",{className:"filter-section",children:u.jsxs("label",{children:["View Status:",u.jsxs("select",{value:h,onChange:D=>f(D.target.value),children:[u.jsxs("option",{value:"pending",children:["⏳ Pending Review (",g,")"]}),u.jsxs("option",{value:"approved",children:["✅ Approved (",y,")"]}),u.jsxs("option",{value:"rejected",children:["❌ Rejected (",w,")"]}),u.jsxs("option",{value:"needs_revision",children:["🔄 Needs Revision (",S,")"]}),u.jsxs("option",{value:"all",children:["📋 All Submissions (",i.length,")"]})]})]})}),g>0&&h==="pending"&&u.jsxs("div",{className:"priority-notice",children:[u.jsx("span",{className:"priority-icon",children:"⚡"}),u.jsxs("span",{children:["You have ",g," submission",g!==1?"s":""," waiting for review"]})]})]}),u.jsxs("div",{className:"reviewer-content",children:[u.jsxs("div",{className:"submissions-queue",children:[u.jsxs("h3",{children:[h==="all"?"All Submissions":h==="pending"?"Review Queue":h==="approved"?"Approved Submissions":h==="rejected"?"Rejected Submissions":"Revision Requests","(",p.length,")"]}),p.length===0?u.jsxs("div",{className:"empty-queue",children:[u.jsx("div",{className:"empty-icon",children:"📭"}),u.jsx("h4",{children:"No submissions found"}),u.jsx("p",{children:h==="pending"?"Great job! No submissions are currently waiting for review.":h==="approved"?"No submissions have been approved yet. Review and approve some pending submissions to see them here.":h==="rejected"?"No submissions have been rejected yet.":h==="needs_revision"?"No submissions are currently awaiting revision.":`No submissions with "${h}" status found.`}),u.jsxs("div",{style:{fontSize:"0.8rem",color:"#495057",marginTop:"8px"},children:["Total submissions in system: ",i.length," | Current filter: ",h," | Filtered results: ",p.length]})]}):u.jsx("div",{className:"submissions-list",children:p.map(D=>u.jsxs("div",{className:`submission-item ${r?.id===D.id?"selected":""} ${$(D)}`,onClick:()=>o(D),children:[u.jsxs("div",{className:"submission-main",children:[u.jsxs("div",{className:"submission-header",children:[u.jsxs("div",{className:"submission-title",children:[u.jsx("strong",{children:D.listName||"Custom Entry"}),u.jsx("span",{className:`status-badge ${N(D.status)}`,children:D.status.replace("_"," ").toUpperCase()})]}),u.jsx("div",{className:"submission-time",children:P(D.submittedAt)})]}),u.jsxs("div",{className:"submission-details",children:[u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{className:"detail-label",children:"Submitted by:"}),u.jsx("span",{className:"detail-value",children:k(D.submittedBy)})]}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{className:"detail-label",children:"Data points:"}),u.jsx("span",{className:"detail-value",children:D.readings.length})]}),D.submissionNotes&&u.jsxs("div",{className:"submission-note",children:[u.jsx("span",{className:"note-icon",children:"💬"}),u.jsx("span",{children:D.submissionNotes})]})]})]}),D.status!=="pending"&&D.reviewComments&&u.jsxs("div",{className:"review-history",children:[u.jsxs("div",{className:"review-comment",children:[u.jsx("strong",{children:"Review:"})," ",D.reviewComments]}),u.jsxs("div",{className:"review-meta",children:["By ",D.reviewerName||(D.reviewedBy?k(D.reviewedBy):"Unknown")," on ",D.reviewedAt&&P(D.reviewedAt)]})]})]},D.id))})]}),r&&u.jsxs("div",{className:"submission-review-panel",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("h3",{children:"Review Details"}),u.jsx("button",{className:"close-panel",onClick:()=>o(null),children:"✕"})]}),u.jsxs("div",{className:"submission-metadata",children:[u.jsxs("div",{className:"meta-grid",children:[u.jsxs("div",{className:"meta-item",children:[u.jsx("label",{children:"Submission ID:"}),u.jsx("span",{children:r.id})]}),u.jsxs("div",{className:"meta-item",children:[u.jsx("label",{children:"Status:"}),u.jsx("span",{className:`status-badge ${N(r.status)}`,children:r.status.replace("_"," ").toUpperCase()})]}),u.jsxs("div",{className:"meta-item",children:[u.jsx("label",{children:"Submitted By:"}),u.jsx("span",{children:k(r.submittedBy)})]}),u.jsxs("div",{className:"meta-item",children:[u.jsx("label",{children:"Submission Time:"}),u.jsx("span",{children:P(r.submittedAt)})]}),r.listName&&u.jsxs("div",{className:"meta-item",children:[u.jsx("label",{children:"Reading List:"}),u.jsx("span",{children:r.listName})]}),u.jsxs("div",{className:"meta-item",children:[u.jsx("label",{children:"Total Readings:"}),u.jsx("span",{children:r.readings.length})]})]}),r.submissionNotes&&u.jsxs("div",{className:"submission-notes",children:[u.jsx("label",{children:"Submitter Notes:"}),u.jsx("div",{className:"notes-content",children:r.submissionNotes})]}),r.status!=="pending"&&r.reviewedAt&&u.jsxs("div",{className:"review-information",children:[u.jsx("h4",{children:"Review Information"}),u.jsxs("div",{className:"review-meta-grid",children:[u.jsxs("div",{className:"meta-item",children:[u.jsx("label",{children:"Review Status:"}),u.jsx("span",{className:`status-badge ${N(r.status)}`,children:r.status.replace("_"," ").toUpperCase()})]}),u.jsxs("div",{className:"meta-item",children:[u.jsx("label",{children:"Reviewed By:"}),u.jsx("span",{children:r.reviewerName||(r.reviewedBy?k(r.reviewedBy):"Unknown")})]}),u.jsxs("div",{className:"meta-item",children:[u.jsx("label",{children:"Review Date:"}),u.jsx("span",{children:P(r.reviewedAt)})]}),r.reviewComments&&u.jsxs("div",{className:"meta-item full-width",children:[u.jsx("label",{children:"Review Comments:"}),u.jsx("div",{className:"review-comments-display",children:r.reviewComments})]})]})]})]}),u.jsxs("div",{className:"readings-review",children:[u.jsx("h4",{children:"Data for Review"}),Object.entries(B(r.readings)).map(([D,R])=>u.jsxs("div",{className:"reading-group",children:[u.jsx("h5",{children:D}),u.jsxs("table",{className:"readings-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Type"}),u.jsx("th",{children:"Location"}),u.jsx("th",{children:"Value"}),u.jsx("th",{children:"Unit"}),u.jsx("th",{children:"Time"}),u.jsx("th",{children:"Notes"})]})}),u.jsx("tbody",{children:R.map(L=>u.jsxs("tr",{children:[u.jsx("td",{children:L.readingType}),u.jsxs("td",{children:[L.buildingName," - ",L.floor," - ",L.room]}),u.jsx("td",{className:"value-cell",children:L.value}),u.jsx("td",{children:L.unit}),u.jsx("td",{children:P(L.timestamp)}),u.jsx("td",{children:L.notes||"—"})]},L.id))})]})]},D))]}),r.status==="pending"&&u.jsxs("div",{className:"review-actions",children:[u.jsxs("div",{className:"comments-section",children:[u.jsx("label",{htmlFor:"reviewComments",children:"Review Comments:"}),u.jsx("textarea",{id:"reviewComments",value:l,onChange:D=>c(D.target.value),placeholder:"Add comments about data quality, accuracy, or any issues found...",rows:4})]}),u.jsxs("div",{className:"action-buttons",children:[u.jsx("button",{className:"action-approve",onClick:()=>_("approve"),title:"Approve this submission",children:"✅ Approve Data"}),u.jsx("button",{className:"action-revision",onClick:()=>_("request_revision"),title:"Request corrections",children:"🔄 Request Revision"}),u.jsx("button",{className:"action-reject",onClick:()=>_("reject"),title:"Reject this submission",children:"❌ Reject"})]})]}),r.status!=="pending"&&r.reviewComments&&u.jsxs("div",{className:"previous-review",children:[u.jsx("h4",{children:"Previous Review"}),u.jsxs("div",{className:"review-details",children:[u.jsxs("div",{className:"review-comment",children:[u.jsx("strong",{children:"Comments:"})," ",r.reviewComments]}),u.jsxs("div",{className:"review-signature",children:[u.jsx("strong",{children:"Reviewed by:"})," ",r.reviewerName||(r.reviewedBy?k(r.reviewedBy):"Unknown")," on ",r.reviewedAt&&P(r.reviewedAt)]})]})]})]})]})]})},NS=({onLogin:i})=>{const[e,t]=Y.useState(""),[r,o]=Y.useState(""),[l,c]=Y.useState(""),[h,f]=Y.useState(null),[p,g]=Y.useState(""),[y,w]=Y.useState(!1),S=P=>{P.preventDefault(),w(!0),g(""),setTimeout(()=>{const B=Sm(e,r);B?(f(B),c(""),g("")):(g("Invalid username or password"),f(null),c("")),w(!1)},500)},k=P=>{P.preventDefault(),h&&l&&(_y(h,l)?i(h,l):g("You do not have permission to access this role"))},_=()=>{f(null),c(""),t(""),o(""),g("")},N=P=>P.roles.sort((B,$)=>{const D={superadmin:0,admin:1,reviewer:2,user:3};return(D[B]||999)-(D[$]||999)});return u.jsx("div",{className:"login-container",children:u.jsxs("div",{className:"login-card",children:[u.jsxs("div",{className:"login-header",children:[u.jsx("h1",{children:"📊 Building Readings System"}),u.jsx("p",{children:"Please log in to access the system"})]}),h?u.jsxs("div",{className:"role-selection",children:[u.jsxs("div",{className:"user-info",children:[u.jsxs("h2",{children:["👋 Welcome, ",h.fullName||h.username,"!"]}),u.jsx("p",{className:"user-email",children:h.email})]}),u.jsxs("form",{onSubmit:k,className:"role-form",children:[u.jsx("h3",{children:"🎯 Select Your Role"}),u.jsx("p",{children:"Choose the role you want to use for this session:"}),u.jsx("div",{className:"role-options",children:N(h).map(P=>u.jsxs("label",{className:"role-option",children:[u.jsx("input",{type:"radio",name:"role",value:P,checked:l===P,onChange:B=>c(B.target.value)}),u.jsxs("div",{className:"role-card",children:[u.jsx("div",{className:"role-title",children:kr(P)}),u.jsxs("div",{className:"role-description",children:[P==="superadmin"&&"Full system configuration and user management",P==="admin"&&"Data management and reading point configuration",P==="user"&&"Data collection and basic viewing"]})]})]},P))}),p&&u.jsx("div",{className:"error-message",children:p}),u.jsxs("div",{className:"form-actions",children:[u.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:!l,children:["🚀 Continue as ",l?kr(l):"..."]}),u.jsx("button",{type:"button",className:"btn btn-secondary",onClick:_,children:"← Back to Login"})]})]})]}):u.jsxs("form",{onSubmit:S,className:"login-form",children:[u.jsx("h2",{children:"🔐 Authentication"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"username",children:"Username:"}),u.jsx("input",{id:"username",type:"text",value:e,onChange:P=>t(P.target.value),placeholder:"Enter your username",required:!0,disabled:y})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Password:"}),u.jsx("input",{id:"password",type:"password",value:r,onChange:P=>o(P.target.value),placeholder:"Enter your password",required:!0,disabled:y})]}),p&&u.jsx("div",{className:"error-message",children:p}),u.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y||!e||!r,children:y?"🔄 Authenticating...":"🔑 Authenticate"}),u.jsxs("div",{className:"demo-credentials",children:[u.jsx("h4",{children:"🔑 Available Test Credentials"}),u.jsx("p",{className:"demo-note",children:"Click any credential to auto-fill the form"}),u.jsxs("div",{className:"credentials-grid",children:[u.jsxs("div",{className:"credential-item superadmin",onClick:()=>{t("superadmin"),o("super123")},children:[u.jsx("div",{className:"role-badge",children:"🔧 Super Admin"}),u.jsx("div",{className:"credential-text",children:"superadmin / super123"}),u.jsx("div",{className:"role-desc",children:"System configuration & management"})]}),u.jsxs("div",{className:"credential-item admin",onClick:()=>{t("admin"),o("admin123")},children:[u.jsx("div",{className:"role-badge",children:"⚙️ Administrator"}),u.jsx("div",{className:"credential-text",children:"admin / admin123"}),u.jsx("div",{className:"role-desc",children:"Data management & direct entry"})]}),u.jsxs("div",{className:"credential-item reviewer",onClick:()=>{t("reviewer"),o("reviewer123")},children:[u.jsx("div",{className:"role-badge",children:"🔍 Reviewer"}),u.jsx("div",{className:"credential-text",children:"reviewer / reviewer123"}),u.jsx("div",{className:"role-desc",children:"Quality control & data approval"})]}),u.jsxs("div",{className:"credential-item supervisor",onClick:()=>{t("supervisor"),o("supervisor123")},children:[u.jsx("div",{className:"role-badge",children:"👨‍💼 Supervisor"}),u.jsx("div",{className:"credential-text",children:"supervisor / supervisor123"}),u.jsx("div",{className:"role-desc",children:"Admin + Reviewer capabilities"})]}),u.jsxs("div",{className:"credential-item manager",onClick:()=>{t("manager"),o("manager123")},children:[u.jsx("div",{className:"role-badge",children:"🏢 Manager"}),u.jsx("div",{className:"credential-text",children:"manager / manager123"}),u.jsx("div",{className:"role-desc",children:"Building management & admin"})]}),u.jsxs("div",{className:"credential-item user",onClick:()=>{t("user"),o("user123")},children:[u.jsx("div",{className:"role-badge",children:"👤 User"}),u.jsx("div",{className:"credential-text",children:"user / user123"}),u.jsx("div",{className:"role-desc",children:"Data entry & submissions"})]}),u.jsxs("div",{className:"credential-item technician",onClick:()=>{t("technician"),o("tech123")},children:[u.jsx("div",{className:"role-badge",children:"🔧 Technician"}),u.jsx("div",{className:"credential-text",children:"technician / tech123"}),u.jsx("div",{className:"role-desc",children:"Field data collection"})]})]})]})]})]})})};class CS{config;settings;constructor(e,t){this.config=e,this.settings=t}async notifyReviewersOfNewSubmission(e,t,r){if(!this.settings.enabled||!this.settings.notifyOnSubmission)return console.log("Email notifications disabled or submission notifications disabled"),!1;const o=t.filter(c=>c.email&&c.roles.includes("reviewer")).map(c=>c.email);if(o.length===0)return console.warn("No reviewers with email addresses found"),!1;const l=this.getNewSubmissionTemplate(e,r);try{return await this.sendEmail(o,l),console.log(`✅ Email notification sent to ${o.length} reviewers`),!0}catch(c){return console.error("Failed to send email notification:",c),!1}}async notifySubmitterOfStatusChange(e,t,r,o){if(!this.settings.enabled)return!1;let l=!1;if(e.status==="approved"&&this.settings.notifyOnApproval&&(l=!0),e.status==="rejected"&&this.settings.notifyOnRejection&&(l=!0),e.status==="needs_revision"&&this.settings.notifyOnRevisionRequest&&(l=!0),!l)return!1;const c=this.getStatusChangeTemplate(e,r,o);try{return await this.sendEmail([t],c),console.log(`✅ Status change notification sent to ${t}`),!0}catch(h){return console.error("Failed to send status change notification:",h),!1}}getNewSubmissionTemplate(e,t){const r=e.readings.length;return{subject:`🔍 New Reading Submission for Review - ${r} readings`,body:`
        <h2>📊 New Building Readings Submission</h2>
        
        <p>A new submission has been received and requires your review:</p>
        
        <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; margin: 15px 0;">
          <strong>Submission Details:</strong><br>
          📋 <strong>Submitted by:</strong> ${t}<br>
          📅 <strong>Submitted at:</strong> ${new Date(e.submittedAt).toLocaleString()}<br>
          📊 <strong>Number of readings:</strong> ${r}<br>
          ${e.listName?`📝 <strong>Reading list:</strong> ${e.listName}<br>`:""}
          ${e.submissionNotes?`💬 <strong>Notes:</strong> ${e.submissionNotes}<br>`:""}
        </div>

        <div style="background: #e8f4fd; padding: 15px; border-radius: 5px; margin: 15px 0;">
          <strong>Reading Summary:</strong><br>
          ${this.generateReadingSummary(e.readings)}
        </div>

        <p>Please log into the Building Readings App to review this submission.</p>
        
        <div style="margin-top: 20px; padding: 10px; background: #fff3cd; border-radius: 5px;">
          <strong>⚡ Quick Actions Needed:</strong><br>
          • Review the submitted readings for accuracy<br>
          • Check values against expected ranges<br>
          • Verify all required measurements are included<br>
          • Approve, reject, or request revisions as needed
        </div>

        <hr style="margin: 20px 0;">
        <p style="font-size: 12px; color: #666;">
          This is an automated notification from the Building Readings Management System.<br>
          You received this because you are registered as a reviewer.
        </p>
      `}}getStatusChangeTemplate(e,t,r){const l={approved:{emoji:"✅",text:"Approved",color:"#d4edda"},rejected:{emoji:"❌",text:"Rejected",color:"#f8d7da"},needs_revision:{emoji:"🔄",text:"Needs Revision",color:"#fff3cd"},pending:{emoji:"⏳",text:"Pending",color:"#e2e3e5"}}[e.status]||{emoji:"📋",text:e.status,color:"#e2e3e5"};return{subject:`${l.emoji} Submission ${l.text} - ${e.readings.length} readings`,body:`
        <h2>${l.emoji} Submission Status Update</h2>
        
        <p>Dear ${t},</p>
        <p>Your building readings submission has been reviewed:</p>
        
        <div style="background: ${l.color}; padding: 15px; border-radius: 5px; margin: 15px 0;">
          <strong>Status:</strong> ${l.emoji} ${l.text}<br>
          <strong>Reviewed by:</strong> ${r}<br>
          <strong>Reviewed at:</strong> ${e.reviewedAt?new Date(e.reviewedAt).toLocaleString():"Just now"}
        </div>

        <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; margin: 15px 0;">
          <strong>Original Submission:</strong><br>
          📅 <strong>Submitted:</strong> ${new Date(e.submittedAt).toLocaleString()}<br>
          📊 <strong>Readings:</strong> ${e.readings.length}<br>
          ${e.listName?`📝 <strong>List:</strong> ${e.listName}<br>`:""}
        </div>

        ${e.reviewComments?`
        <div style="background: #e8f4fd; padding: 15px; border-radius: 5px; margin: 15px 0;">
          <strong>💬 Reviewer Comments:</strong><br>
          ${e.reviewComments}
        </div>
        `:""}

        ${e.status==="approved"?`
        <div style="background: #d4edda; padding: 15px; border-radius: 5px; margin: 15px 0;">
          <strong>✅ Next Steps:</strong><br>
          Your readings have been approved and added to the system. No further action is required.
        </div>
        `:""}

        ${e.status==="needs_revision"?`
        <div style="background: #fff3cd; padding: 15px; border-radius: 5px; margin: 15px 0;">
          <strong>🔄 Next Steps:</strong><br>
          Please review the comments above and resubmit your readings with the requested corrections.
        </div>
        `:""}

        <hr style="margin: 20px 0;">
        <p style="font-size: 12px; color: #666;">
          This is an automated notification from the Building Readings Management System.
        </p>
      `}}generateReadingSummary(e){const t={};return e.forEach(r=>{const o=r.readingType;t[o]||(t[o]=[]),t[o].push(r)}),Object.entries(t).map(([r,o])=>{const l=o.length;return`• ${r.replace("_"," ").replace(/\b\w/g,h=>h.toUpperCase())}: ${l} reading${l!==1?"s":""}`}).join("<br>")}async sendEmail(e,t){console.log(`
📧 EMAIL NOTIFICATION SENT`),console.log("=========================="),console.log(`📩 To: ${e.join(", ")}`),console.log(`📩 From: ${this.config.fromName||"Building Readings System"} <${this.config.fromEmail}>`),console.log(`📩 Subject: ${t.subject}`),console.log(`
📝 Email Body:`),console.log(t.body.replace(/<[^>]*>/g,"").trim()),console.log(`==========================
`),await new Promise(r=>setTimeout(r,100))}updateConfig(e){this.config={...this.config,...e}}updateSettings(e){this.settings={...this.settings,...e}}getConfig(){const{password:e,...t}=this.config;return t}getSettings(){return{...this.settings}}}const PS={fromEmail:"noreply@buildingreadings.app",fromName:"Building Readings System"},MS={enabled:!0,notifyOnSubmission:!0,notifyOnApproval:!0,notifyOnRejection:!0,notifyOnRevisionRequest:!0},gm=new CS(PS,MS);function TS(){const[i,e]=Y.useState([]),[t,r]=Y.useState("all"),[o,l]=Y.useState("all"),[c,h]=Y.useState("line"),[f,p]=Y.useState(!0),[g,y]=Y.useState({isAuthenticated:!1,currentUser:null,currentRole:null}),[w,S]=Y.useState(xp),[k,_]=Y.useState([]),[N,P]=Y.useState([]),[B,$]=Y.useState([]);window.debugLocalStorage=()=>{console.log("=== localStorage Debug ==="),console.log("buildingReadings:",localStorage.getItem("buildingReadings")),console.log("readingPoints:",localStorage.getItem("readingPoints")),console.log("readingPointLists:",localStorage.getItem("readingPointLists")),console.log("fieldDefinitions:",localStorage.getItem("fieldDefinitions")),console.log("reviewSubmissions:",localStorage.getItem("reviewSubmissions")),console.log("=========================")},window.clearLocalStorage=()=>{console.log("Clearing all localStorage data..."),localStorage.removeItem("buildingReadings"),localStorage.removeItem("readingPoints"),localStorage.removeItem("readingPointLists"),localStorage.removeItem("fieldDefinitions"),localStorage.removeItem("reviewSubmissions"),console.log("localStorage cleared! Refresh the page to see dummy data.")},window.resetToDummyData=()=>{console.log("Resetting to dummy data..."),localStorage.removeItem("buildingReadings"),localStorage.removeItem("readingPoints"),localStorage.removeItem("readingPointLists"),localStorage.removeItem("fieldDefinitions"),localStorage.removeItem("reviewSubmissions"),console.log("Data cleared! Refreshing page to load dummy data..."),window.location.reload()};const D=(I,H)=>{const U={isAuthenticated:!0,currentUser:I,currentRole:H};y(U),jy(U)},R=()=>{y({isAuthenticated:!1,currentUser:null,currentRole:null}),Yh()};Y.useEffect(()=>{Yh(),y({isAuthenticated:!1,currentUser:null,currentRole:null});try{by();const I=localStorage.getItem("buildingReadings"),H=localStorage.getItem("readingPoints"),U=localStorage.getItem("readingPointLists"),C=localStorage.getItem("fieldDefinitions"),E=localStorage.getItem("reviewSubmissions");if(console.log("Loading data from localStorage..."),console.log("Auth state: forced re-authentication"),console.log("Raw savedPoints:",H),console.log("Saved readings:",I?JSON.parse(I).length:0),console.log("Saved points:",H?JSON.parse(H).length:0),console.log("Saved lists:",U?JSON.parse(U).length:0),console.log("Saved field definitions:",C?"loaded":"using defaults"),console.log("Saved review submissions:",E?JSON.parse(E).length:0),I){const G=JSON.parse(I);e(G)}else{const G=[{id:"reading-1",buildingName:"Main Office Building",floor:"Ground Floor",room:"Lobby",readingType:"temperature",value:22.5,unit:"°C",timestamp:new Date(Date.now()-72e5).toISOString(),pointId:"point-1",userInfo:"admin"},{id:"reading-2",buildingName:"Main Office Building",floor:"First Floor",room:"Server Room",readingType:"humidity",value:45.2,unit:"%",timestamp:new Date(Date.now()-36e5).toISOString(),pointId:"point-2",userInfo:"admin"},{id:"reading-3",buildingName:"Main Office Building",floor:"Second Floor",room:"Conference Room A",readingType:"lighting",value:750,unit:"lux",timestamp:new Date(Date.now()-108e5).toISOString(),pointId:"point-3b",userInfo:"admin"},{id:"reading-4",buildingName:"Main Office Building",floor:"Ground Floor",room:"Lobby",readingType:"occupancy",value:"SAT",unit:"people",timestamp:new Date(Date.now()-18e5).toISOString(),pointId:"point-1b",userInfo:"admin",notes:"Normal occupancy levels observed"},{id:"reading-5",buildingName:"Main Office Building",floor:"Second Floor",room:"Conference Room A",readingType:"energy",value:"UNSAT",unit:"kWh",timestamp:new Date(Date.now()-27e5).toISOString(),pointId:"point-3",userInfo:"admin",notes:"Energy consumption higher than expected"},{id:"reading-6",buildingName:"Main Office Building",floor:"Ground Floor",room:"Kitchen",readingType:"gas",value:"SAT",unit:"m³",timestamp:new Date(Date.now()-12e5).toISOString(),pointId:"point-4b",userInfo:"admin",notes:"Gas consumption within normal range"},{id:"reading-7",buildingName:"Main Office Building",floor:"Basement",room:"Parking Garage",readingType:"energy",value:"SAT",unit:"kWh",timestamp:new Date(Date.now()-6e5).toISOString(),pointId:"point-5b",userInfo:"admin",notes:"Exhaust fan energy consumption satisfactory"},{id:"reading-8",buildingName:"Main Office Building",floor:"Ground Floor",room:"Lobby",readingType:"temperature",value:21.8,unit:"°C",timestamp:new Date(Date.now()-864e5).toISOString(),pointId:"point-1",userInfo:"admin"},{id:"reading-9",buildingName:"Main Office Building",floor:"Ground Floor",room:"Lobby",readingType:"occupancy",value:"UNSAT",unit:"people",timestamp:new Date(Date.now()-432e5).toISOString(),pointId:"point-1b",userInfo:"admin",notes:"Overcrowding in lobby area"},{id:"reading-10",buildingName:"Main Office Building",floor:"Second Floor",room:"Conference Room A",readingType:"energy",value:"SAT",unit:"kWh",timestamp:new Date(Date.now()-216e5).toISOString(),pointId:"point-3",userInfo:"admin",notes:"Energy usage within acceptable limits"}];console.log("📊 DUMMY DATA LOADED: 10 sample readings created (mix of numeric and SAT/UNSAT)!"),e(G)}if(H){const G=JSON.parse(H);console.log("Parsed points:",G),P(G)}else{const G=[{id:"point-1",name:"Main Lobby Temperature Sensor",buildingName:"Main Office Building",floor:"Ground Floor",room:"Lobby",readingType:"temperature",unit:"°C",component:"HVAC-01",description:"Primary temperature monitoring for lobby HVAC system",isActive:!0,createdAt:new Date().toISOString(),validationType:"range",minValue:18,maxValue:25},{id:"point-1b",name:"Lobby Occupancy Counter",buildingName:"Main Office Building",floor:"Ground Floor",room:"Lobby",readingType:"occupancy",unit:"people",component:"Security-01",description:"People counting system for lobby area traffic monitoring",isActive:!0,createdAt:new Date().toISOString(),validationType:"sat_unsat",minValue:0,maxValue:150},{id:"point-2",name:"Server Room Humidity Monitor",buildingName:"Main Office Building",floor:"First Floor",room:"Server Room",readingType:"humidity",unit:"%",component:"Environmental-01",description:"Critical humidity monitoring for server equipment protection",isActive:!0,createdAt:new Date().toISOString(),validationType:"range",minValue:40,maxValue:60},{id:"point-2b",name:"Server Room Temperature Control",buildingName:"Main Office Building",floor:"First Floor",room:"Server Room",readingType:"temperature",unit:"°C",component:"HVAC-02",description:"Precision temperature control for server rack cooling",isActive:!0,createdAt:new Date().toISOString(),validationType:"range",minValue:16,maxValue:22},{id:"point-3",name:"Conference Room Energy Meter",buildingName:"Main Office Building",floor:"Second Floor",room:"Conference Room A",readingType:"energy",unit:"kWh",component:"Electrical-02",description:"Energy consumption monitoring for conference room electrical systems",isActive:!0,createdAt:new Date().toISOString(),validationType:"sat_unsat",minValue:0,maxValue:50},{id:"point-3b",name:"Conference Room Lighting Control",buildingName:"Main Office Building",floor:"Second Floor",room:"Conference Room A",readingType:"lighting",unit:"lux",component:"Lighting-01",description:"Automated lighting level monitoring and control system",isActive:!0,createdAt:new Date().toISOString(),validationType:"range",minValue:300,maxValue:1e3},{id:"point-4",name:"Kitchen Water Flow Sensor",buildingName:"Main Office Building",floor:"Ground Floor",room:"Kitchen",readingType:"water",unit:"L",component:"Plumbing-01",description:"Water usage monitoring for kitchen facilities",isActive:!0,createdAt:new Date().toISOString(),validationType:"range",minValue:0,maxValue:500},{id:"point-4b",name:"Kitchen Gas Consumption Meter",buildingName:"Main Office Building",floor:"Ground Floor",room:"Kitchen",readingType:"gas",unit:"m³",component:"Gas-01",description:"Natural gas consumption monitoring for kitchen equipment",isActive:!0,createdAt:new Date().toISOString(),validationType:"sat_unsat",minValue:0,maxValue:100},{id:"point-5",name:"Parking Garage Air Quality Monitor",buildingName:"Main Office Building",floor:"Basement",room:"Parking Garage",readingType:"air_quality",unit:"ppm",component:"Ventilation-01",description:"Air quality monitoring for parking garage ventilation system",isActive:!0,createdAt:new Date().toISOString(),validationType:"range",minValue:0,maxValue:1e3},{id:"point-5b",name:"Parking Garage Exhaust Fan Monitor",buildingName:"Main Office Building",floor:"Basement",room:"Parking Garage",readingType:"energy",unit:"kWh",component:"Ventilation-02",description:"Energy consumption monitoring for parking garage exhaust fans",isActive:!0,createdAt:new Date().toISOString(),validationType:"sat_unsat",minValue:0,maxValue:25}];console.log("🎯 Creating default reading points:",G),console.log("📊 DUMMY DATA LOADED: 10 reading points created (2 per room)!"),P(G)}if(U){const G=JSON.parse(U);$(G)}if(C){const G=JSON.parse(C);console.log("Parsed field definitions:",G),S(G)}if(E){const G=JSON.parse(E);console.log("Parsed review submissions:",G),_(G)}p(!1)}catch(I){console.error("Error loading data from localStorage:",I),p(!1)}},[]),Y.useEffect(()=>{if(!f)try{console.log("Saving readings to localStorage:",i.length),localStorage.setItem("buildingReadings",JSON.stringify(i))}catch(I){console.error("Error saving readings to localStorage:",I)}},[i,f]),Y.useEffect(()=>{if(!f)try{console.log("Saving reading points to localStorage:",N.length,N),localStorage.setItem("readingPoints",JSON.stringify(N));const I=localStorage.getItem("readingPoints");console.log("Verified saved points:",I?JSON.parse(I).length:0)}catch(I){console.error("Error saving reading points to localStorage:",I)}},[N,f]),Y.useEffect(()=>{f||localStorage.setItem("readingPointLists",JSON.stringify(B))},[B,f]),Y.useEffect(()=>{f||(console.log("Saving field definitions to localStorage:",w),localStorage.setItem("fieldDefinitions",JSON.stringify(w)))},[w,f]),Y.useEffect(()=>{f||localStorage.setItem("reviewSubmissions",JSON.stringify(k))},[k,f]),Y.useEffect(()=>{let I=i;t!=="all"&&(I=I.filter(H=>H.readingType===t)),o!=="all"&&(I=I.filter(H=>H.buildingName===o)),I.sort((H,U)=>new Date(U.timestamp).getTime()-new Date(H.timestamp).getTime()),e(I)},[i,t,o]);const L=I=>{e(H=>[...H,...I])},W=I=>{e(H=>H.filter(U=>U.id!==I))},Z=I=>{console.log("Adding reading point:",I),P(H=>{const U=[...H,I];return console.log("New points array:",U),U})},fe=(I,H)=>{P(U=>U.map(C=>C.id===I?{...C,...H}:C))},be=I=>{P(H=>H.filter(U=>U.id!==I))},ye=I=>{$(H=>[...H,I])},re=(I,H)=>{$(U=>U.map(C=>C.id===I?{...C,...H,updatedAt:new Date().toISOString()}:C))},Me=I=>{$(H=>H.filter(U=>U.id!==I))},ee=(I,H)=>{r(I),l(H)},se=I=>{h(I)},ce=async I=>{const H={...I,id:`review-${Date.now()}`,status:"pending",submittedAt:new Date().toISOString()};_(U=>[...U,H]);try{const U=Fc(),C=U.filter(oe=>oe.roles.includes("reviewer")),E=U.find(oe=>oe.id===I.submittedBy),G=E?.fullName||E?.username||"Unknown User";await gm.notifyReviewersOfNewSubmission(H,C,G)}catch(U){console.error("Failed to send email notifications:",U)}},Q=async(I,H)=>{_(U=>U.map(C=>{if(C.id===I){const E=H.action==="approve"?"approved":H.action==="reject"?"rejected":"needs_revision",G=Fc(),oe=G.find(je=>je.id===H.reviewedBy),ie=oe?.fullName||oe?.username||"Unknown Reviewer",ue={...C,status:E,reviewedBy:H.reviewedBy,reviewerName:ie,reviewedAt:new Date().toISOString(),reviewComments:H.comments};return H.action==="approve"&&e(je=>[...je,...C.readings]),(async()=>{try{const je=G.find(Pe=>Pe.id===C.submittedBy);if(je?.email){const Pe=je.fullName||je.username;await gm.notifySubmitterOfStatusChange(ue,je.email,Pe,ie)}}catch(je){console.error("Failed to send status change notification:",je)}})(),ue}return C}))};return u.jsx("div",{className:"App",children:g.isAuthenticated?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"auth-header",children:[u.jsxs("div",{className:"user-info",children:[u.jsxs("span",{className:"welcome-text",children:["Welcome, ",g.currentUser?.fullName||g.currentUser?.username]}),u.jsxs("span",{className:"current-role",children:[g.currentRole==="superadmin"&&"🔧 Super Admin",g.currentRole==="admin"&&"⚙️ Administrator",g.currentRole==="reviewer"&&"🔍 Reviewer",g.currentRole==="user"&&"👤 User"]})]}),u.jsx("button",{className:"logout-btn",onClick:R,children:"🚪 Logout"})]}),g.currentRole==="superadmin"?u.jsx(jS,{fieldDefinitions:w,onUpdateFieldDefinitions:S,allPoints:N}):g.currentRole==="reviewer"?u.jsx(kS,{submissions:k,onReviewSubmission:Q,currentUserId:g.currentUser?.id||""}):g.currentRole==="admin"?u.jsx(yS,{readings:i,readingPoints:N,readingPointLists:B,selectedReadingType:t,selectedBuilding:o,chartType:c,fieldDefinitions:w,currentUserId:g.currentUser?.id,onDeleteReading:W,onAddReadingPoint:Z,onUpdateReadingPoint:fe,onDeleteReadingPoint:be,onAddReadingPointList:ye,onUpdateReadingPointList:re,onDeleteReadingPointList:Me,onFilterChange:ee,onChartTypeChange:se}):u.jsx(wS,{readingPoints:N,initialReadingPointLists:B,onCreateUserList:I=>$(H=>[...H,I]),readings:i,currentUserId:g.currentUser?.id||"",currentUserName:g.currentUser?.fullName||g.currentUser?.username||"",onAddBulkReadings:L,onSubmitForReview:ce})]}):u.jsx(NS,{onLogin:D})})}fv.createRoot(document.getElementById("root")).render(u.jsx(gi.StrictMode,{children:u.jsx(TS,{})}));
